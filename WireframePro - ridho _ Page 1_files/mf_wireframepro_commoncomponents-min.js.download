function MF_Rectangle(){var thisClass=this;thisClass.NAME="MF_Rectangle";thisClass.LABEL="Rectangle";thisClass.GENONLY=false;thisClass.TRANSFORM=false;thisClass.VRESIZE=false;thisClass.HRESIZE=false;thisClass.USEFONT=false;thisClass.ANNOTATION=false;thisClass.MULTILINE=false;thisClass.EDITABLE=false;thisClass.AUTOSIZE=false;thisClass.HIDE=true;thisClass.USEPAGE=true;thisClass.RENDER_ON_MOVE=false;thisClass.RENDER_ON_RESIZE=true;thisClass.RENDER=true;thisClass.templateID="";thisClass.ALLOW_MULTILINK=false;thisClass.x=0;thisClass.y=0;thisClass.width=100;thisClass.height=100;thisClass.eangle=0;thisClass.eid="";thisClass.lid="";thisClass.transformLock=false;thisClass.e2xml=new MF_ComponentXML(this);thisClass.selector=null;thisClass.ecoordinates=null;thisClass.prevEcoordinates=null;thisClass.prevEsize=null;thisClass.esize=null;thisClass.GROUPID="";thisClass.delta=0;thisClass.linkType="";thisClass.link="";thisClass.linkObj=null;thisClass.fillColors=["#FFFFFF","#F0F0F0"];thisClass.fillAlpha=1;thisClass.fillType="solid";thisClass.shadowType="none";thisClass.borderColors=["#000000","#000000","#000000","#000000","#000000"];thisClass.borderWidth=[1,1,1,1,1];thisClass.borderType=["solid","solid","solid","solid","solid"];thisClass.borderShow=true;thisClass.borderRadius=[0,0,0,0,0];thisClass.setVisible=function(val){thisClass.visible=val;if(val){$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).hide();}};thisClass.getVisible=function(){return thisClass.visible;};thisClass.exml=function(){return thisClass.e2xml.formXML();};thisClass.setDefaultSettings=function(){thisClass.e2xml.addPropArray("fillColors",thisClass.fillColors,"String","default");thisClass.e2xml.addPropSingle("fillType",thisClass.fillType,"default");thisClass.e2xml.addPropSingle("fillAlpha",thisClass.fillAlpha,"default");thisClass.e2xml.addPropSingle("shadowType",thisClass.shadowType,"default");thisClass.e2xml.addPropArray("borderColors",thisClass.borderColors,"String","default");thisClass.e2xml.addPropArray("borderWidth",thisClass.borderWidth,"uint","default");thisClass.e2xml.addPropArray("borderType",thisClass.borderType,"String","default");thisClass.e2xml.addPropArray("borderRadius",thisClass.borderRadius,"uint","default");thisClass.e2xml.addPropSingle("borderShow",thisClass.borderShow,"default");};thisClass.getValues=function(){if(thisClass.e2xml.settings.properties.fillColors!=null){thisClass.fillColors=thisClass.e2xml.settings.properties.fillColors;}if(thisClass.e2xml.settings.properties.fillType!=null){thisClass.fillType=thisClass.e2xml.settings.properties.fillType;}if(thisClass.e2xml.settings.properties.fillAlpha!=null){thisClass.fillAlpha=thisClass.e2xml.settings.properties.fillAlpha;}if(thisClass.e2xml.settings.properties.shadowType!=null){thisClass.shadowType=thisClass.e2xml.settings.properties.shadowType;}if(thisClass.e2xml.settings.properties.borderColors!=null){thisClass.borderColors=thisClass.e2xml.settings.properties.borderColors;}if(thisClass.e2xml.settings.properties.borderWidth!=null){thisClass.borderWidth=thisClass.e2xml.settings.properties.borderWidth;}if(thisClass.e2xml.settings.properties.borderType!=null){thisClass.borderType=thisClass.e2xml.settings.properties.borderType;}if(thisClass.e2xml.settings.properties.borderRadius!=null){thisClass.borderRadius=thisClass.e2xml.settings.properties.borderRadius;}if(thisClass.e2xml.settings.properties.borderShow!=null){thisClass.borderShow=thisClass.e2xml.settings.properties.borderShow;}};thisClass.render=function(redraw){if(thisClass.GENONLY){return;}if(!thisClass.RENDER){return;}if(redraw==null){redraw=true;}MF_ComponentUtils.setDimensions(thisClass,thisClass.ecoordinates,thisClass.esize);thisClass.getValues();var rectCode="";var thickness=thisClass.borderWidth[0];if(thisClass.borderType[0]=="none"){thickness=0;}thisClass.delta=(1*thickness)+5;try{thisClass.delta=thisClass.delta+MF_ComponentUtils.computeShadowDelta(thisClass.shadowType);}catch(e){}var cwidth=thisClass.width+(thisClass.delta*2);var cheight=thisClass.height+(thisClass.delta*2);var ctop=thisClass.y-thisClass.delta;var cleft=thisClass.x-thisClass.delta;if(redraw){$("#"+thisClass.eid).remove();rectCode=rectCode+"<canvas class='mfWFCompCls'  id=\""+thisClass.eid+'" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style="pointer-events: none; -webkit-transform: translateZ(0);  position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+"px; top:"+(ctop).toString()+"px; left:"+(cleft).toString()+'px; " > ';rectCode=rectCode+"</canvas>";$("#mfPage"+mf_main.editorController.page.eid).append(rectCode);try{mf_main.editorController.postAddToPage(thisClass.eid);}catch(e){}}else{var ctx_cvs=(document.getElementById(thisClass.eid)).getContext("2d");ctx_cvs.clearRect(0,0,$("#"+thisClass.eid).width(),$("#"+thisClass.eid).height());document.getElementById(thisClass.eid).width=$("#"+thisClass.eid).width();$("#"+thisClass.eid).css("left",cleft);$("#"+thisClass.eid).css("top",ctop);$("#"+thisClass.eid).css("width",cwidth);$("#"+thisClass.eid).css("height",cheight);document.getElementById(thisClass.eid).width=cwidth;document.getElementById(thisClass.eid).height=cheight;}var rad=thisClass.width;if(thisClass.height<thisClass.width){rad=thisClass.height;}var ctx_obj=(document.getElementById(thisClass.eid)).getContext("2d");thickness=parseInt(thickness);if(Math.abs(thickness%2)==1){ctx_obj.translate(0.5,0.5);}var startx=cwidth/2;var starty=cheight/2;ctx_obj.save();MF_ComponentUtils.setComponentShadow(ctx_obj,thisClass.shadowType);ctx_obj.beginPath();if(thisClass.borderRadius[0]==0){ctx_obj.rect(thisClass.delta,thisClass.delta,thisClass.width,thisClass.height);}else{roundedRect2(ctx_obj,thisClass.delta,thisClass.delta,thisClass.width,thisClass.height,thisClass.borderRadius[0]);}ctx_obj.closePath();var defFillColor1=MF_ComponentUtils.hexToRGB(thisClass.fillColors[0],thisClass.fillAlpha);var defFillColor2=MF_ComponentUtils.hexToRGB(thisClass.fillColors[1],thisClass.fillAlpha);if(thisClass.fillType=="linear-vertical"){var grad_Circle1=ctx_obj.createLinearGradient(0,0,0,this.height);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="linear-horizontal"){var grad_Circle1=ctx_obj.createLinearGradient(0,0,this.width,0);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="linear-diagonally"){var grad_Circle1=ctx_obj.createLinearGradient(0,0,this.width,this.height);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="radial"){var grad_Circle1=ctx_obj.createRadialGradient(startx,starty,(rad/2)/2,startx,starty,rad/2);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{ctx_obj.fillStyle=MF_ComponentUtils.hexToRGB(thisClass.fillColors[0],thisClass.fillAlpha);}}}}ctx_obj.fill();ctx_obj.restore();ctx_obj.lineWidth=thickness;if(thisClass.borderType[0]=="dashed"){ctx_obj.setLineDash([thickness*2,4]);}if(thisClass.borderType[0]=="dotted"){ctx_obj.setLineDash([thickness,2]);}if(thisClass.borderType[0]!="none"&&thickness!=0){ctx_obj.strokeStyle=MF_ComponentUtils.hexToRGB(thisClass.borderColors[0],1);ctx_obj.stroke();}MF_Utils.rotate(thisClass.eid,thisClass.eangle);if(thisClass.selector){thisClass.selector.transform(thisClass);}};}function MF_RectangleSettings(){var thisClass=this;thisClass.eid=mf_main.editorController.guidGenerator();thisClass.transformLock=false;thisClass.component=null;thisClass.selector=null;thisClass.RENDERDOM=true;thisClass.showSetting=true;thisClass.transformSettings=null;thisClass.backgroundSettings=null;thisClass.linkSettings=null;thisClass.borderSettings=null;thisClass.shadowSettings=null;thisClass.remove=function(delSet){$("#"+thisClass.eid).hide();if(delSet){try{if(mf_main.MEMFREE){thisClass.transformSettings.remove();thisClass.linkSettings.remove();thisClass.backgroundSettings.remove();thisClass.borderSettings.remove();thisClass.shadowSettings.remove();}}catch(e){console.log("error occured in the component MF_Rectangle.js");}$("#"+thisClass.eid).remove();}};thisClass.setValues=function(){if(thisClass.RENDERDOM){thisClass.render();thisClass.transformSettings=new MF_TransformSettings();thisClass.transformSettings.init(thisClass);thisClass.linkSettings=new MF_LinkSettings();thisClass.linkSettings.init(thisClass);thisClass.backgroundSettings=new MF_BackgroundSettings();thisClass.backgroundSettings.init(thisClass);thisClass.borderSettings=new MF_BorderSettings();thisClass.borderSettings.init(thisClass);thisClass.shadowSettings=new MF_ShadowSettings();thisClass.shadowSettings.init(thisClass);}else{thisClass.transformSettings.init(thisClass);thisClass.linkSettings.init(thisClass);thisClass.backgroundSettings.init(thisClass);thisClass.borderSettings.init(thisClass);thisClass.shadowSettings.init(thisClass);thisClass.setupEvents();$("#"+thisClass.eid).show();}};thisClass.updateTransform=function(noscale){thisClass.transformSettings.updateTransform(noscale);};thisClass.setupEvents=function(){if(thisClass.RENDERDOM==true){thisClass.RENDERDOM=false;}};thisClass.render=function(redraw){if(redraw==null){redraw=true;}var htmlCode="";if(redraw){$("#"+thisClass.eid).remove();htmlCode=multiline(function(){
/*!
				
					
					<div class="mfComponentSetting" id="{{eid}}" style=" position: relative; display: none; width:250px; height: 1200px; overflow: hidden; " >
					<div  style="overflow: hidden;  width:100%; height: 100%;" >
					
					
					
						<div id="{{eid}}_transform"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_link"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_background"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_border"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_shadow"  style="overflow: hidden; width:100%; " >
							
						</div>
					
					
					
					</div></div>
					
				
				*/
console.log;});var compiled_template=Handlebars.compile(htmlCode);var context={eid:thisClass.eid};var compiled_code=compiled_template(context);$("#mfComponentSettings").append(compiled_code);thisClass.setupEvents();$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);}};}function MF_Rectangle2(){var thisClass=this;thisClass.NAME="MF_Rectangle2";thisClass.LABEL="Rectangle2";thisClass.GENONLY=false;thisClass.TRANSFORM=false;thisClass.VRESIZE=false;thisClass.HRESIZE=false;thisClass.USEFONT=false;thisClass.ANNOTATION=false;thisClass.MULTILINE=false;thisClass.EDITABLE=false;thisClass.AUTOSIZE=false;thisClass.HIDE=true;thisClass.USEPAGE=true;thisClass.RENDER_ON_MOVE=false;thisClass.RENDER_ON_RESIZE=true;thisClass.RENDER=true;thisClass.templateID="";thisClass.ALLOW_MULTILINK=false;thisClass.x=0;thisClass.y=0;thisClass.width=100;thisClass.height=100;thisClass.eangle=0;thisClass.eid="";thisClass.lid="";thisClass.transformLock=false;thisClass.e2xml=new MF_ComponentXML(this);thisClass.selector=null;thisClass.ecoordinates=null;thisClass.prevEcoordinates=null;thisClass.prevEsize=null;thisClass.esize=null;thisClass.GROUPID="";thisClass.delta=0;thisClass.linkType="";thisClass.link="";thisClass.linkObj=null;thisClass.fillColors=["#FFFFFF","#F0F0F0"];thisClass.fillAlpha=1;thisClass.fillType="solid";thisClass.shadowType="none";thisClass.borderColors=["#000000","#000000","#000000","#000000","#000000"];thisClass.borderWidth=[1,1,1,1,1];thisClass.borderType=["solid","solid","solid","solid","solid"];thisClass.borderShow=true;thisClass.borderRadius=[0,0,0,0,0];thisClass.setVisible=function(val){thisClass.visible=val;if(val){$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).hide();}};thisClass.getVisible=function(){return thisClass.visible;};thisClass.exml=function(){return thisClass.e2xml.formXML();};thisClass.setDefaultSettings=function(){thisClass.e2xml.addPropArray("fillColors",thisClass.fillColors,"String","default");thisClass.e2xml.addPropSingle("fillType",thisClass.fillType,"default");thisClass.e2xml.addPropSingle("fillAlpha",thisClass.fillAlpha,"default");thisClass.e2xml.addPropSingle("shadowType",thisClass.shadowType,"default");thisClass.e2xml.addPropArray("borderColors",thisClass.borderColors,"String","default");thisClass.e2xml.addPropArray("borderWidth",thisClass.borderWidth,"uint","default");thisClass.e2xml.addPropArray("borderType",thisClass.borderType,"String","default");thisClass.e2xml.addPropArray("borderRadius",thisClass.borderRadius,"uint","default");thisClass.e2xml.addPropSingle("borderShow",thisClass.borderShow,"default");};thisClass.getValues=function(){if(thisClass.e2xml.settings.properties.fillColors!=null){thisClass.fillColors=thisClass.e2xml.settings.properties.fillColors;}if(thisClass.e2xml.settings.properties.fillType!=null){thisClass.fillType=thisClass.e2xml.settings.properties.fillType;}if(thisClass.e2xml.settings.properties.fillAlpha!=null){thisClass.fillAlpha=thisClass.e2xml.settings.properties.fillAlpha;}if(thisClass.e2xml.settings.properties.shadowType!=null){thisClass.shadowType=thisClass.e2xml.settings.properties.shadowType;}if(thisClass.e2xml.settings.properties.borderColors!=null){thisClass.borderColors=thisClass.e2xml.settings.properties.borderColors;}if(thisClass.e2xml.settings.properties.borderWidth!=null){thisClass.borderWidth=thisClass.e2xml.settings.properties.borderWidth;}if(thisClass.e2xml.settings.properties.borderType!=null){thisClass.borderType=thisClass.e2xml.settings.properties.borderType;}if(thisClass.e2xml.settings.properties.borderRadius!=null){thisClass.borderRadius=thisClass.e2xml.settings.properties.borderRadius;}if(thisClass.e2xml.settings.properties.borderShow!=null){thisClass.borderShow=thisClass.e2xml.settings.properties.borderShow;}};thisClass.getMaxRadius=function(rad,w,h){var min=w;if(h<min){min=h;}if(min<rad){return min;}else{return rad;}};thisClass.render=function(redraw){if(thisClass.GENONLY){return;}if(!thisClass.RENDER){return;}if(redraw==null){redraw=true;}MF_ComponentUtils.setDimensions(thisClass,thisClass.ecoordinates,thisClass.esize);thisClass.getValues();var rectCode="";var thickness=thisClass.borderWidth[0];if(thisClass.borderType[0]=="none"){thickness=0;}thisClass.delta=(1*thickness)/2;var cwidth=thisClass.width+(thisClass.delta*2);var cheight=thisClass.height+(thisClass.delta*2);var ctop=thisClass.y-thisClass.delta;var cleft=thisClass.x-thisClass.delta;if(redraw){$("#"+thisClass.eid).remove();rectCode=rectCode+"<div  class='mfWFCompCls' id=\""+thisClass.eid+'"  style="-webkit-transform: translateZ(0); box-sizing: border-box;   padding: 0px;  margin: 0px; background: transparent; position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+"px; top:"+(ctop).toString()+"px; left:"+(cleft).toString()+'px; " > ';rectCode=rectCode+"</div>";$("#mfPage"+mf_main.editorController.page.eid).append(rectCode);try{mf_main.editorController.postAddToPage(thisClass.eid);}catch(e){}}else{$("#"+thisClass.eid).css("left",cleft);$("#"+thisClass.eid).css("top",ctop);$("#"+thisClass.eid).css("width",cwidth);$("#"+thisClass.eid).css("height",cheight);}var c1=MF_ComponentUtils.hexToRGB(thisClass.fillColors[0],thisClass.fillAlpha);var c2=MF_ComponentUtils.hexToRGB(thisClass.fillColors[1],thisClass.fillAlpha);if(thisClass.fillType=="linear-vertical"){$("#"+thisClass.eid).css("background","linear-gradient("+c1+","+c2+")");}else{if(thisClass.fillType=="linear-horizontal"){$("#"+thisClass.eid).css("background","linear-gradient(90deg,"+c1+","+c2+")");}else{if(thisClass.fillType=="linear-diagonally"){$("#"+thisClass.eid).css("background","linear-gradient(45deg,"+c1+","+c2+")");}else{if(thisClass.fillType=="radial"){$("#"+thisClass.eid).css("background","radial-gradient("+c1+","+c2+")");}else{if(thisClass.fillType=="solid"){$("#"+thisClass.eid).css("background",c1);}else{$("#"+thisClass.eid).css("background","transparent");}}}}}if(thisClass.borderShow){$("#"+thisClass.eid).css("border",thisClass.borderType[0]+" "+thisClass.borderWidth[0].toString()+"px "+thisClass.borderColors[0]);$("#"+thisClass.eid).css("border-radius",thisClass.getMaxRadius(thisClass.borderRadius[0],thisClass.width,thisClass.height)+"px");$("#"+thisClass.eid).css("border-top",thisClass.borderType[1]+" "+thisClass.borderWidth[1].toString()+"px "+thisClass.borderColors[1]);$("#"+thisClass.eid).css("border-top-left-radius",thisClass.getMaxRadius(thisClass.borderRadius[1],thisClass.width,thisClass.height)+"px");$("#"+thisClass.eid).css("border-right",thisClass.borderType[2]+" "+thisClass.borderWidth[2].toString()+"px "+thisClass.borderColors[2]);$("#"+thisClass.eid).css("border-top-right-radius",thisClass.getMaxRadius(thisClass.borderRadius[2],thisClass.width,thisClass.height)+"px");$("#"+thisClass.eid).css("border-bottom",thisClass.borderType[3]+" "+thisClass.borderWidth[3].toString()+"px "+thisClass.borderColors[3]);$("#"+thisClass.eid).css("border-bottom-right-radius",thisClass.getMaxRadius(thisClass.borderRadius[3],thisClass.width,thisClass.height)+"px");$("#"+thisClass.eid).css("border-left",thisClass.borderType[4]+" "+thisClass.borderWidth[4].toString()+"px "+thisClass.borderColors[4]);$("#"+thisClass.eid).css("border-bottom-left-radius",thisClass.getMaxRadius(thisClass.borderRadius[4],thisClass.width,thisClass.height)+"px");}MF_ComponentUtils.setComponentShadowCSS(thisClass.eid,thisClass.shadowType);MF_Utils.rotate(thisClass.eid,thisClass.eangle);if(thisClass.selector){thisClass.selector.transform(thisClass);}};}function MF_Rectangle2Settings(){var thisClass=this;thisClass.eid=mf_main.editorController.guidGenerator();thisClass.transformLock=false;thisClass.component=null;thisClass.selector=null;thisClass.RENDERDOM=true;thisClass.showSetting=true;thisClass.transformSettings=null;thisClass.backgroundSettings=null;thisClass.linkSettings=null;thisClass.borderSettings=null;thisClass.shadowSettings=null;thisClass.remove=function(delSet){$("#"+thisClass.eid).hide();if(delSet){}};thisClass.setValues=function(){if(thisClass.RENDERDOM){thisClass.render();thisClass.transformSettings=new MF_TransformSettings();thisClass.transformSettings.init(thisClass);thisClass.linkSettings=new MF_LinkSettings();thisClass.linkSettings.init(thisClass);thisClass.backgroundSettings=new MF_BackgroundSettings();thisClass.backgroundSettings.init(thisClass);thisClass.borderSettings=new MF_BorderSettings4();thisClass.borderSettings.init(thisClass);thisClass.shadowSettings=new MF_ShadowSettings();thisClass.shadowSettings.init(thisClass);}else{thisClass.transformSettings.init(thisClass);thisClass.linkSettings.init(thisClass);thisClass.backgroundSettings.init(thisClass);thisClass.borderSettings.init(thisClass);thisClass.shadowSettings.init(thisClass);thisClass.setupEvents();$("#"+thisClass.eid).show();}};thisClass.updateTransform=function(noscale){thisClass.transformSettings.updateTransform(noscale);};thisClass.setupEvents=function(){if(thisClass.RENDERDOM){}if(thisClass.RENDERDOM==true){thisClass.RENDERDOM=false;}};thisClass.render=function(redraw){if(redraw==null){redraw=true;}var htmlCode="";if(redraw){$("#"+thisClass.eid).remove();htmlCode=multiline(function(){
/*!
				
					
					<div class="mfComponentSetting" id="{{eid}}" style=" position: relative; display: none; width:250px; height: 1100px; overflow: hidden; " >
					<div  style="overflow: hidden;  width:100%; height: 100%;" >
					
					
					
						<div id="{{eid}}_transform"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_link"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_background"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_border"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_shadow"  style="overflow: hidden; width:100%; " >
							
						</div>
					
					
					
					</div></div>
					
				
				*/
console.log;});var compiled_template=Handlebars.compile(htmlCode);var context={eid:thisClass.eid};var compiled_code=compiled_template(context);$("#mfComponentSettings").append(compiled_code);thisClass.setupEvents();$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);}};}function MF_Circle(){var thisClass=this;thisClass.NAME="MF_Circle";thisClass.LABEL="Circle";thisClass.GENONLY=false;thisClass.TRANSFORM=false;thisClass.VRESIZE=false;thisClass.HRESIZE=false;thisClass.USEFONT=false;thisClass.ANNOTATION=false;thisClass.MULTILINE=false;thisClass.EDITABLE=false;thisClass.AUTOSIZE=false;thisClass.HIDE=true;thisClass.USEPAGE=true;thisClass.RENDER_ON_MOVE=false;thisClass.RENDER_ON_RESIZE=true;thisClass.RENDER=true;thisClass.ALLOW_MULTILINK=false;thisClass.templateID="";thisClass.x=0;thisClass.y=0;thisClass.width=100;thisClass.height=100;thisClass.eangle=0;thisClass.eid="";thisClass.lid="";thisClass.transformLock=false;thisClass.e2xml=new MF_ComponentXML(this);thisClass.selector=null;thisClass.ecoordinates=null;thisClass.prevEcoordinates=null;thisClass.prevEsize=null;thisClass.esize=null;thisClass.GROUPID="";thisClass.delta=0;thisClass.linkType="";thisClass.link="";thisClass.linkObj=null;thisClass.fillColors=["#FFFFFF","#F0F0F0"];thisClass.fillAlpha=1;thisClass.fillType="solid";thisClass.shadowType="none";thisClass.borderColor="#000000";thisClass.borderWidth=1;thisClass.borderType="solid";thisClass.borderShow=true;thisClass.setVisible=function(val){thisClass.visible=val;if(val){$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).hide();}};thisClass.getVisible=function(){return thisClass.visible;};thisClass.exml=function(){return thisClass.e2xml.formXML();};thisClass.setDefaultSettings=function(){thisClass.e2xml.addPropArray("fillColors",thisClass.fillColors,"String","default");thisClass.e2xml.addPropSingle("fillType",thisClass.fillType,"default");thisClass.e2xml.addPropSingle("fillAlpha",thisClass.fillAlpha,"default");thisClass.e2xml.addPropSingle("shadowType",thisClass.shadowType,"default");thisClass.e2xml.addPropSingle("borderColor",thisClass.borderColor,"default");thisClass.e2xml.addPropSingle("borderWidth",thisClass.borderWidth,"default");thisClass.e2xml.addPropSingle("borderType",thisClass.borderType,"default");thisClass.e2xml.addPropSingle("borderShow",thisClass.borderShow,"default");};thisClass.getValues=function(){if(thisClass.e2xml.settings.properties.fillColors!=null){thisClass.fillColors=thisClass.e2xml.settings.properties.fillColors;}if(thisClass.e2xml.settings.properties.fillType!=null){thisClass.fillType=thisClass.e2xml.settings.properties.fillType;}if(thisClass.e2xml.settings.properties.fillAlpha!=null){thisClass.fillAlpha=thisClass.e2xml.settings.properties.fillAlpha;}if(thisClass.e2xml.settings.properties.shadowType!=null){thisClass.shadowType=thisClass.e2xml.settings.properties.shadowType;}if(thisClass.e2xml.settings.properties.borderColor!=null){thisClass.borderColor=thisClass.e2xml.settings.properties.borderColor;}if(thisClass.e2xml.settings.properties.borderWidth!=null){thisClass.borderWidth=thisClass.e2xml.settings.properties.borderWidth;}if(thisClass.e2xml.settings.properties.borderType!=null){thisClass.borderType=thisClass.e2xml.settings.properties.borderType;}if(thisClass.e2xml.settings.properties.borderShow!=null){thisClass.borderShow=thisClass.e2xml.settings.properties.borderShow;}};thisClass.render=function(redraw){if(thisClass.GENONLY){return;}if(!thisClass.RENDER){return;}if(redraw==null){redraw=true;}MF_ComponentUtils.setDimensions(thisClass,thisClass.ecoordinates,thisClass.esize);thisClass.getValues();var circleCode="";var thickness=thisClass.borderWidth;if(thisClass.borderShow==false){thickness=0;}thisClass.delta=(1*thickness)+5;try{thisClass.delta=thisClass.delta+MF_ComponentUtils.computeShadowDelta(thisClass.shadowType);}catch(e){}var cwidth=thisClass.width+(thisClass.delta*2);var cheight=thisClass.height+(thisClass.delta*2);var ctop=thisClass.y-thisClass.delta;var cleft=thisClass.x-thisClass.delta;if(redraw){$("#"+thisClass.eid).remove();circleCode=circleCode+"<canvas class='mfWFCompCls'  id=\""+thisClass.eid+'" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style="pointer-events: none;  -webkit-transform: translateZ(0); position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+"px; top:"+(ctop).toString()+"px; left:"+(cleft).toString()+'px; " > ';circleCode=circleCode+"</canvas>";$("#mfPage"+mf_main.editorController.page.eid).append(circleCode);try{mf_main.editorController.postAddToPage(thisClass.eid);}catch(e){}}else{var ctx_cvs=(document.getElementById(thisClass.eid)).getContext("2d");ctx_cvs.clearRect(0,0,$("#"+thisClass.eid).width(),$("#"+thisClass.eid).height());document.getElementById(thisClass.eid).width=$("#"+thisClass.eid).width();$("#"+thisClass.eid).css("left",cleft);$("#"+thisClass.eid).css("top",ctop);$("#"+thisClass.eid).css("width",cwidth);$("#"+thisClass.eid).css("height",cheight);document.getElementById(thisClass.eid).width=cwidth;document.getElementById(thisClass.eid).height=cheight;}var rad=thisClass.width;if(thisClass.height<thisClass.width){rad=thisClass.height;}var ctx_Circle1=(document.getElementById(thisClass.eid)).getContext("2d");thickness=parseInt(thickness);if(Math.abs(thickness%2)==1){ctx_Circle1.translate(0.5,0.5);}var startx=cwidth/2;var starty=cheight/2;ctx_Circle1.save();MF_ComponentUtils.setComponentShadow(ctx_Circle1,thisClass.shadowType);ctx_Circle1.beginPath();ctx_Circle1.arc(startx,starty,rad/2,Math.PI*2,0,false);var defFillColor1=MF_ComponentUtils.hexToRGB(thisClass.fillColors[0],thisClass.fillAlpha);var defFillColor2=MF_ComponentUtils.hexToRGB(thisClass.fillColors[1],thisClass.fillAlpha);if(thisClass.fillType=="linear-vertical"){var grad_Circle1=ctx_Circle1.createLinearGradient(0,0,0,this.height);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_Circle1.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="linear-horizontal"){var grad_Circle1=ctx_Circle1.createLinearGradient(0,0,this.width,0);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_Circle1.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="linear-diagonally"){var grad_Circle1=ctx_Circle1.createLinearGradient(0,0,this.width,this.height);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_Circle1.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="radial"){var grad_Circle1=ctx_Circle1.createRadialGradient(startx,starty,(rad/2)/2,startx,starty,rad/2);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_Circle1.fillStyle=grad_Circle1;}else{ctx_Circle1.fillStyle=MF_ComponentUtils.hexToRGB(thisClass.fillColors[0],thisClass.fillAlpha);}}}}ctx_Circle1.fill();ctx_Circle1.restore();ctx_Circle1.lineWidth=thickness;if(thisClass.borderType=="dashed"){ctx_Circle1.setLineDash([thickness*2,4]);}if(thisClass.borderType=="dotted"){ctx_Circle1.setLineDash([thickness,2]);}if(thisClass.borderWidth>0&&thisClass.borderType!="none"){ctx_Circle1.strokeStyle=MF_ComponentUtils.hexToRGB(thisClass.borderColor,1);ctx_Circle1.stroke();}MF_Utils.rotate(thisClass.eid,thisClass.eangle);if(thisClass.selector){thisClass.selector.transform(thisClass);}};}function MF_CircleSettings(){var thisClass=this;thisClass.eid=mf_main.editorController.guidGenerator();thisClass.transformLock=false;thisClass.component=null;thisClass.selector=null;thisClass.RENDERDOM=true;thisClass.showSetting=true;thisClass.transformSettings=null;thisClass.linkSettings=null;thisClass.backgroundSettings=null;thisClass.borderSettings=null;thisClass.shadowSettings=null;thisClass.remove=function(delSet){$("#"+thisClass.eid).hide();if(delSet){try{if(mf_main.MEMFREE){thisClass.transformSettings.remove();thisClass.linkSettings.remove();thisClass.backgroundSettings.remove();thisClass.borderSettings.remove();thisClass.shadowSettings.remove();}}catch(e){console.log("error occured in the component MF_Circle.js");}$("#"+thisClass.eid).remove();}};thisClass.setValues=function(){if(thisClass.RENDERDOM){thisClass.render();thisClass.transformSettings=new MF_TransformSettings();thisClass.transformSettings.init(thisClass);thisClass.linkSettings=new MF_LinkSettings();thisClass.linkSettings.init(thisClass);thisClass.backgroundSettings=new MF_BackgroundSettings();thisClass.backgroundSettings.init(thisClass);thisClass.borderSettings=new MF_BorderSettings2();thisClass.borderSettings.init(thisClass);thisClass.shadowSettings=new MF_ShadowSettings();thisClass.shadowSettings.init(thisClass);}else{thisClass.transformSettings.init(thisClass);thisClass.linkSettings.init(thisClass);thisClass.backgroundSettings.init(thisClass);thisClass.borderSettings.init(thisClass);thisClass.shadowSettings.init(thisClass);thisClass.setupEvents();$("#"+thisClass.eid).show();}};thisClass.updateTransform=function(noscale){thisClass.transformSettings.updateTransform(noscale);};thisClass.setupEvents=function(){if(thisClass.RENDERDOM==true){thisClass.RENDERDOM=false;}};thisClass.render=function(redraw){if(redraw==null){redraw=true;}var htmlCode="";if(redraw){$("#"+thisClass.eid).remove();htmlCode=multiline(function(){
/*!
				
					
					<div class="mfComponentSetting" id="{{eid}}" style=" position: relative; display: none; width:250px; height: 1000px; overflow: hidden; " >
					<div  style="overflow: hidden;  width:100%; height: 100%;" >
					
					
					
						<div id="{{eid}}_transform"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_link"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_background"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_border"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_shadow"  style="overflow: hidden; width:100%; " >
							
						</div>
					
					
					
					</div></div>
					 
				
				*/
console.log;});var compiled_template=Handlebars.compile(htmlCode);var context={eid:thisClass.eid};var compiled_code=compiled_template(context);$("#mfComponentSettings").append(compiled_code);thisClass.setupEvents();$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);}};}function MF_Arrow2(){var thisClass=this;thisClass.NAME="MF_Arrow2";thisClass.LABEL="Arrow 2";thisClass.GENONLY=false;thisClass.TRANSFORM=true;thisClass.VRESIZE=false;thisClass.HRESIZE=false;thisClass.USEFONT=false;thisClass.ANNOTATION=true;thisClass.MULTILINE=false;thisClass.EDITABLE=false;thisClass.AUTOSIZE=false;thisClass.HIDE=true;thisClass.USEPAGE=true;thisClass.RENDER_ON_MOVE=false;thisClass.RENDER_ON_RESIZE=true;thisClass.RENDER=true;thisClass.ALLOW_MULTILINK=false;thisClass.x=0;thisClass.y=0;thisClass.width=300;thisClass.height=20;thisClass.eangle=0;thisClass.eid="";thisClass.lid="";thisClass.transformLock=false;thisClass.e2xml=new MF_ComponentXML(this);thisClass.selector=null;thisClass.ecoordinates=null;thisClass.esize=null;thisClass.prevEcoordinates=null;thisClass.prevEsize=null;thisClass.GROUPID="";thisClass.delta=0;thisClass.linkType="";thisClass.link="";thisClass.linkObj=null;thisClass.templateID="";thisClass.startX=0;thisClass.startY=0;thisClass.endX=0;thisClass.endY=0;thisClass.startType="bottomLeft";thisClass.arrowColor="#ff0000";thisClass.arrowWidth=1;thisClass.shadowType="none";thisClass.arrowDirection="right";thisClass.setVisible=function(val){thisClass.visible=val;if(val){$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).hide();}};thisClass.getVisible=function(){return thisClass.visible;};thisClass.transformSelector=function(){thisClass.selector.transform(thisClass);};thisClass.computePoints=function(){var obj=MF_Utils.computePoints(thisClass.startType,thisClass.x+thisClass.delta,thisClass.y+thisClass.delta,thisClass.width-(thisClass.delta*2),thisClass.height-(thisClass.delta*2));thisClass.startX=obj.startx;thisClass.startY=obj.starty;thisClass.endX=obj.endx;thisClass.endY=obj.endy;};thisClass.exml=function(){return thisClass.e2xml.formXML();};thisClass.setDefaultSettings=function(){thisClass.e2xml.addPropSingle("shadowType",thisClass.shadowType,"default");thisClass.e2xml.addPropSingle("arrowColor",thisClass.arrowColor,"default");thisClass.e2xml.addPropSingle("arrowWidth",thisClass.arrowWidth,"default");thisClass.e2xml.addPropSingle("arrowDirection",thisClass.arrowDirection,"default");};thisClass.getValues=function(){if(thisClass.e2xml.settings.properties.shadowType!=null){thisClass.shadowType=thisClass.e2xml.settings.properties.shadowType;}if(thisClass.e2xml.settings.properties.arrowColor!=null){thisClass.arrowColor=thisClass.e2xml.settings.properties.arrowColor;}if(thisClass.e2xml.settings.properties.arrowWidth!=null){thisClass.arrowWidth=thisClass.e2xml.settings.properties.arrowWidth;}if(thisClass.e2xml.settings.properties.arrowDirection!=null){thisClass.arrowDirection=thisClass.e2xml.settings.properties.arrowDirection;}};thisClass.render=function(redraw){if(thisClass.GENONLY){return;}if(!thisClass.RENDER){return;}if(redraw==null){redraw=true;}MF_ComponentUtils.setDimensionsTransform(thisClass,thisClass.ecoordinates,thisClass.esize);thisClass.getValues();thisClass.delta=2*(thisClass.arrowWidth/10)+20;try{thisClass.delta=thisClass.delta+MF_ComponentUtils.computeShadowDelta(thisClass.shadowType);}catch(e){}var rectDim=MF_Utils.calculateDimensions(thisClass.startX,thisClass.startY,thisClass.endX,thisClass.endY,thisClass.delta);thisClass.startType=rectDim.startType;var cvsCode="";var cwidth=rectDim.width+(thisClass.delta*2);var cheight=rectDim.height+(thisClass.delta*2);var ctop=rectDim.y-thisClass.delta;var cleft=rectDim.x-thisClass.delta;thisClass.x=cleft;thisClass.y=ctop;thisClass.width=cwidth;thisClass.height=cheight;if(redraw){$("#"+thisClass.eid).remove();cvsCode=cvsCode+"<canvas class='mfWFCompCls'  id=\""+thisClass.eid+'" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style="-webkit-transform: translateZ(0);  pointer-events: none; position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+"px; top:"+(ctop).toString()+"px; left:"+(cleft).toString()+'px; " > ';cvsCode=cvsCode+"</canvas>";$("#mfPage"+mf_main.editorController.page.eid).append(cvsCode);try{mf_main.editorController.postAddToPage(thisClass.eid);}catch(e){}}else{MF_ComponentUtils.clearPage(thisClass);}var ctx_Cvs=(document.getElementById(thisClass.eid)).getContext("2d");MF_ComponentUtils.setComponentShadow(ctx_Cvs,thisClass.shadowType);ctx_Cvs.fillStyle=MF_ComponentUtils.hexToRGB(thisClass.arrowColor,1);var thickness=thisClass.arrowWidth;thickness=parseInt(thickness);if(Math.abs(thickness%2)==1){ctx_Cvs.translate(0.5,0.5);}var start_x=rectDim.startx;var start_y=rectDim.starty;var end_x=rectDim.endx;var end_y=rectDim.endy;var asize=15+2*thickness;var apoint=asize/3;var angle1=(Math.PI)/8;var angle2=(15*Math.PI)/8;var x_offset=0;var y_offset=0;if((end_y>start_y)&&(end_x>start_x)){var slope_sign=1;var x_sign=-1;}if((end_y<start_y)&&(end_x<start_x)){var slope_sign=1;var x_sign=1;}if((end_y<start_y)&&(end_x>start_x)){var slope_sign=-1;var x_sign=-1;}if((end_y>start_y)&&(end_x<start_x)){var slope_sign=-1;var x_sign=1;}if(end_y==start_y){var slope_sign=1;var x_sign=-((end_x-start_x)/Math.abs(end_x-start_x));}var arrow_height=Math.abs(end_y-start_y);var arrow_width=Math.abs(end_x-start_x);if(arrow_width!=0){var slope=slope_sign*(arrow_height/arrow_width);var d=asize;var x=x_sign*(Math.sqrt((d*d)/(1+(slope*slope))));var y=slope*x;d=apoint;var x3=x_sign*(Math.sqrt((d*d)/(1+(slope*slope))));var y3=slope*x3;}else{var y_sign=-((end_y-start_y)/Math.abs(end_y-start_y));var x=0;var y=y_sign*asize;var x3=0;var y3=y_sign*apoint;}ctx_Cvs.strokeStyle=thisClass.arrowColor;ctx_Cvs.moveTo(start_x,start_y);ctx_Cvs.lineTo(end_x,end_y);ctx_Cvs.lineWidth=thickness;ctx_Cvs.stroke();switch(thisClass.arrowDirection){case"none":break;case"both":case"left":var angle11=(7*Math.PI)/8;var angle21=(9*Math.PI)/8;var x11=(x*Math.cos(angle11))-(y*Math.sin(angle11));var y11=(x*Math.sin(angle11))+(y*Math.cos(angle11));var x21=(x*Math.cos(angle21))-(y*Math.sin(angle21));var y21=(x*Math.sin(angle21))+(y*Math.cos(angle21));ctx_Cvs.save();ctx_Cvs.translate(start_x,start_y);ctx_Cvs.strokeStyle=thisClass.arrowColor;ctx_Cvs.lineWidth=thickness;ctx_Cvs.beginPath();ctx_Cvs.lineJoin="miter";ctx_Cvs.moveTo(x11,y11);ctx_Cvs.lineTo(0,0);ctx_Cvs.lineTo(x21,y21);ctx_Cvs.closePath();ctx_Cvs.stroke();ctx_Cvs.fillStyle=thisClass.arrowColor;ctx_Cvs.fill();ctx_Cvs.restore();if(thisClass.arrowDirection=="left"){break;}case"right":var x1=(x*Math.cos(angle1))-(y*Math.sin(angle1));var y1=(x*Math.sin(angle1))+(y*Math.cos(angle1));var x2=(x*Math.cos(angle2))-(y*Math.sin(angle2));var y2=(x*Math.sin(angle2))+(y*Math.cos(angle2));ctx_Cvs.save();ctx_Cvs.translate(end_x,end_y);ctx_Cvs.strokeStyle=thisClass.arrowColor;ctx_Cvs.lineWidth=thickness;ctx_Cvs.beginPath();ctx_Cvs.lineJoin="miter";ctx_Cvs.moveTo(x1,y1);ctx_Cvs.lineTo(0,0);ctx_Cvs.lineTo(x2,y2);ctx_Cvs.closePath();ctx_Cvs.stroke();ctx_Cvs.fillStyle=thisClass.arrowColor;ctx_Cvs.fill();ctx_Cvs.restore();break;default:break;}if(thisClass.selector){thisClass.selector.transform(thisClass);}};}function MF_Arrow2Settings(){var thisClass=this;thisClass.eid=mf_main.editorController.guidGenerator();thisClass.transformLock=false;thisClass.component=null;thisClass.selector=null;thisClass.RENDERDOM=true;thisClass.showSetting=true;thisClass.linkSettings=null;thisClass.shadowSettings=null;thisClass.remove=function(delSet){$("#"+thisClass.eid).hide();if(delSet){try{if(mf_main.MEMFREE){if($("#mfArrowWidth_"+thisClass.eid).data("kendoNumericTextBox")){$("#mfArrowWidth_"+thisClass.eid).data("kendoNumericTextBox").destroy();}if($("#mfDirection_"+thisClass.eid).data("kendoDropDownList")){$("#mfDirection_"+thisClass.eid).data("kendoDropDownList").destroy();}thisClass.linkSettings.remove();thisClass.shadowSettings.remove();}}catch(e){console.log("error occured in the component MF_Arrow2.js");}$("#"+thisClass.eid).remove();}};thisClass.setValues=function(){if(thisClass.RENDERDOM){thisClass.render();thisClass.linkSettings=new MF_LinkSettings();thisClass.linkSettings.init(thisClass);thisClass.shadowSettings=new MF_ShadowSettings();thisClass.shadowSettings.init(thisClass);}else{thisClass.linkSettings.init(thisClass);thisClass.shadowSettings.init(thisClass);thisClass.setupEvents();$("#"+thisClass.eid).show();}};thisClass.updateTransform=function(noscale){};thisClass.setupEvents=function(){if(thisClass.RENDERDOM){MF_ComponentSettingUtils.setupToggle(thisClass);$("#mfArrowColor_"+thisClass.eid).spectrum({showInput:true,preferredFormat:"hex6",showPalette:true,showSelectionPalette:true,palette:[MF_ComponentUtils.commonPallete()],show:function(color){mf_main.editorController.shortcutsFlag=false;},hide:function(color){mf_main.editorController.shortcutsFlag=true;},change:function(color){color=MF_Utils.RGBToHex(color.toRgbString());thisClass.component.e2xml.addPropSingle("arrowColor",color);thisClass.component.render(false);}});$("#mfArrowWidth_"+thisClass.eid).focusin(function(){mf_main.editorController.disableShortcuts();});$("#mfArrowWidth_"+thisClass.eid).focusout(function(){mf_main.editorController.enableShortcuts();});$("#mfArrowWidth_"+thisClass.eid).kendoNumericTextBox({format:"#",spinners:true,spin:onArrowWidthChange,decimals:0});$("#mfArrowWidth_"+thisClass.eid).focus(function(){$("#mfArrowWidth_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onArrowWidthChange);$("#mfArrowWidth_"+thisClass.eid).data("kendoNumericTextBox").bind("change",onArrowWidthChange);});$("#mfVStraight_"+thisClass.eid).click(function(e){e.stopImmediatePropagation();var coord=new Object();coord.startX=thisClass.component.ecoordinates.startX;coord.startY=thisClass.component.ecoordinates.startY;coord.endX=thisClass.component.ecoordinates.endX;coord.endY=thisClass.component.ecoordinates.endY;var undo=new MF_UndoDAO();undo.propObjectUndo(thisClass.component,"ecoordinates",thisClass.component.ecoordinates);MF_ChangeManager.addUndo(undo);var startX=thisClass.component.ecoordinates.startX;var startY=thisClass.component.ecoordinates.startY;var endX=thisClass.component.ecoordinates.endX;var endY=thisClass.component.ecoordinates.endY;if(startX==endX){return;}var linedistance=Math.sqrt(Math.pow(endX-startX,2)+Math.pow(endY-startY,2));if(startY<endY){coord.endX=thisClass.component.ecoordinates.startX-0.0001;coord.endY=thisClass.component.ecoordinates.startY+linedistance;}else{coord.startX=thisClass.component.ecoordinates.endX-0.0001;coord.startY=thisClass.component.ecoordinates.endY+linedistance;}thisClass.component.e2xml.addPropObject("ecoordinates",coord);thisClass.component.render(false);mf_main.editorController.addSelectorTransform(thisClass.component.selector);});$("#mfHStraight_"+thisClass.eid).click(function(e){e.stopImmediatePropagation();var coord=new Object();coord.startX=thisClass.component.ecoordinates.startX;coord.startY=thisClass.component.ecoordinates.startY;coord.endX=thisClass.component.ecoordinates.endX;coord.endY=thisClass.component.ecoordinates.endY;var startX=thisClass.component.ecoordinates.startX;var startY=thisClass.component.ecoordinates.startY;var endX=thisClass.component.ecoordinates.endX;var endY=thisClass.component.ecoordinates.endY;var linedistance=Math.sqrt(Math.pow(endX-startX,2)+Math.pow(endY-startY,2));if(startY==endY){return;}if(startX<endX){coord.endY=thisClass.component.ecoordinates.startY;coord.endX=thisClass.component.ecoordinates.startX+linedistance;}else{coord.startY=thisClass.component.ecoordinates.endY;coord.startX=thisClass.component.ecoordinates.endX+linedistance;}thisClass.component.e2xml.addPropObject("ecoordinates",coord);thisClass.component.render(false);mf_main.editorController.addSelectorTransform(thisClass.component.selector);});$(".mfBtnArrowStraightCls").tooltip({position:"top",animation:false});$("#mfDirection_"+thisClass.eid).kendoDropDownList({select:onDirectionSelect});}if(thisClass.RENDERDOM==true){thisClass.RENDERDOM=false;}$("#mfArrowColor_"+thisClass.eid).spectrum("set",thisClass.component.arrowColor);function onArrowWidthChange(){$("#mfArrowWidth_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onArrowWidthChange);$("#mfclipboard").focus();if(this.value()==""||this.value()==null){if(this.value()!=0&&this.value()!="0"){return;}}var w=this.value();thisClass.component.e2xml.addPropSingle("arrowWidth",w);thisClass.component.render(false);}thisClass.arrowWidthBox=$("#mfArrowWidth_"+thisClass.eid).data("kendoNumericTextBox");thisClass.arrowWidthBox.value(thisClass.component.arrowWidth);var dropdownlist=$("#mfDirection_"+thisClass.eid).data("kendoDropDownList");if(thisClass.component.arrowDirection=="both"){dropdownlist.select(0);}if(thisClass.component.arrowDirection=="left"){dropdownlist.select(1);}if(thisClass.component.arrowDirection=="right"){dropdownlist.select(2);}if(thisClass.component.arrowDirection=="none"){dropdownlist.select(3);}function onDirectionSelect(e){var gtype="left";if(e.item.index()==0){gtype="both";}if(e.item.index()==1){gtype="left";}if(e.item.index()==2){gtype="right";}if(e.item.index()==3){gtype="none";}thisClass.component.e2xml.addPropSingle("arrowDirection",gtype);thisClass.component.render(false);}};thisClass.render=function(redraw){if(redraw==null){redraw=true;}var htmlCode="";if(redraw){$("#"+thisClass.eid).remove();htmlCode=multiline(function(){
/*!
				
					
					<div class="mfComponentSetting" id="{{eid}}" style=" position: relative; display: none; width:250px; height: 700px; overflow: hidden; " >
					<div  style="overflow: hidden;  width:100%; height: 100%;" >
					
						
						<div id="{{eid}}_link"  style="overflow: hidden; width:100%; " >
							
						</div>
						
					
						<div id="{{eid}}_builtin"  style="overflow: hidden; width:100%; " >
					
								<div id="{{eid}}_settingToggle"  class="mfImgLink mfSettingsToggleBtn" style=" " >
				
									<div style="float: left; width: 185px; padding-left: 5px;">Arrow</div>
									
									<div style="float: left; width: 50px; text-align: right;">
										<span id="{{eid}}_settingToggleHide"  style="display: none; font-size: 20px;" class="ico-angle-right"></span>
										<span id="{{eid}}_settingToggleShow"  style="font-size: 20px;" class="ico-angle-down"></span>
									</div>
								</div>
								
								
										
								<div id="{{eid}}_partSetting" style="overflow: hidden; position: relative; width:100%; height: 240px;" >		
					
								
											<div  style="left: 10px; top: 20px; width: 170px; font-weight: bold; overflow: hidden; word-wrap: false;position:absolute"> 
			
												<div style="overflow:hidden">
													<span  id="mfVStraight_{{eid}}"  title="Make Arrow Vertical Straight" class="mfBtnArrowStraightCls ico-flip_horizontal" style="cursor: pointer; font-size: 30px; color: #444;"></span>
													&nbsp; &nbsp; 
													<span id="mfHStraight_{{eid}}"  title="Make Arrow Horizontal Straight" class="mfBtnArrowStraightCls ico-flip_vertical" style="cursor: pointer; font-size: 30px; color: #444;"></span>
												</div>
									
											</div>
											
											<div style="position: absolute; left: 10px; top: 83px;">Color:</div>
											<div  style='position: absolute; left: 100px; top: 77px;' ><input  id='mfArrowColor_{{eid}}' style='width: 100px;' type='text'  /></div>
						
											<div style="position: absolute; left: 10px; top: 135px;">Thickness:</div>
											<div style="position: absolute; left: 100px; top: 130px;"><input style="width: 70px;" id="mfArrowWidth_{{eid}}" type="number" value="1" min="1" max="10" step="1" /></div>
											
											
											<div style="position: absolute; left: 10px; top: 185px;">ArrowHeads:</div>
			
										 <select style="left: 100px; top: 180px; width: 100px;" id="mfDirection_{{eid}}">
										 <option>Both</option>
										 <option>Left</option>
										 <option>Right</option>
										  <option>None</option>
										 </select>

								
								
								</div>
						</div>
						
						
						
						<div id="{{eid}}_shadow"  style="overflow: hidden; width:100%; " >
							
						</div>
					
					
					
					</div></div>
					 
				
				*/
console.log;});var compiled_template=Handlebars.compile(htmlCode);var context={eid:thisClass.eid};var compiled_code=compiled_template(context);$("#mfComponentSettings").append(compiled_code);thisClass.setupEvents();$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);}};}function MF_Button(){var thisClass=this;thisClass.NAME="MF_Button";thisClass.LABEL="Button";thisClass.GENONLY=false;thisClass.TRANSFORM=false;thisClass.VRESIZE=false;thisClass.HRESIZE=false;thisClass.USEFONT=true;thisClass.ANNOTATION=false;thisClass.MULTILINE=false;thisClass.EDITABLE=true;thisClass.AUTOSIZE=false;thisClass.HIDE=true;thisClass.USEPAGE=true;thisClass.RENDER_ON_MOVE=false;thisClass.RENDER_ON_RESIZE=true;thisClass.RENDER=true;thisClass.ALLOW_MULTILINK=false;thisClass.x=0;thisClass.y=0;thisClass.width=100;thisClass.height=40;thisClass.eangle=0;thisClass.eid="";thisClass.lid="";thisClass.transformLock=false;thisClass.e2xml=new MF_ComponentXML(this);thisClass.selector=null;thisClass.ecoordinates=null;thisClass.prevEcoordinates=null;thisClass.prevEsize=null;thisClass.esize=null;thisClass.GROUPID="";thisClass.delta=0;thisClass.linkType="";thisClass.link="";thisClass.linkObj=null;thisClass.templateID="";thisClass.fillColors=["#FFFFFF","#F0F0F0"];thisClass.fillAlpha=1;thisClass.fillType="solid";thisClass.shadowType="none";thisClass.icon="";thisClass.iconPlace="left";thisClass.borderColors=["#000000","#000000","#000000","#000000","#000000"];thisClass.borderWidth=[1,1,1,1,1];thisClass.borderType=["solid","solid","solid","solid","solid"];thisClass.borderRadius=[0,0,0,0,0];thisClass.fontType="sourcesanspro";thisClass.isGoogleFontUsed=false;thisClass.text="Button";thisClass.fontSize=12;thisClass.fontColor="#000000";thisClass.textAlign="center";thisClass.fontWeight="normal";thisClass.fontStyle="normal";thisClass.textDecoration="none";thisClass.setVisible=function(val){thisClass.visible=val;if(val){$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).hide();}};thisClass.getVisible=function(){return thisClass.visible;};thisClass.exml=function(){return thisClass.e2xml.formXML();};thisClass.setDefaultSettings=function(){thisClass.e2xml.addPropArray("fillColors",thisClass.fillColors,"String","default");thisClass.e2xml.addPropSingle("fillType",thisClass.fillType,"default");thisClass.e2xml.addPropSingle("fillAlpha",thisClass.fillAlpha,"default");thisClass.e2xml.addPropSingle("shadowType",thisClass.shadowType,"default");thisClass.e2xml.addPropArray("borderColors",thisClass.borderColors,"String","default");thisClass.e2xml.addPropArray("borderWidth",thisClass.borderWidth,"uint","default");thisClass.e2xml.addPropArray("borderType",thisClass.borderType,"String","default");thisClass.e2xml.addPropArray("borderRadius",thisClass.borderRadius,"uint","default");thisClass.e2xml.addPropSingle("text",thisClass.text,"default");thisClass.e2xml.addPropSingle("icon",thisClass.icon,"default");thisClass.e2xml.addPropSingle("iconPlace",thisClass.iconPlace,"default");thisClass.e2xml.addPropSingle("isGoogleFontUsed",thisClass.isGoogleFontUsed,"default");thisClass.e2xml.addPropSingle("textAlign",thisClass.textAlign,"default");thisClass.e2xml.addPropSingle("fontType",thisClass.fontType,"default");thisClass.e2xml.addPropSingle("fontSize",thisClass.fontSize,"default");thisClass.e2xml.addPropSingle("fontColor",thisClass.fontColor,"default");thisClass.e2xml.addPropSingle("fontWeight",thisClass.fontWeight,"default");thisClass.e2xml.addPropSingle("fontStyle",thisClass.fontStyle,"default");thisClass.e2xml.addPropSingle("textDecoration",thisClass.textDecoration,"default");};thisClass.getValues=function(){if(thisClass.e2xml.settings.properties.fontWeight!=null){thisClass.fontWeight=thisClass.e2xml.settings.properties.fontWeight;}if(thisClass.e2xml.settings.properties.fontStyle!=null){thisClass.fontStyle=thisClass.e2xml.settings.properties.fontStyle;}if(thisClass.e2xml.settings.properties.textDecoration!=null){thisClass.textDecoration=thisClass.e2xml.settings.properties.textDecoration;}if(thisClass.e2xml.settings.properties.icon!=null){thisClass.icon=thisClass.e2xml.settings.properties.icon;}if(thisClass.e2xml.settings.properties.iconPlace!=null){thisClass.iconPlace=thisClass.e2xml.settings.properties.iconPlace;}if(thisClass.e2xml.settings.properties.fillColors!=null){thisClass.fillColors=thisClass.e2xml.settings.properties.fillColors;}if(thisClass.e2xml.settings.properties.fillType!=null){thisClass.fillType=thisClass.e2xml.settings.properties.fillType;}if(thisClass.e2xml.settings.properties.fillAlpha!=null){thisClass.fillAlpha=thisClass.e2xml.settings.properties.fillAlpha;}if(thisClass.e2xml.settings.properties.shadowType!=null){thisClass.shadowType=thisClass.e2xml.settings.properties.shadowType;}if(thisClass.e2xml.settings.properties.borderColors!=null){thisClass.borderColors=thisClass.e2xml.settings.properties.borderColors;}if(thisClass.e2xml.settings.properties.borderWidth!=null){thisClass.borderWidth=thisClass.e2xml.settings.properties.borderWidth;}if(thisClass.e2xml.settings.properties.borderType!=null){thisClass.borderType=thisClass.e2xml.settings.properties.borderType;}if(thisClass.e2xml.settings.properties.borderRadius!=null){thisClass.borderRadius=thisClass.e2xml.settings.properties.borderRadius;}if(thisClass.e2xml.settings.properties.text!=null){thisClass.text=thisClass.e2xml.settings.properties.text;}if(thisClass.e2xml.settings.properties.fontType!=null){thisClass.fontType=thisClass.e2xml.settings.properties.fontType;}if(thisClass.e2xml.settings.properties.textAlign!=null){thisClass.textAlign=thisClass.e2xml.settings.properties.textAlign;}if(thisClass.e2xml.settings.properties.isGoogleFontUsed!=null){thisClass.isGoogleFontUsed=thisClass.e2xml.settings.properties.isGoogleFontUsed;}if(thisClass.e2xml.settings.properties.fontSize!=null){thisClass.fontSize=thisClass.e2xml.settings.properties.fontSize;}if(thisClass.e2xml.settings.properties.fontColor!=null){thisClass.fontColor=thisClass.e2xml.settings.properties.fontColor;}};thisClass.render=function(redraw){if(thisClass.GENONLY){return;}if(!thisClass.RENDER){return;}if(redraw==null){redraw=true;}MF_ComponentUtils.setDimensions(thisClass,thisClass.ecoordinates,thisClass.esize);thisClass.getValues();var rectCode="";var thickness=parseInt(thisClass.borderWidth[0]);if(thisClass.borderType[0]=="none"){thickness=0;}thisClass.delta=(1*thickness)+5;try{thisClass.delta=thisClass.delta+MF_ComponentUtils.computeShadowDelta(thisClass.shadowType);}catch(e){}var cwidth=thisClass.width+(thisClass.delta*2);var cheight=thisClass.height+(thisClass.delta*2);var ctop=thisClass.y-thisClass.delta;var cleft=thisClass.x-thisClass.delta;if(redraw){$("#"+thisClass.eid).remove();rectCode=rectCode+"<div class='mfWFCompCls' id=\""+thisClass.eid+'" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style="pointer-events: none; -webkit-transform: translateZ(0);  overflow: hidden; position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+"px; top:"+(ctop).toString()+"px; left:"+(cleft).toString()+'px; " > ';rectCode=rectCode+'<canvas id="'+thisClass.eid+'_cvs" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style="-webkit-transform: translateZ(0);  position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+'px; top:0px; left:0px; " > ';rectCode=rectCode+"</canvas>";rectCode=rectCode+'<span id="'+thisClass.eid+'_txt"  style="padding-left: 5px; padding-right: 5px;  overflow: hidden; white-space: nowrap; text-align: center; font-weight: bold; -webkit-transform: translateZ(0);  position:absolute; width:'+(thisClass.width).toString()+"px; height:"+(thisClass.height).toString()+"px; line-height:"+(cheight).toString()+"px;  top:"+(thisClass.delta).toString()+"px; left:"+(thisClass.delta).toString()+'px;  " > ';rectCode=rectCode+"</span>";rectCode=rectCode+"</div>";$("#mfPage"+mf_main.editorController.page.eid).append(rectCode);try{mf_main.editorController.postAddToPage(thisClass.eid);}catch(e){}}else{var ctx_cvs=(document.getElementById(thisClass.eid+"_cvs")).getContext("2d");ctx_cvs.clearRect(0,0,$("#"+thisClass.eid+"_cvs").width(),$("#"+thisClass.eid+"_cvs").height());document.getElementById(thisClass.eid+"_cvs").width=$("#"+thisClass.eid+"_cvs").width();$("#"+thisClass.eid).css("left",cleft);$("#"+thisClass.eid).css("top",ctop);$("#"+thisClass.eid).css("width",cwidth);$("#"+thisClass.eid).css("height",cheight);$("#"+thisClass.eid+"_cvs").css("width",cwidth);$("#"+thisClass.eid+"_cvs").css("height",cheight);$("#"+thisClass.eid+"_txt").css("left",thisClass.delta);$("#"+thisClass.eid+"_txt").css("top",thisClass.delta);$("#"+thisClass.eid+"_txt").css("width",thisClass.width);$("#"+thisClass.eid+"_txt").css("height",thisClass.height);document.getElementById(thisClass.eid+"_cvs").width=cwidth;document.getElementById(thisClass.eid+"_cvs").height=cheight;}$("#"+thisClass.eid+"_txt").css("user-select","none");$("#"+thisClass.eid+"_txt").css("-webkit-user-select","none");$("#"+thisClass.eid+"_txt").css("-moz-user-select","none");$("#"+thisClass.eid+"_txt").css("line-height",(thisClass.height+2).toString()+"px");var fontFamily=mf_main.editorController.fontController.getFontByIDComponent(thisClass.fontType,thisClass);var htext=$("#"+thisClass.eid+"_txt").html(thisClass.text).text();htext=MF_ComponentUtils.getRefactoredText(htext);if(thisClass.icon!=null&&thisClass.icon!=""){if(thisClass.iconPlace=="right"){htext=htext+" <i style='vertical-align: middle; line-height: inherit; margin-top: -2px; display: inline-block;' class='"+thisClass.icon+"' ></i>";}else{htext="<i style='vertical-align: middle; line-height: inherit; margin-top: -2px; display: inline-block;' class='"+thisClass.icon+"' ></i> "+htext;}}$("#"+thisClass.eid+"_txt").html(htext);$("#"+thisClass.eid+"_txt").css("font-family",fontFamily);$("#"+thisClass.eid+"_txt").css("font-weight",thisClass.fontWeight);$("#"+thisClass.eid+"_txt").css("font-style",thisClass.fontStyle);$("#"+thisClass.eid+"_txt").css("text-decoration",thisClass.textDecoration);$("#"+thisClass.eid+"_txt").css("font-size",thisClass.fontSize.toString()+"px");$("#"+thisClass.eid+"_txt").css("color",thisClass.fontColor);$("#"+thisClass.eid+"_txt").css("text-align",thisClass.textAlign);var rad=thisClass.width;if(thisClass.height<thisClass.width){rad=thisClass.height;}var ctx_obj=(document.getElementById(thisClass.eid+"_cvs")).getContext("2d");thickness=parseInt(thickness);if(Math.abs(thickness%2)==1){ctx_obj.translate(0.5,0.5);}var startx=cwidth/2;var starty=cheight/2;ctx_obj.save();MF_ComponentUtils.setComponentShadow(ctx_obj,thisClass.shadowType);ctx_obj.beginPath();if(thisClass.borderRadius[0]==0){ctx_obj.rect(thisClass.delta,thisClass.delta,thisClass.width,thisClass.height);}else{roundedRect2(ctx_obj,thisClass.delta,thisClass.delta,thisClass.width,thisClass.height,thisClass.borderRadius[0]);}ctx_obj.closePath();var defFillColor1=MF_ComponentUtils.hexToRGB(thisClass.fillColors[0],thisClass.fillAlpha);var defFillColor2=MF_ComponentUtils.hexToRGB(thisClass.fillColors[1],thisClass.fillAlpha);if(thisClass.fillType=="linear-vertical"){var grad_Circle1=ctx_obj.createLinearGradient(0,0,0,this.height);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="linear-horizontal"){var grad_Circle1=ctx_obj.createLinearGradient(0,0,this.width,0);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="linear-diagonally"){var grad_Circle1=ctx_obj.createLinearGradient(0,0,this.width,this.height);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="radial"){var grad_Circle1=ctx_obj.createRadialGradient(startx,starty,(rad/2)/2,startx,starty,rad/2);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{ctx_obj.fillStyle=MF_ComponentUtils.hexToRGB(thisClass.fillColors[0],thisClass.fillAlpha);}}}}ctx_obj.fill();ctx_obj.restore();ctx_obj.lineWidth=thickness;if(thisClass.borderType[0]=="dashed"){ctx_obj.setLineDash([thickness*2,4]);}if(thisClass.borderType[0]=="dotted"){ctx_obj.setLineDash([thickness,2]);}if(thisClass.borderType[0]!="none"&&thickness!=0){ctx_obj.strokeStyle=MF_ComponentUtils.hexToRGB(thisClass.borderColors[0],1);ctx_obj.stroke();}MF_Utils.rotate(thisClass.eid,thisClass.eangle);if(thisClass.selector){thisClass.selector.transform(thisClass);}};}function MF_ButtonSettings(){var thisClass=this;thisClass.eid=mf_main.editorController.guidGenerator();thisClass.transformLock=false;thisClass.component=null;thisClass.selector=null;thisClass.RENDERDOM=true;thisClass.showSetting=true;thisClass.transformSettings=null;thisClass.linkSettings=null;thisClass.backgroundSettings=null;thisClass.borderSettings=null;thisClass.shadowSettings=null;thisClass.fontSettings=null;thisClass.iconSettings=null;thisClass.remove=function(delSet){$("#"+thisClass.eid).hide();if(delSet){try{if(mf_main.MEMFREE){thisClass.transformSettings.remove();thisClass.linkSettings.remove();thisClass.backgroundSettings.remove();thisClass.borderSettings.remove();thisClass.shadowSettings.remove();thisClass.fontSettings.remove();thisClass.iconSettings.remove();}}catch(e){console.log("error occured in the component MF_Button.js");}$("#"+thisClass.eid).remove();}};thisClass.setValues=function(){if(thisClass.RENDERDOM){thisClass.render();thisClass.transformSettings=new MF_TransformSettings();thisClass.transformSettings.init(thisClass);thisClass.linkSettings=new MF_LinkSettings();thisClass.linkSettings.init(thisClass);thisClass.backgroundSettings=new MF_BackgroundSettings();thisClass.backgroundSettings.init(thisClass);thisClass.borderSettings=new MF_BorderSettings();thisClass.borderSettings.init(thisClass);thisClass.shadowSettings=new MF_ShadowSettings();thisClass.shadowSettings.init(thisClass);thisClass.fontSettings=new MF_FontSettings2();thisClass.fontSettings.init(thisClass);thisClass.iconSettings=new MF_IconAssignSettings2();thisClass.iconSettings.init(thisClass);}else{thisClass.transformSettings.init(thisClass);thisClass.linkSettings.init(thisClass);thisClass.backgroundSettings.init(thisClass);thisClass.borderSettings.init(thisClass);thisClass.shadowSettings.init(thisClass);thisClass.fontSettings.init(thisClass);thisClass.iconSettings.init(thisClass);thisClass.setupEvents();$("#"+thisClass.eid).show();}};thisClass.updateTransform=function(noscale){thisClass.transformSettings.updateTransform(noscale);};thisClass.setupEvents=function(){if(thisClass.RENDERDOM==true){thisClass.RENDERDOM=false;}};thisClass.render=function(redraw){if(redraw==null){redraw=true;}var htmlCode="";if(redraw){$("#"+thisClass.eid).remove();htmlCode=multiline(function(){
/*!
				
					
					<div class="mfComponentSetting" id="{{eid}}" style=" position: relative; display: none; width: 250px; height: 1600px; overflow: hidden; " >
					<div  style="overflow: hidden;  width:100%; height: 100%;" >
					
						<div class="mfSettingsTextEditMsg" >
							Double-Click on Comp / Click Here to Edit
						</div>
					
						<div id="{{eid}}_transform"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_link"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_font"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_background"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_border"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_icon"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_shadow"  style="overflow: hidden; width:100%; " >
							
						</div>
					
					
					
					</div></div>
					
				
				*/
console.log;});var compiled_template=Handlebars.compile(htmlCode);var context={eid:thisClass.eid};var compiled_code=compiled_template(context);$("#mfComponentSettings").append(compiled_code);thisClass.setupEvents();$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);}};}function MF_Button2(){var thisClass=this;thisClass.NAME="MF_Button2";thisClass.LABEL="Button2";thisClass.GENONLY=false;thisClass.TRANSFORM=false;thisClass.VRESIZE=false;thisClass.HRESIZE=false;thisClass.USEFONT=true;thisClass.ANNOTATION=false;thisClass.MULTILINE=false;thisClass.EDITABLE=true;thisClass.AUTOSIZE=false;thisClass.HIDE=true;thisClass.USEPAGE=true;thisClass.RENDER_ON_MOVE=false;thisClass.RENDER_ON_RESIZE=true;thisClass.RENDER=true;thisClass.ALLOW_MULTILINK=false;thisClass.x=0;thisClass.y=0;thisClass.width=100;thisClass.height=40;thisClass.eangle=0;thisClass.eid="";thisClass.lid="";thisClass.transformLock=false;thisClass.e2xml=new MF_ComponentXML(this);thisClass.selector=null;thisClass.ecoordinates=null;thisClass.prevEcoordinates=null;thisClass.prevEsize=null;thisClass.esize=null;thisClass.GROUPID="";thisClass.delta=0;thisClass.linkType="";thisClass.link="";thisClass.linkObj=null;thisClass.templateID="";thisClass.fillColors=["#FFFFFF","#F0F0F0"];thisClass.fillAlpha=1;thisClass.fillType="solid";thisClass.shadowType="none";thisClass.icon="";thisClass.iconPlace="left";thisClass.borderColors=["#000000","#000000","#000000","#000000","#000000"];thisClass.borderWidth=[1,1,1,1,1];thisClass.borderType=["solid","solid","solid","solid","solid"];thisClass.borderRadius=[0,0,0,0,0];thisClass.fontType="sourcesanspro";thisClass.isGoogleFontUsed=false;thisClass.text="Button";thisClass.fontSize=12;thisClass.fontColor="#000000";thisClass.textAlign="center";thisClass.fontWeight="normal";thisClass.fontStyle="normal";thisClass.textDecoration="none";thisClass.setVisible=function(val){thisClass.visible=val;if(val){$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).hide();}};thisClass.getVisible=function(){return thisClass.visible;};thisClass.exml=function(){return thisClass.e2xml.formXML();};thisClass.getMaxRadius=function(rad,w,h){var min=w;if(h<min){min=h;}if(min<rad){return min;}else{return rad;}};thisClass.setDefaultSettings=function(){thisClass.e2xml.addPropArray("fillColors",thisClass.fillColors,"String","default");thisClass.e2xml.addPropSingle("fillType",thisClass.fillType,"default");thisClass.e2xml.addPropSingle("fillAlpha",thisClass.fillAlpha,"default");thisClass.e2xml.addPropSingle("shadowType",thisClass.shadowType,"default");thisClass.e2xml.addPropArray("borderColors",thisClass.borderColors,"String","default");thisClass.e2xml.addPropArray("borderWidth",thisClass.borderWidth,"uint","default");thisClass.e2xml.addPropArray("borderType",thisClass.borderType,"String","default");thisClass.e2xml.addPropArray("borderRadius",thisClass.borderRadius,"uint","default");thisClass.e2xml.addPropSingle("text",thisClass.text,"default");thisClass.e2xml.addPropSingle("icon",thisClass.icon,"default");thisClass.e2xml.addPropSingle("iconPlace",thisClass.iconPlace,"default");thisClass.e2xml.addPropSingle("isGoogleFontUsed",thisClass.isGoogleFontUsed,"default");thisClass.e2xml.addPropSingle("textAlign",thisClass.textAlign,"default");thisClass.e2xml.addPropSingle("fontType",thisClass.fontType,"default");thisClass.e2xml.addPropSingle("fontSize",thisClass.fontSize,"default");thisClass.e2xml.addPropSingle("fontColor",thisClass.fontColor,"default");thisClass.e2xml.addPropSingle("fontWeight",thisClass.fontWeight,"default");thisClass.e2xml.addPropSingle("fontStyle",thisClass.fontStyle,"default");thisClass.e2xml.addPropSingle("textDecoration",thisClass.textDecoration,"default");};thisClass.getValues=function(){if(thisClass.e2xml.settings.properties.fontWeight!=null){thisClass.fontWeight=thisClass.e2xml.settings.properties.fontWeight;}if(thisClass.e2xml.settings.properties.fontStyle!=null){thisClass.fontStyle=thisClass.e2xml.settings.properties.fontStyle;}if(thisClass.e2xml.settings.properties.textDecoration!=null){thisClass.textDecoration=thisClass.e2xml.settings.properties.textDecoration;}if(thisClass.e2xml.settings.properties.icon!=null){thisClass.icon=thisClass.e2xml.settings.properties.icon;}if(thisClass.e2xml.settings.properties.iconPlace!=null){thisClass.iconPlace=thisClass.e2xml.settings.properties.iconPlace;}if(thisClass.e2xml.settings.properties.fillColors!=null){thisClass.fillColors=thisClass.e2xml.settings.properties.fillColors;}if(thisClass.e2xml.settings.properties.fillType!=null){thisClass.fillType=thisClass.e2xml.settings.properties.fillType;}if(thisClass.e2xml.settings.properties.fillAlpha!=null){thisClass.fillAlpha=thisClass.e2xml.settings.properties.fillAlpha;}if(thisClass.e2xml.settings.properties.shadowType!=null){thisClass.shadowType=thisClass.e2xml.settings.properties.shadowType;}if(thisClass.e2xml.settings.properties.borderColors!=null){thisClass.borderColors=thisClass.e2xml.settings.properties.borderColors;}if(thisClass.e2xml.settings.properties.borderWidth!=null){thisClass.borderWidth=thisClass.e2xml.settings.properties.borderWidth;}if(thisClass.e2xml.settings.properties.borderType!=null){thisClass.borderType=thisClass.e2xml.settings.properties.borderType;}if(thisClass.e2xml.settings.properties.borderRadius!=null){thisClass.borderRadius=thisClass.e2xml.settings.properties.borderRadius;}if(thisClass.e2xml.settings.properties.text!=null){thisClass.text=thisClass.e2xml.settings.properties.text;}if(thisClass.e2xml.settings.properties.fontType!=null){thisClass.fontType=thisClass.e2xml.settings.properties.fontType;}if(thisClass.e2xml.settings.properties.textAlign!=null){thisClass.textAlign=thisClass.e2xml.settings.properties.textAlign;}if(thisClass.e2xml.settings.properties.isGoogleFontUsed!=null){thisClass.isGoogleFontUsed=thisClass.e2xml.settings.properties.isGoogleFontUsed;}if(thisClass.e2xml.settings.properties.fontSize!=null){thisClass.fontSize=thisClass.e2xml.settings.properties.fontSize;}if(thisClass.e2xml.settings.properties.fontColor!=null){thisClass.fontColor=thisClass.e2xml.settings.properties.fontColor;}};thisClass.render=function(redraw){if(thisClass.GENONLY){return;}if(!thisClass.RENDER){return;}if(redraw==null){redraw=true;}MF_ComponentUtils.setDimensions(thisClass,thisClass.ecoordinates,thisClass.esize);thisClass.getValues();var rectCode="";var thickness=parseInt(thisClass.borderWidth[0]);if(thisClass.borderType[0]=="none"){thickness=0;}thisClass.delta=(1*thickness)/2;var cwidth=thisClass.width+(thisClass.delta*2);var cheight=thisClass.height+(thisClass.delta*2);var ctop=thisClass.y-thisClass.delta;var cleft=thisClass.x-thisClass.delta;if(redraw){$("#"+thisClass.eid).remove();rectCode=rectCode+"<div class='mfWFCompCls'  id=\""+thisClass.eid+'"  style="-webkit-transform: translateZ(0); box-sizing: border-box;   padding: 0px;  margin: 0px; background: transparent; position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+"px; top:"+(ctop).toString()+"px; left:"+(cleft).toString()+'px; " > ';rectCode=rectCode+'<span id="'+thisClass.eid+'_txt" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style="overflow: hidden; white-space: nowrap; text-align: center;  -webkit-transform: translateZ(0);  position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+"px; line-height:"+(cheight).toString()+'px;  top:0px; left:0px; " > ';rectCode=rectCode+"</span>";rectCode=rectCode+"</div>";$("#mfPage"+mf_main.editorController.page.eid).append(rectCode);try{mf_main.editorController.postAddToPage(thisClass.eid);}catch(e){}}else{$("#"+thisClass.eid).css("left",cleft);$("#"+thisClass.eid).css("top",ctop);$("#"+thisClass.eid).css("width",cwidth);$("#"+thisClass.eid).css("height",cheight);}$("#"+thisClass.eid+"_txt").css("user-select","none");$("#"+thisClass.eid+"_txt").css("-webkit-user-select","none");$("#"+thisClass.eid+"_txt").css("-moz-user-select","none");var tmpBorderWidth=(thisClass.borderType[0]=="none")?0:thisClass.borderWidth[0];$("#"+thisClass.eid+"_txt").css("width",cwidth-(tmpBorderWidth*2));$("#"+thisClass.eid+"_txt").css("height",cheight-(tmpBorderWidth*2));$("#"+thisClass.eid+"_txt").css("line-height",(cheight-(tmpBorderWidth*2)).toString()+"px");var c1=MF_ComponentUtils.hexToRGB(thisClass.fillColors[0],thisClass.fillAlpha);var c2=MF_ComponentUtils.hexToRGB(thisClass.fillColors[1],thisClass.fillAlpha);if(thisClass.fillType=="linear-vertical"){$("#"+thisClass.eid).css("background","linear-gradient("+c1+","+c2+")");}else{if(thisClass.fillType=="linear-horizontal"){$("#"+thisClass.eid).css("background","linear-gradient(90deg,"+c1+","+c2+")");}else{if(thisClass.fillType=="linear-diagonally"){$("#"+thisClass.eid).css("background","linear-gradient(45deg,"+c1+","+c2+")");}else{if(thisClass.fillType=="radial"){$("#"+thisClass.eid).css("background","radial-gradient("+c1+","+c2+")");}else{if(thisClass.fillType=="solid"){$("#"+thisClass.eid).css("background",c1);}else{$("#"+thisClass.eid).css("background","transparent");}}}}}$("#"+thisClass.eid).css("border",thisClass.borderType[0]+" "+thisClass.borderWidth[0].toString()+"px "+thisClass.borderColors[0]);$("#"+thisClass.eid).css("border-radius",thisClass.getMaxRadius(thisClass.borderRadius[0],thisClass.width,thisClass.height)+"px");$("#"+thisClass.eid).css("border-top",thisClass.borderType[1]+" "+thisClass.borderWidth[1].toString()+"px "+thisClass.borderColors[1]);$("#"+thisClass.eid).css("border-top-left-radius",thisClass.getMaxRadius(thisClass.borderRadius[1],thisClass.width,thisClass.height)+"px");$("#"+thisClass.eid).css("border-right",thisClass.borderType[2]+" "+thisClass.borderWidth[2].toString()+"px "+thisClass.borderColors[2]);$("#"+thisClass.eid).css("border-top-right-radius",thisClass.getMaxRadius(thisClass.borderRadius[2],thisClass.width,thisClass.height)+"px");$("#"+thisClass.eid).css("border-bottom",thisClass.borderType[3]+" "+thisClass.borderWidth[3].toString()+"px "+thisClass.borderColors[3]);$("#"+thisClass.eid).css("border-bottom-right-radius",thisClass.getMaxRadius(thisClass.borderRadius[3],thisClass.width,thisClass.height)+"px");$("#"+thisClass.eid).css("border-left",thisClass.borderType[4]+" "+thisClass.borderWidth[4].toString()+"px "+thisClass.borderColors[4]);$("#"+thisClass.eid).css("border-bottom-left-radius",thisClass.getMaxRadius(thisClass.borderRadius[4],thisClass.width,thisClass.height)+"px");MF_ComponentUtils.setComponentShadowCSS(thisClass.eid,thisClass.shadowType);var fontFamily=mf_main.editorController.fontController.getFontByIDComponent(thisClass.fontType,thisClass);var htext=$("#"+thisClass.eid+"_txt").html(thisClass.text).text();htext=MF_ComponentUtils.getRefactoredText(htext);if(thisClass.icon!=null&&thisClass.icon!=""){if(thisClass.iconPlace=="right"){htext=htext+" <i style='vertical-align: middle; line-height: inherit; margin-top: -2px; display: inline-block;' class='"+thisClass.icon+"' ></i>";}else{htext="<i style='vertical-align: middle; line-height: inherit; margin-top: -2px; display: inline-block;' class='"+thisClass.icon+"' ></i> "+htext;}}$("#"+thisClass.eid+"_txt").html(htext);$("#"+thisClass.eid+"_txt").css("font-family",fontFamily);$("#"+thisClass.eid+"_txt").css("font-weight",thisClass.fontWeight);$("#"+thisClass.eid+"_txt").css("font-style",thisClass.fontStyle);$("#"+thisClass.eid+"_txt").css("text-decoration",thisClass.textDecoration);$("#"+thisClass.eid+"_txt").css("font-size",thisClass.fontSize.toString()+"px");$("#"+thisClass.eid+"_txt").css("color",thisClass.fontColor);$("#"+thisClass.eid+"_txt").css("text-align",thisClass.textAlign);MF_Utils.rotate(thisClass.eid,thisClass.eangle);if(thisClass.selector){thisClass.selector.transform(thisClass);}};}function MF_Button2Settings(){var thisClass=this;thisClass.eid=mf_main.editorController.guidGenerator();thisClass.transformLock=false;thisClass.component=null;thisClass.selector=null;thisClass.RENDERDOM=true;thisClass.showSetting=true;thisClass.transformSettings=null;thisClass.linkSettings=null;thisClass.backgroundSettings=null;thisClass.borderSettings=null;thisClass.shadowSettings=null;thisClass.fontSettings=null;thisClass.iconSettings=null;thisClass.remove=function(delSet){$("#"+thisClass.eid).hide();if(delSet){try{if(mf_main.MEMFREE){thisClass.transformSettings.remove();thisClass.linkSettings.remove();thisClass.backgroundSettings.remove();thisClass.borderSettings.remove();thisClass.shadowSettings.remove();thisClass.fontSettings.remove();thisClass.iconSettings.remove();}}catch(e){console.log("error occured in the component MF_Button2.js");}$("#"+thisClass.eid).remove();}};thisClass.setValues=function(){if(thisClass.RENDERDOM){thisClass.render();thisClass.transformSettings=new MF_TransformSettings();thisClass.transformSettings.init(thisClass);thisClass.linkSettings=new MF_LinkSettings();thisClass.linkSettings.init(thisClass);thisClass.backgroundSettings=new MF_BackgroundSettings();thisClass.backgroundSettings.init(thisClass);thisClass.borderSettings=new MF_BorderSettings4();thisClass.borderSettings.init(thisClass);thisClass.shadowSettings=new MF_ShadowSettings();thisClass.shadowSettings.init(thisClass);thisClass.fontSettings=new MF_FontSettings2();thisClass.fontSettings.init(thisClass);thisClass.iconSettings=new MF_IconAssignSettings2();thisClass.iconSettings.init(thisClass);}else{thisClass.transformSettings.init(thisClass);thisClass.linkSettings.init(thisClass);thisClass.backgroundSettings.init(thisClass);thisClass.borderSettings.init(thisClass);thisClass.shadowSettings.init(thisClass);thisClass.fontSettings.init(thisClass);thisClass.iconSettings.init(thisClass);thisClass.setupEvents();$("#"+thisClass.eid).show();}};thisClass.updateTransform=function(noscale){thisClass.transformSettings.updateTransform(noscale);};thisClass.setupEvents=function(){if(thisClass.RENDERDOM==true){thisClass.RENDERDOM=false;}};thisClass.render=function(redraw){if(redraw==null){redraw=true;}var htmlCode="";if(redraw){$("#"+thisClass.eid).remove();htmlCode=multiline(function(){
/*!
				
					
					<div class="mfComponentSetting" id="{{eid}}" style=" position: relative; display: none; width: 250px; height: 1550px; overflow: hidden; " >
					<div  style="overflow: hidden;  width:100%; height: 100%;" >
					
						<div class="mfSettingsTextEditMsg" >
							Double-Click on Comp / Click Here to Edit
						</div>
					
						<div id="{{eid}}_transform"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_link"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_font"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_background"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_border"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_icon"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_shadow"  style="overflow: hidden; width:100%; " >
							
						</div>
					
					
					
					</div></div>
					
				
				*/
console.log;});var compiled_template=Handlebars.compile(htmlCode);var context={eid:thisClass.eid};var compiled_code=compiled_template(context);$("#mfComponentSettings").append(compiled_code);thisClass.setupEvents();$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);}};}function MF_Hotspot(){var thisClass=this;thisClass.NAME="MF_Hotspot";thisClass.LABEL="Hotspot";thisClass.GENONLY=false;thisClass.TRANSFORM=false;thisClass.VRESIZE=false;thisClass.HRESIZE=false;thisClass.USEFONT=false;thisClass.ANNOTATION=false;thisClass.MULTILINE=false;thisClass.EDITABLE=false;thisClass.AUTOSIZE=false;thisClass.HIDE=true;thisClass.USEPAGE=true;thisClass.RENDER_ON_MOVE=false;thisClass.RENDER_ON_RESIZE=true;thisClass.RENDER=true;thisClass.ALLOW_MULTILINK=false;thisClass.x=0;thisClass.y=0;thisClass.width=100;thisClass.height=100;thisClass.eangle=0;thisClass.eid="";thisClass.lid="";thisClass.transformLock=false;thisClass.e2xml=new MF_ComponentXML(this);thisClass.selector=null;thisClass.ecoordinates=null;thisClass.prevEcoordinates=null;thisClass.prevEsize=null;thisClass.esize=null;thisClass.GROUPID="";thisClass.delta=0;thisClass.linkType="";thisClass.link="";thisClass.linkObj=null;thisClass.templateID="";thisClass.setVisible=function(val){thisClass.visible=val;if(val){$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).hide();}};thisClass.getVisible=function(){return thisClass.visible;};thisClass.exml=function(){return thisClass.e2xml.formXML();};thisClass.setDefaultSettings=function(){};thisClass.getValues=function(){};thisClass.render=function(redraw){if(thisClass.GENONLY){return;}if(!thisClass.RENDER){return;}if(redraw==null){redraw=true;}MF_ComponentUtils.setDimensions(thisClass,thisClass.ecoordinates,thisClass.esize);thisClass.getValues();var rectCode="";thisClass.delta=0;var cwidth=thisClass.width+(thisClass.delta*2);var cheight=thisClass.height+(thisClass.delta*2);var ctop=thisClass.y-thisClass.delta;var cleft=thisClass.x-thisClass.delta;if(redraw){$("#"+thisClass.eid).remove();rectCode=rectCode+"<canvas class='mfHotspotCmpCls mfWFCompCls' id=\""+thisClass.eid+'" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style="pointer-events: none; -webkit-transform: translateZ(0);  position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+"px; top:"+(ctop).toString()+"px; left:"+(cleft).toString()+'px; " > ';rectCode=rectCode+"</canvas>";$("#mfPage"+mf_main.editorController.page.eid).append(rectCode);try{mf_main.editorController.postAddToPage(thisClass.eid);}catch(e){}}else{var ctx_cvs=(document.getElementById(thisClass.eid)).getContext("2d");ctx_cvs.clearRect(0,0,$("#"+thisClass.eid).width(),$("#"+thisClass.eid).height());document.getElementById(thisClass.eid).width=$("#"+thisClass.eid).width();$("#"+thisClass.eid).css("left",cleft);$("#"+thisClass.eid).css("top",ctop);$("#"+thisClass.eid).css("width",cwidth);$("#"+thisClass.eid).css("height",cheight);document.getElementById(thisClass.eid).width=cwidth;document.getElementById(thisClass.eid).height=cheight;}var ctx_obj=(document.getElementById(thisClass.eid)).getContext("2d");ctx_obj.beginPath();ctx_obj.rect(thisClass.delta,thisClass.delta,thisClass.width,thisClass.height);ctx_obj.closePath();ctx_obj.fillStyle=MF_ComponentUtils.hexToRGB("#ff0000","0.5");ctx_obj.fill();MF_Utils.rotate(thisClass.eid,thisClass.eangle);if(thisClass.selector){thisClass.selector.transform(thisClass);}};}function MF_HotspotSettings(){var thisClass=this;thisClass.eid=mf_main.editorController.guidGenerator();thisClass.transformLock=false;thisClass.component=null;thisClass.selector=null;thisClass.showSetting=true;thisClass.RENDERDOM=true;thisClass.transformSettings=null;thisClass.linkSettings=null;thisClass.remove=function(delSet){$("#"+thisClass.eid).hide();if(delSet){try{if(mf_main.MEMFREE){thisClass.transformSettings.remove();thisClass.linkSettings.remove();}}catch(e){console.log("error occured in the component MF_Hotspot.js");}$("#"+thisClass.eid).remove();}};thisClass.setValues=function(){if(thisClass.RENDERDOM){thisClass.render();thisClass.transformSettings=new MF_TransformSettings();thisClass.transformSettings.init(thisClass);thisClass.linkSettings=new MF_LinkSettings();thisClass.linkSettings.init(thisClass);}else{thisClass.transformSettings.init(thisClass);thisClass.linkSettings.init(thisClass);thisClass.setupEvents();$("#"+thisClass.eid).show();}};thisClass.updateTransform=function(noscale){thisClass.transformSettings.updateTransform(noscale);};thisClass.setupEvents=function(){if(thisClass.RENDERDOM){MF_ComponentSettingUtils.setupToggle(thisClass);}if(thisClass.RENDERDOM==true){thisClass.RENDERDOM=false;}};thisClass.render=function(redraw){if(redraw==null){redraw=true;}var htmlCode="";if(redraw){$("#"+thisClass.eid).remove();htmlCode=multiline(function(){
/*!
				
					
					<div class="mfComponentSetting" id="{{eid}}" style="position: relative; display: none; width:250px; height: 450px; overflow: hidden; " >
					<div  style="overflow: hidden;  width:100%; height: 100%;" >
					
					 
				
						<div id="{{eid}}_transform"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_link"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						
					
					
					
					</div></div>
					
				
				*/
console.log;});var compiled_template=Handlebars.compile(htmlCode);var context={eid:thisClass.eid};var compiled_code=compiled_template(context);$("#mfComponentSettings").append(compiled_code);thisClass.setupEvents();$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);}};}function MF_Icon(){var thisClass=this;thisClass.NAME="MF_Icon";thisClass.LABEL="Icon";thisClass.GENONLY=false;thisClass.TRANSFORM=false;thisClass.VRESIZE=false;thisClass.HRESIZE=false;thisClass.USEFONT=false;thisClass.ANNOTATION=false;thisClass.MULTILINE=false;thisClass.EDITABLE=false;thisClass.AUTOSIZE=false;thisClass.HIDE=true;thisClass.USEPAGE=true;thisClass.RENDER_ON_MOVE=false;thisClass.RENDER_ON_RESIZE=true;thisClass.RENDER=true;thisClass.ALLOW_MULTILINK=false;thisClass.templateID="";thisClass.x=0;thisClass.y=0;thisClass.width=45;thisClass.height=45;thisClass.eangle=0;thisClass.eid="";thisClass.lid="";thisClass.transformLock=false;thisClass.e2xml=new MF_ComponentXML(this);thisClass.selector=null;thisClass.ecoordinates=null;thisClass.prevEcoordinates=null;thisClass.prevEsize=null;thisClass.esize=null;thisClass.GROUPID="";thisClass.delta=0;thisClass.linkType="";thisClass.link="";thisClass.linkObj=null;thisClass.fillColors=["#FFFFFF","#F0F0F0"];thisClass.fillAlpha=0;thisClass.fillType="solid";thisClass.shadowType="none";thisClass.borderColor="#000000";thisClass.borderWidth=1;thisClass.borderType="none";thisClass.borderShow=true;thisClass.iconThickness="normal";thisClass.fontColor="#444444";thisClass.fontSize=24;thisClass.fontClass="ico-back";thisClass.setVisible=function(val){thisClass.visible=val;if(val){$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).hide();}};thisClass.getVisible=function(){return thisClass.visible;};thisClass.exml=function(){return thisClass.e2xml.formXML();};thisClass.setDefaultSettings=function(){thisClass.e2xml.addPropArray("fillColors",thisClass.fillColors,"String","default");thisClass.e2xml.addPropSingle("fillType",thisClass.fillType,"default");thisClass.e2xml.addPropSingle("fillAlpha",thisClass.fillAlpha,"default");thisClass.e2xml.addPropSingle("shadowType",thisClass.shadowType,"default");thisClass.e2xml.addPropSingle("borderColor",thisClass.borderColor,"default");thisClass.e2xml.addPropSingle("borderWidth",thisClass.borderWidth,"default");thisClass.e2xml.addPropSingle("borderType",thisClass.borderType,"default");thisClass.e2xml.addPropSingle("borderShow",thisClass.borderShow,"default");thisClass.e2xml.addPropSingle("fontColor",thisClass.fontColor,"default");thisClass.e2xml.addPropSingle("fontClass",thisClass.fontClass,"default");thisClass.e2xml.addPropSingle("fontSize",thisClass.fontSize,"default");thisClass.e2xml.addPropSingle("iconThickness",thisClass.iconThickness,"default");};thisClass.getValues=function(){if(thisClass.e2xml.settings.properties.fillColors!=null){thisClass.fillColors=thisClass.e2xml.settings.properties.fillColors;}if(thisClass.e2xml.settings.properties.fillType!=null){thisClass.fillType=thisClass.e2xml.settings.properties.fillType;}if(thisClass.e2xml.settings.properties.fillAlpha!=null){thisClass.fillAlpha=thisClass.e2xml.settings.properties.fillAlpha;}if(thisClass.e2xml.settings.properties.shadowType!=null){thisClass.shadowType=thisClass.e2xml.settings.properties.shadowType;}if(thisClass.e2xml.settings.properties.borderColor!=null){thisClass.borderColor=thisClass.e2xml.settings.properties.borderColor;}if(thisClass.e2xml.settings.properties.borderWidth!=null){thisClass.borderWidth=thisClass.e2xml.settings.properties.borderWidth;}if(thisClass.e2xml.settings.properties.borderType!=null){thisClass.borderType=thisClass.e2xml.settings.properties.borderType;}if(thisClass.e2xml.settings.properties.borderShow!=null){thisClass.borderShow=thisClass.e2xml.settings.properties.borderShow;}if(thisClass.e2xml.settings.properties.fontClass!=null){thisClass.fontClass=thisClass.e2xml.settings.properties.fontClass;}if(thisClass.e2xml.settings.properties.fontColor!=null){thisClass.fontColor=thisClass.e2xml.settings.properties.fontColor;}if(thisClass.e2xml.settings.properties.fontSize!=null){thisClass.fontSize=thisClass.e2xml.settings.properties.fontSize;}if(thisClass.e2xml.settings.properties.iconThickness!=null){thisClass.iconThickness=thisClass.e2xml.settings.properties.iconThickness;}};thisClass.render=function(redraw){if(thisClass.GENONLY){return;}if(redraw==null){redraw=true;}MF_ComponentUtils.setDimensions(thisClass,thisClass.ecoordinates,thisClass.esize);thisClass.getValues();var iconCode="";var iconComponent="";var thickness=thisClass.borderWidth;if(thisClass.borderType=="none"){thickness=0;}thisClass.delta=(1*thickness)+5;try{thisClass.delta=thisClass.delta+MF_ComponentUtils.computeShadowDelta(thisClass.shadowType);}catch(e){}var cwidth=thisClass.width+(thisClass.delta*2);var cheight=thisClass.height+(thisClass.delta*2);var ctop=thisClass.y-thisClass.delta;var cleft=thisClass.x-thisClass.delta;if(redraw){$("#"+thisClass.eid).remove();iconCode=iconCode+"<div class='mfWFCompCls'  id=\""+thisClass.eid+'"  style="pointer-events: none; -webkit-transform: translateZ(0);   position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+"px; top:"+(ctop).toString()+"px; left:"+(cleft).toString()+'px; " > ';iconCode=iconCode+'<canvas id="'+thisClass.eid+'_cvs" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style="-webkit-transform: translateZ(0);  position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+'px; top:0px; left:0px; " > ';iconCode=iconCode+"</canvas>";iconCode=iconCode+'<span id="'+thisClass.eid+'_txt"  style=" overflow: hidden; white-space: nowrap; text-align: center; font-weight: bold; -webkit-transform: translateZ(0);  position:absolute; width:'+(thisClass.width).toString()+"px; height:"+(thisClass.height).toString()+"px; line-height:"+(cheight).toString()+"px;  top:"+(thisClass.delta).toString()+"px; left:"+(thisClass.delta).toString()+'px;  " > ';iconCode=iconCode+"</span>";iconCode=iconCode+"</div>";$("#mfPage"+mf_main.editorController.page.eid).append(iconCode);try{mf_main.editorController.postAddToPage(thisClass.eid);}catch(e){}}else{var ctx_cvs=(document.getElementById(thisClass.eid+"_cvs")).getContext("2d");ctx_cvs.clearRect(0,0,$("#"+thisClass.eid+"_cvs").width(),$("#"+thisClass.eid+"_cvs").height());document.getElementById(thisClass.eid+"_cvs").width=$("#"+thisClass.eid+"_cvs").width();$("#"+thisClass.eid).css("left",cleft);$("#"+thisClass.eid).css("top",ctop);$("#"+thisClass.eid).css("width",cwidth);$("#"+thisClass.eid).css("height",cheight);$("#"+thisClass.eid+"_cvs").css("width",cwidth);$("#"+thisClass.eid+"_cvs").css("height",cheight);$("#"+thisClass.eid+"_txt").css("left",thisClass.delta);$("#"+thisClass.eid+"_txt").css("top",thisClass.delta);$("#"+thisClass.eid+"_txt").css("width",thisClass.width);$("#"+thisClass.eid+"_txt").css("height",thisClass.height);document.getElementById(thisClass.eid+"_cvs").width=cwidth;document.getElementById(thisClass.eid+"_cvs").height=cheight;}$("#"+thisClass.eid+"_txt").css("line-height",(thisClass.height).toString()+"px");var rad=thisClass.width;if(thisClass.height<thisClass.width){rad=thisClass.height;}if(rad<0){rad=1;}var ctx_Circle1=(document.getElementById(thisClass.eid+"_cvs")).getContext("2d");thickness=parseInt(thickness);if(Math.abs(thickness%2)==1){ctx_Circle1.translate(0.5,0.5);}var startx=cwidth/2;var starty=cheight/2;ctx_Circle1.save();MF_ComponentUtils.setComponentShadow(ctx_Circle1,thisClass.shadowType);ctx_Circle1.beginPath();ctx_Circle1.arc(startx,starty,rad/2,Math.PI*2,0,false);var defFillColor1=MF_ComponentUtils.hexToRGB(thisClass.fillColors[0],thisClass.fillAlpha);var defFillColor2=MF_ComponentUtils.hexToRGB(thisClass.fillColors[1],thisClass.fillAlpha);if(thisClass.fillType=="linear-vertical"){var grad_Circle1=ctx_Circle1.createLinearGradient(0,0,0,this.height);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_Circle1.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="linear-horizontal"){var grad_Circle1=ctx_Circle1.createLinearGradient(0,0,this.width,0);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_Circle1.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="linear-diagonally"){var grad_Circle1=ctx_Circle1.createLinearGradient(0,0,this.width,this.height);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_Circle1.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="radial"){var grad_Circle1=ctx_Circle1.createRadialGradient(startx,starty,(rad/2)/2,startx,starty,rad/2);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_Circle1.fillStyle=grad_Circle1;}else{ctx_Circle1.fillStyle=MF_ComponentUtils.hexToRGB(thisClass.fillColors[0],thisClass.fillAlpha);}}}}ctx_Circle1.fill();ctx_Circle1.restore();ctx_Circle1.lineWidth=thisClass.borderWidth;if(thisClass.borderType=="dashed"){ctx_Circle1.setLineDash([thisClass.borderWidth*2,4]);}if(thisClass.borderType=="dotted"){ctx_Circle1.setLineDash([thisClass.borderWidth,2]);}if(thisClass.borderWidth>0&&thisClass.borderType!="none"){ctx_Circle1.strokeStyle=MF_ComponentUtils.hexToRGB(thisClass.borderColor,1);ctx_Circle1.stroke();}$("#"+thisClass.eid+"_txt").css({"font-size":thisClass.fontSize+"px",color:thisClass.fontColor,"font-weight":thisClass.iconThickness});$("#"+thisClass.eid+"_txt").removeClass();$("#"+thisClass.eid+"_txt").addClass(thisClass.fontClass);MF_Utils.rotate(thisClass.eid,thisClass.eangle);if(thisClass.selector){thisClass.selector.transform(thisClass);}};}function MF_IconSettings(){var thisClass=this;thisClass.eid=mf_main.editorController.guidGenerator();thisClass.transformLock=false;thisClass.component=null;thisClass.selector=null;thisClass.RENDERDOM=true;thisClass.showSetting=true;thisClass.transformSettings=null;thisClass.backgroundSettings=null;thisClass.borderSettings=null;thisClass.linkSettings=null;thisClass.shadowSettings=null;thisClass.remove=function(delSet){$("#"+thisClass.eid).hide();if(delSet){try{if(mf_main.MEMFREE){if($("#mfIconFontSize_"+thisClass.eid).data("kendoNumericTextBox")){$("#mfIconFontSize_"+thisClass.eid).data("kendoNumericTextBox").destroy();}if($("#mfIconBold_"+thisClass.eid).data("kendoDropDownList")){$("#mfIconBold_"+thisClass.eid).data("kendoDropDownList").destroy();}thisClass.transformSettings.remove();thisClass.linkSettings.remove();thisClass.backgroundSettings.remove();thisClass.borderSettings.remove();thisClass.shadowSettings.remove();}}catch(e){console.log("error occured in the component MF_Icon.js");}$("#"+thisClass.eid).remove();}};thisClass.setValues=function(){if(thisClass.RENDERDOM){thisClass.render();thisClass.transformSettings=new MF_TransformSettings();thisClass.transformSettings.init(thisClass);thisClass.linkSettings=new MF_LinkSettings();thisClass.linkSettings.init(thisClass);thisClass.backgroundSettings=new MF_BackgroundSettings();thisClass.backgroundSettings.init(thisClass);thisClass.borderSettings=new MF_BorderSettings2();thisClass.borderSettings.init(thisClass);thisClass.shadowSettings=new MF_ShadowSettings();thisClass.shadowSettings.init(thisClass);}else{thisClass.transformSettings.init(thisClass);thisClass.linkSettings.init(thisClass);thisClass.backgroundSettings.init(thisClass);thisClass.borderSettings.init(thisClass);thisClass.shadowSettings.init(thisClass);thisClass.setupEvents();$("#"+thisClass.eid).show();}};thisClass.updateTransform=function(noscale){thisClass.transformSettings.updateTransform(noscale);};thisClass.setupEvents=function(){if(thisClass.RENDERDOM){MF_ComponentSettingUtils.setupToggle(thisClass);$("#mfSelectIconBtn_"+thisClass.eid).on("click",function(e){mf_main.editorController.disableShortcuts();mf_main.componentList.addIconMode=false;mf_main.editorController.showPopUp(e,$("#mfIconSelectionPopUp"));});$("#mfIconFontSize_"+thisClass.eid).kendoNumericTextBox({format:"#",spinners:true,min:8,max:500,decimals:0,spin:fontSizeChange});$("#mfIconFontSize_"+thisClass.eid).focusin(function(){mf_main.editorController.disableShortcuts();});$("#mfIconFontSize_"+thisClass.eid).focusout(function(){mf_main.editorController.enableShortcuts();});$("#mfIconFontColor_"+thisClass.eid).spectrum({showInput:true,preferredFormat:"hex6",showPalette:true,showSelectionPalette:true,palette:[MF_ComponentUtils.commonPallete()],show:function(color){mf_main.editorController.shortcutsFlag=false;},hide:function(color){mf_main.editorController.shortcutsFlag=true;},change:function(color){color=MF_Utils.RGBToHex(color.toRgbString());thisClass.component.e2xml.addPropSingle("fontColor",color);thisClass.component.render(false);}});$("#mfIconBold_"+thisClass.eid).kendoDropDownList({select:onIconBoldSelect,change:onIconBoldSelect});$("#mfIconFontSize_"+thisClass.eid).focus(function(){$("#mfIconFontSize_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",fontSizeChange);$("#mfIconFontSize_"+thisClass.eid).data("kendoNumericTextBox").bind("change",fontSizeChange);});}if(thisClass.RENDERDOM==true){thisClass.RENDERDOM=false;}function onIconBoldSelect(e){var iconBoldSelect=$("#mfIconBold_"+thisClass.eid).val();thisClass.component.e2xml.addPropSingle("iconThickness",iconBoldSelect);thisClass.component.render(false);}function fontSizeChange(){$("#mfIconFontSize_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",fontSizeChange);$("#mfclipboard").focus();if(this.value()==""||this.value()==null){if(this.value()!=0&&this.value()!="0"){return;}}var value=this.value();thisClass.component.e2xml.addPropSingle("fontSize",value);thisClass.component.render(false);}var fontSize=$("#mfIconFontSize_"+thisClass.eid).data("kendoNumericTextBox");var iconThickness=$("#mfIconBold_"+thisClass.eid).data("kendoDropDownList");iconThickness.value(thisClass.component.iconThickness);fontSize.value(thisClass.component.fontSize);$("#mfIconFontColor_"+thisClass.eid).spectrum("set",thisClass.component.fontColor);};thisClass.render=function(redraw){if(redraw==null){redraw=true;}var htmlCode="";if(redraw){$("#"+thisClass.eid).remove();htmlCode=multiline(function(){
/*!
				
					
					<div class="mfComponentSetting" id="{{eid}}" style=" position: relative; display: none; width:250px; height: 1250px; overflow: hidden; " >
					<div  style="overflow: hidden;  width:100%; height: 100%;" >
					
					
					
						<div id="{{eid}}_transform"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_link"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_builtin"  style="overflow: hidden; width:100%; " >
					
								<div id="{{eid}}_settingToggle"  class="mfImgLink mfSettingsToggleBtn" style=" " >
				
									<div style="float: left; width: 185px; padding-left: 5px;">Icon</div>
									
									<div style="float: left; width: 50px; text-align: right;">
										<span id="{{eid}}_settingToggleHide"  style="display: none; font-size: 20px;" class="ico-angle-right"></span>
										<span id="{{eid}}_settingToggleShow"  style="font-size: 20px;" class="ico-angle-down"></span>
									</div>
								</div>
										
								<div id="{{eid}}_partSetting" style="overflow: hidden; position: relative; width:100%; height: 210px;" >		
					
								
											<div id="mfSelectIconBtn_{{eid}}" class="mfImgLink btn" type="submit" style="position: absolute; width: 220px; left: 10px; top: 15px; cursor: pointer;">
											Change Icon
											</div>
											
											<div style="position: absolute; left: 10px; top: 70px;">Icon Color:</div>
											<div style='position: absolute; left: 80px; top: 65px;' ><input style='width: 100px;' type='text' id='mfIconFontColor_{{eid}}' /></div>
											<div style="position: absolute; left: 10px; top: 115px;">Icon Size:</div>
											<div style='position: absolute; left: 80px; top: 110px;' ><input style='width: 100px;' type='text' id='mfIconFontSize_{{eid}}' value='12' /></div>
											
								            <div style="position: absolute; left: 10px; top: 155px;">Icon Bold:</div>
											
											 <select style="position: absolute; left: 80px; top: 150px; width: 100px;" id="mfIconBold_{{eid}}">
											 	<option value="normal">Normal</option>
											 	<option value="bold">Bold</option>
											 	<option value="900">Bolder</option>
											 </select>
								
								
								</div>
						</div>
						
						<div id="{{eid}}_background"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_border"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_shadow"  style="overflow: hidden; width:100%; " >
							
						</div>
					
					
					
					</div></div>
					 
				
				*/
console.log;});var compiled_template=Handlebars.compile(htmlCode);var context={eid:thisClass.eid};var compiled_code=compiled_template(context);$("#mfComponentSettings").append(compiled_code);thisClass.setupEvents();$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);}};}function MF_Text(){var thisClass=this;thisClass.NAME="MF_Text";thisClass.LABEL="Text";thisClass.GENONLY=false;thisClass.TRANSFORM=false;thisClass.VRESIZE=false;thisClass.HRESIZE=false;thisClass.AUTOSIZE=false;thisClass.USEFONT=true;thisClass.MULTILINE=true;thisClass.ANNOTATION=false;thisClass.EDITABLE=true;thisClass.HIDE=true;thisClass.USEPAGE=false;thisClass.RENDER_ON_MOVE=true;thisClass.RENDER_ON_RESIZE=true;thisClass.RENDER=true;thisClass.ALLOW_MULTILINK=false;thisClass.x=0;thisClass.y=0;thisClass.width=200;thisClass.height=80;thisClass.eangle=0;thisClass.eid="";thisClass.lid="";thisClass.templateID="";thisClass.transformLock=false;thisClass.e2xml=new MF_ComponentXML(this);thisClass.selector=null;thisClass.ecoordinates=null;thisClass.prevEcoordinates=null;thisClass.prevEsize=null;thisClass.esize=null;thisClass.GROUPID="";thisClass.delta=0;thisClass.link="";thisClass.linkObj=null;thisClass.fontType="sourcesanspro";thisClass.text="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc maximus, nulla ut commodo sagittis, sapien dui mattis dui, non pulvinar lorem felis nec erat";thisClass.isGoogleFontUsed=false;thisClass.textAlign="left";thisClass.fontSize=12;thisClass.lineHeight=1;thisClass.charSpace=0;thisClass.padding=5;thisClass.fontColor="#333333";thisClass.fontWeight="normal";thisClass.fontStyle="normal";thisClass.textDecoration="none";thisClass.setVisible=function(val){thisClass.visible=val;if(val){$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).hide();}};thisClass.getVisible=function(){return thisClass.visible;};thisClass.exml=function(){return thisClass.e2xml.formXML();};thisClass.setDefaultSettings=function(){thisClass.e2xml.addPropSingle("text",thisClass.text,"default");thisClass.e2xml.addPropSingle("fontType",thisClass.fontType,"default");thisClass.e2xml.addPropSingle("isGoogleFontUsed",thisClass.isGoogleFontUsed,"default");thisClass.e2xml.addPropSingle("textAlign",thisClass.textAlign,"default");thisClass.e2xml.addPropSingle("fontSize",thisClass.fontSize,"default");thisClass.e2xml.addPropSingle("charSpace",thisClass.charSpace,"default");thisClass.e2xml.addPropSingle("fontColor",thisClass.fontColor,"default");thisClass.e2xml.addPropSingle("lineHeight",thisClass.lineHeight,"default");thisClass.e2xml.addPropSingle("padding",thisClass.padding,"default");thisClass.e2xml.addPropSingle("fontWeight",thisClass.fontWeight,"default");thisClass.e2xml.addPropSingle("fontStyle",thisClass.fontStyle,"default");thisClass.e2xml.addPropSingle("textDecoration",thisClass.textDecoration,"default");};thisClass.getValues=function(){if(thisClass.e2xml.settings.properties.fontWeight!=null){thisClass.fontWeight=thisClass.e2xml.settings.properties.fontWeight;}if(thisClass.e2xml.settings.properties.fontStyle!=null){thisClass.fontStyle=thisClass.e2xml.settings.properties.fontStyle;}if(thisClass.e2xml.settings.properties.textDecoration!=null){thisClass.textDecoration=thisClass.e2xml.settings.properties.textDecoration;}if(thisClass.e2xml.settings.properties.text!=null){thisClass.text=thisClass.e2xml.settings.properties.text;}if(thisClass.e2xml.settings.properties.fontType!=null){thisClass.fontType=thisClass.e2xml.settings.properties.fontType;}if(thisClass.e2xml.settings.properties.isGoogleFontUsed!=null){thisClass.isGoogleFontUsed=thisClass.e2xml.settings.properties.isGoogleFontUsed;}if(thisClass.e2xml.settings.properties.textAlign!=null){thisClass.textAlign=thisClass.e2xml.settings.properties.textAlign;}if(thisClass.e2xml.settings.properties.fontSize!=null){thisClass.fontSize=thisClass.e2xml.settings.properties.fontSize;}if(thisClass.e2xml.settings.properties.charSpace!=null){thisClass.charSpace=thisClass.e2xml.settings.properties.charSpace;}if(thisClass.e2xml.settings.properties.fontColor!=null){thisClass.fontColor=thisClass.e2xml.settings.properties.fontColor;}if(thisClass.e2xml.settings.properties.lineHeight!=null){thisClass.lineHeight=thisClass.e2xml.settings.properties.lineHeight;}if(thisClass.e2xml.settings.properties.padding!=null){thisClass.padding=thisClass.e2xml.settings.properties.padding;}};thisClass.render=function(redraw){if(thisClass.GENONLY){return;}if(!thisClass.RENDER){return;}if(redraw==null){redraw=true;}MF_ComponentUtils.setDimensions(thisClass,thisClass.ecoordinates,thisClass.esize);thisClass.getValues();var textCode="";thisClass.delta=0;var cwidth=thisClass.width+(thisClass.delta*2);var cheight=thisClass.height+(thisClass.delta*2);var ctop=thisClass.y-thisClass.delta;var cleft=thisClass.x-thisClass.delta;var fontFamily=mf_main.editorController.fontController.getFontByIDComponent(thisClass.fontType,thisClass);if(redraw){$("#"+thisClass.eid).remove();textCode=textCode+"<div class='mfWFCompCls mfWFTxtCls'  id=\""+thisClass.eid+'"  style="line-height: normal; -webkit-transform: translateZ(0); padding: 0px; margin: 0px; word-wrap: break-word; color: #000000; font-family: \''+fontFamily+"'; position:absolute;  top:"+(ctop).toString()+"px; left:"+(cleft).toString()+"px; width:"+(cwidth).toString()+"px; height:"+(cheight).toString()+'px;  overflow: hidden;" > ';textCode=textCode+"</div>";$("#mfPage"+mf_main.editorController.page.eid).append(textCode);try{mf_main.editorController.postAddToPage(thisClass.eid);}catch(e){}}else{$("#"+thisClass.eid).css("left",cleft);$("#"+thisClass.eid).css("top",ctop);$("#"+thisClass.eid).css("width",cwidth);$("#"+thisClass.eid).css("height",cheight);}$("#"+thisClass.eid).css("user-select","none");$("#"+thisClass.eid).css("-webkit-user-select","none");$("#"+thisClass.eid).css("-moz-user-select","none");thisClass.text=thisClass.text.replace(/text-decoration-line:/g,"text-decoration:");$("#"+thisClass.eid).html(MF_Utils.htmlDecode(thisClass.text));$("#"+thisClass.eid).css("font-family",fontFamily);$("#"+thisClass.eid).css("text-align",thisClass.textAlign);$("#"+thisClass.eid).css("font-size",thisClass.fontSize);if(thisClass.charSpace==0||thisClass.charSpace=="0"){$("#"+thisClass.eid).css("letter-spacing","normal");}else{$("#"+thisClass.eid).css("letter-spacing",thisClass.charSpace);}$("#"+thisClass.eid).css("line-height",thisClass.lineHeight);$("#"+thisClass.eid).css("padding",thisClass.padding);$("#"+thisClass.eid).css("color",thisClass.fontColor);$("#"+thisClass.eid+"").css("font-weight",thisClass.fontWeight);$("#"+thisClass.eid+"").css("font-style",thisClass.fontStyle);$("#"+thisClass.eid+"").css("text-decoration",thisClass.textDecoration);MF_Utils.rotate(thisClass.eid,thisClass.eangle);if(thisClass.selector){thisClass.selector.transform(thisClass);}};}function MF_TextSettings(){var thisClass=this;thisClass.eid=mf_main.editorController.guidGenerator();thisClass.transformLock=false;thisClass.component=null;thisClass.selector=null;thisClass.showSetting=true;thisClass.RENDERDOM=true;thisClass.transformSettings=null;thisClass.fontSettings=null;thisClass.linkSettings=null;thisClass.lineHeightBox=null;thisClass.paddingBox=null;thisClass.remove=function(delSet){$("#"+thisClass.eid).hide();if(delSet){try{if(mf_main.MEMFREE){if($("#mfLineHeight_"+thisClass.eid).data("kendoNumericTextBox")){$("#mfLineHeight_"+thisClass.eid).data("kendoNumericTextBox").destroy();}if($("#MF_FontLetterSpace_"+thisClass.eid).data("kendoNumericTextBox")){$("#MF_FontLetterSpace_"+thisClass.eid).data("kendoNumericTextBox").destroy();}if($("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox")){$("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox").destroy();}thisClass.transformSettings.remove();thisClass.linkSettings.remove();thisClass.fontSettings.remove();}}catch(e){console.log("error occured in the component MF_Text.js");}$("#"+thisClass.eid).remove();}};thisClass.setValues=function(){if(thisClass.RENDERDOM){thisClass.render();thisClass.transformSettings=new MF_TransformSettings();thisClass.transformSettings.init(thisClass);thisClass.linkSettings=new MF_LinkSettings();thisClass.linkSettings.init(thisClass);thisClass.fontSettings=new MF_FontSettings2();thisClass.fontSettings.init(thisClass);}else{thisClass.transformSettings.init(thisClass);thisClass.linkSettings.init(thisClass);thisClass.fontSettings.init(thisClass);thisClass.setupEvents();$("#"+thisClass.eid).show();}};thisClass.updateTransform=function(noscale){thisClass.transformSettings.updateTransform(noscale);};thisClass.setupEvents=function(){if(thisClass.RENDERDOM){MF_ComponentSettingUtils.setupToggle(thisClass);$("#mfGenerateLorem_"+thisClass.eid).click(function(event){mf_main.editorController.stopEditingText();var txt=thisClass.component.text;var txt2=txt+" Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc maximus, nulla ut commodo sagittis, sapien dui mattis dui, non pulvinar lorem felis nec erat. Aliquam egestas, velit at condimentum placerat, sem sapien laoreet mauris, dictum porttitor lacus est nec enim. Vivamus feugiat elit lorem, eu porttitor ante ultrices id. Phasellus suscipit tellus ante, nec dignissim elit imperdiet nec. Nullam fringilla feugiat nisl. Ut pretium, metus venenatis dictum viverra, dui metus finibus enim, ac rhoncus sem lorem vitae mauris. Suspendisse ut venenatis libero. Suspendisse lorem felis, pretium in maximus id, tempor non ipsum";thisClass.component.e2xml.addPropSingle("text",txt2);thisClass.component.render(false);});$("#mfLineHeight_"+thisClass.eid).focusin(function(){mf_main.editorController.disableShortcuts();});$("#mfLineHeight_"+thisClass.eid).focusout(function(){mf_main.editorController.enableShortcuts();});$("#mfLineHeight_"+thisClass.eid).kendoNumericTextBox({spinners:true,spin:onLineHeightChange});$("#mfLineHeight_"+thisClass.eid).focus(function(){$("#mfLineHeight_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onLineHeightChange);$("#mfLineHeight_"+thisClass.eid).data("kendoNumericTextBox").bind("change",onLineHeightChange);});$("#MF_FontLetterSpace_"+thisClass.eid).focusin(function(){mf_main.editorController.disableShortcuts();});$("#MF_FontLetterSpace_"+thisClass.eid).focusout(function(){mf_main.editorController.enableShortcuts();});$("#MF_FontLetterSpace_"+thisClass.eid).kendoNumericTextBox({format:"#",spinners:true,spin:onFontLetterSpaceChange,decimals:0});$("#MF_FontLetterSpace_"+thisClass.eid).focus(function(){$("#MF_FontLetterSpace_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onFontLetterSpaceChange);$("#MF_FontLetterSpace_"+thisClass.eid).data("kendoNumericTextBox").bind("change",onFontLetterSpaceChange);});$("#mfPadding_"+thisClass.eid).focusin(function(){mf_main.editorController.disableShortcuts();});$("#mfPadding_"+thisClass.eid).focusout(function(){mf_main.editorController.enableShortcuts();});$("#mfPadding_"+thisClass.eid).kendoNumericTextBox({format:"#",decimals:0,spinners:true,spin:onPaddingChange});$("#mfPadding_"+thisClass.eid).focus(function(){$("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onPaddingChange);$("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox").bind("change",onPaddingChange);});}if(thisClass.RENDERDOM==true){thisClass.RENDERDOM=false;}function onLineHeightChange(){$("#mfLineHeight_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onLineHeightChange);$("#mfclipboard").focus();if(this.value()==""||this.value()==null){if(this.value()!=0&&this.value()!="0"){return;}}mf_main.editorController.stopEditingText();var w=this.value();thisClass.component.e2xml.addPropSingle("lineHeight",w);thisClass.component.render(false);}thisClass.lineHeightBox=$("#mfLineHeight_"+thisClass.eid).data("kendoNumericTextBox");thisClass.lineHeightBox.value(parseFloat(thisClass.component.lineHeight));function onFontLetterSpaceChange(){$("#MF_FontLetterSpace_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onFontLetterSpaceChange);$("#mfclipboard").focus();if(this.value()==""||this.value()==null){if(this.value()!=0&&this.value()!="0"){return;}}var letterspace=this.value();mf_main.editorController.stopEditingText();thisClass.component.e2xml.addPropSingle("charSpace",letterspace);thisClass.component.render(false);if(thisClass.component&&thisClass.component.NAME=="MF_Text"){var stext=thisClass.component.text;stext=stext.replace(/(letter-spacing:) \d+(px)/g,"letter-spacing: "+letterspace+"px ");thisClass.component.e2xml.addPropSingle("text",stext,"default");thisClass.component.render(false);}}var fontLetterSpaceBox=$("#MF_FontLetterSpace_"+thisClass.eid).data("kendoNumericTextBox");fontLetterSpaceBox.value(thisClass.component.charSpace);function onPaddingChange(){$("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onPaddingChange);$("#mfclipboard").focus();if(this.value()==""||this.value()==null){if(this.value()!=0&&this.value()!="0"){return;}}mf_main.editorController.stopEditingText();var w=this.value();thisClass.component.e2xml.addPropSingle("padding",w);thisClass.component.render(false);}thisClass.paddingBox=$("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox");thisClass.paddingBox.value(parseFloat(thisClass.component.padding));};thisClass.render=function(redraw){if(redraw==null){redraw=true;}var htmlCode="";if(redraw){$("#"+thisClass.eid).remove();htmlCode=multiline(function(){
/*!
				
					
					<div class="mfComponentSetting" id="{{eid}}" style="position: relative; display: none; width:250px; height: 950px; overflow: hidden; " >
					<div  style="overflow: hidden;  width:100%; height: 100%;" >
					
					 
						<div class="mfSettingsTextEditMsg" >
							Double-Click on Comp / Click Here to Edit
						</div>
					
						<div id="{{eid}}_transform"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_link"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_font"  style="overflow: hidden; width:100%; " >
					
						</div>
						
						<div id="{{eid}}_builtin"  style="overflow: hidden; width:100%; " >
					
								<div id="{{eid}}_settingToggle"  class="mfImgLink mfSettingsToggleBtn" style=" " >
				
									<div style="float: left; width: 185px; padding-left: 5px;">Settings</div>
									
									<div style="float: left; width: 50px; text-align: right;">
										<span id="{{eid}}_settingToggleHide"  style="display: none; font-size: 20px;" class="ico-angle-right"></span>
										<span id="{{eid}}_settingToggleShow"  style="font-size: 20px;" class="ico-angle-down"></span>
									</div>
								</div>
										
								<div id="{{eid}}_partSetting" style="overflow: hidden; position: relative; width:100%; height: 300px;" >		
					
								
									<div id="mfGenerateLorem_{{eid}}" style="position: absolute; left: 10px; top: 20px; width: 220px; font-weight: normal;" class="btn" type="submit">Generate Lorem Ispum</div>
									
									
									  
									 <div style="position: absolute; left: 10px; top: 75px;">Line Height:</div>
									<div style="position: absolute; left: 100px; top: 70px;"><input style="width: 70px;" id="mfLineHeight_{{eid}}" type="number" value="0" min="0" max="1000" step="0.1" /></div>

									 <div style="position: absolute; left: 10px; top: 125px;">Padding:</div>
									<div style="position: absolute; left: 100px; top: 120px;"><input style="width: 70px;" id="mfPadding_{{eid}}" type="number" value="0" min="0" max="1000" step="1" /></div>

									 <div style="position: absolute; left: 10px; top: 175px;">Letter Spacing:</div>
									<div style="position: absolute; left: 100px; top: 170px;"><input style="width: 70px;"  id="MF_FontLetterSpace_{{eid}}" type="number" value="1" min="-10" max="100" step="1" /> px</div>



								
								
								</div>
						</div>
					
					
					</div></div>
					
				
				*/
console.log;});var compiled_template=Handlebars.compile(htmlCode);var context={eid:thisClass.eid};var compiled_code=compiled_template(context);$("#mfComponentSettings").append(compiled_code);thisClass.setupEvents();$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);}};}function MF_Draw(){var thisClass=this;thisClass.NAME="MF_Draw";thisClass.LABEL="Drawing";thisClass.GENONLY=false;thisClass.TRANSFORM=false;thisClass.VRESIZE=false;thisClass.HRESIZE=false;thisClass.USEFONT=true;thisClass.ANNOTATION=false;thisClass.MULTILINE=false;thisClass.EDITABLE=false;thisClass.AUTOSIZE=false;thisClass.HIDE=true;thisClass.USEPAGE=true;thisClass.RENDER_ON_MOVE=true;thisClass.RENDER_ON_RESIZE=true;thisClass.RENDER=true;thisClass.ALLOW_MULTILINK=false;thisClass.POINTSELECT=false;thisClass.x=0;thisClass.y=0;thisClass.width=100;thisClass.height=100;thisClass.eangle=0;thisClass.eid="";thisClass.lid="";thisClass.transformLock=false;thisClass.e2xml=new MF_ComponentXML(this);thisClass.selector=null;thisClass.ecoordinates=null;thisClass.prevEcoordinates=null;thisClass.prevEsize=null;thisClass.esize=null;thisClass.GROUPID="";thisClass.delta=0;thisClass.linkType="";thisClass.link="";thisClass.linkObj=null;thisClass.templateID="";thisClass.shadowType="none";thisClass.maintainSize=false;thisClass.opacity=1;thisClass.dataUrl="";thisClass.originalEsize=null;thisClass.imgLoaded=false;thisClass.colorEnabled=false;thisClass.rgb="0,0,0";thisClass.flip=false;thisClass.tempFile=null;thisClass.tempURL=false;thisClass.tempSizeSet=true;thisClass.img=null;thisClass.canvasDraw=false;thisClass.setVisible=function(val){thisClass.visible=val;if(val){$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).hide();}};thisClass.getVisible=function(){return thisClass.visible;};thisClass.setImgLoaded=function(val){thisClass.imgLoaded=val;if(mf_main.RENDER){mf_main.editorController.checkLoaded();}};thisClass.exml=function(){return thisClass.e2xml.formXML();};thisClass.setDefaultSettings=function(){thisClass.e2xml.addPropSingle("opacity",thisClass.opacity,"default");thisClass.e2xml.addPropSingle("maintainSize",thisClass.maintainSize,"default");thisClass.e2xml.addPropSingle("shadowType",thisClass.shadowType,"default");thisClass.e2xml.addPropSingle("dataUrl",thisClass.dataUrl,"default");thisClass.e2xml.addPropObject("originalEsize",thisClass.originalEsize,"default");thisClass.e2xml.addPropSingle("colorEnabled",thisClass.colorEnabled,"default");thisClass.e2xml.addPropSingle("rgb",thisClass.rgb,"default");thisClass.e2xml.addPropSingle("flip",thisClass.flip,"default");};thisClass.getValues=function(){if(thisClass.e2xml.settings.properties.colorEnabled!=null){thisClass.colorEnabled=thisClass.e2xml.settings.properties.colorEnabled;}if(thisClass.e2xml.settings.properties.rgb!=null){thisClass.rgb=thisClass.e2xml.settings.properties.rgb;}if(thisClass.e2xml.settings.properties.flip!=null){thisClass.flip=thisClass.e2xml.settings.properties.flip;}if(thisClass.e2xml.settings.properties.opacity!=null){thisClass.opacity=thisClass.e2xml.settings.properties.opacity;}if(thisClass.e2xml.settings.properties.shadowType!=null){thisClass.shadowType=thisClass.e2xml.settings.properties.shadowType;}if(thisClass.e2xml.settings.properties.maintainSize!=null){thisClass.maintainSize=thisClass.e2xml.settings.properties.maintainSize;}if(thisClass.e2xml.settings.properties.dataUrl!=null){thisClass.dataUrl=thisClass.e2xml.settings.properties.dataUrl;}if(thisClass.e2xml.settings.properties.originalEsize!=null){thisClass.originalEsize=thisClass.e2xml.settings.properties.originalEsize;}};thisClass.imageDraw=function(cwidth,cheight){if(thisClass.img){var newwidth=cwidth;var newheight=cheight;if(thisClass.maintainSize){var maxWidth=cwidth;var maxHeight=cheight;var srcWidth=thisClass.originalEsize.width;var srcHeight=thisClass.originalEsize.height;var ratioarr=[maxWidth/srcWidth,maxHeight/srcHeight];ratioarr=Math.min(ratioarr[0],ratioarr[1]);newwidth=srcWidth*ratioarr;newheight=srcHeight*ratioarr;}var canv=document.getElementById(thisClass.eid+"");var ctx=canv.getContext("2d");canv.width=cwidth;canv.height=cheight;ctx.imageSmoothingEnabled=true;ctx.mozImageSmoothingEnabled=true;ctx.msImageSmoothingEnabled=true;if(thisClass.flip){ctx.translate(cwidth,thisClass.delta);ctx.scale(-1,1);}if(thisClass.img!=null){ctx.drawImage(thisClass.img,(cwidth/2)-(newwidth/2),thisClass.delta,newwidth,newheight);if(thisClass.colorEnabled){var rgbArr=thisClass.rgb.split(",");var imgPixels=ctx.getImageData(thisClass.delta,thisClass.delta,cwidth,cheight);for(var y=0;y<imgPixels.height;y++){for(var x=0;x<imgPixels.width;x++){var i=(y*4)*imgPixels.width+x*4;var avg=(imgPixels.data[i]+imgPixels.data[i+1]+imgPixels.data[i+2])/3;imgPixels.data[i]=rgbArr[0];imgPixels.data[i+1]=rgbArr[1];imgPixels.data[i+2]=rgbArr[2];}}ctx.putImageData(imgPixels,thisClass.delta,thisClass.delta,thisClass.delta,thisClass.delta,imgPixels.width,imgPixels.height);}}}};thisClass.render=function(redraw){if(thisClass.GENONLY){return;}if(!thisClass.RENDER){return;}if(redraw==null){redraw=true;}if(thisClass.originalEsize==null){thisClass.originalEsize=new Object();thisClass.originalEsize.width=100;thisClass.originalEsize.height=100;}MF_ComponentUtils.setDimensions(thisClass,thisClass.ecoordinates,thisClass.esize);thisClass.getValues();thisClass.delta=(1*1)+5;var cwidth=thisClass.width+(thisClass.delta*2);var cheight=thisClass.height+(thisClass.delta*2);var ctop=thisClass.y-thisClass.delta;var cleft=thisClass.x-thisClass.delta;if(thisClass.dataUrl!=""){thisClass.delta=0;cwidth=thisClass.width;cheight=thisClass.height;ctop=thisClass.y;cleft=thisClass.x;}var imgCode="";if(redraw){$("#"+thisClass.eid).remove();var imgurl=thisClass.dataUrl;thisClass.canvasDraw=true;var aurl=imgurl;imgCode=imgCode+"<canvas class='mfWFCompCls' id=\""+thisClass.eid+'" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style=" -webkit-transform: translateZ(0);  pointer-events: none;   position:absolute; text-align: center;width:'+cwidth.toString()+"px; height:"+cheight.toString()+"px; position: absolute;  top:"+ctop.toString()+"px; left:"+cleft.toString()+'px; " > ';imgCode=imgCode+"</canvas>";$("#mfPage"+mf_main.editorController.page.eid).append(imgCode);try{mf_main.editorController.postAddToPage(thisClass.eid);}catch(e){}if(thisClass.canvasDraw){$("#"+thisClass.eid+"").show();$("#"+thisClass.eid).css("opacity",thisClass.opacity);var newwidth=thisClass.width;var newheight=thisClass.height;if(thisClass.maintainSize){var maxWidth=thisClass.width;var maxHeight=thisClass.height;var srcWidth=thisClass.originalEsize.width;var srcHeight=thisClass.originalEsize.height;var ratioarr=[maxWidth/srcWidth,maxHeight/srcHeight];ratioarr=Math.min(ratioarr[0],ratioarr[1]);newwidth=srcWidth*ratioarr;newheight=srcHeight*ratioarr;}var canv=document.getElementById(thisClass.eid+"");var ctx=canv.getContext("2d");canv.width=thisClass.width;canv.height=thisClass.height;ctx.imageSmoothingEnabled=true;ctx.mozImageSmoothingEnabled=true;ctx.msImageSmoothingEnabled=true;var img=new Image();img.onload=function(){thisClass.img=img;if(thisClass.tempFile){thisClass.originalWidth=thisClass.img.width;thisClass.originalHeight=thisClass.img.height;cwidth=thisClass.img.width;cheight=thisClass.img.height;}thisClass.img.crossOrigin="Anonymous";thisClass.setImgLoaded(true);thisClass.imageDraw(cwidth,cheight);};img.onerror=function(){thisClass.setImgLoaded(true);};img.src=imgurl;}}else{if(thisClass.canvasDraw){$("#"+thisClass.eid).css("left",cleft);$("#"+thisClass.eid).css("top",ctop);$("#"+thisClass.eid).css("width",cwidth);$("#"+thisClass.eid).css("height",cheight);$("#"+thisClass.eid).css("opacity",thisClass.opacity);var canv=document.getElementById(thisClass.eid+"");var ctx=canv.getContext("2d");if(ctx){ctx.clearRect(0,0,$("#"+thisClass.eid+"").width(),$("#"+thisClass.eid+"").height());}document.getElementById(thisClass.eid+"").width=$("#"+thisClass.eid+"").width();$("#"+thisClass.eid+"").css("width",cwidth);$("#"+thisClass.eid+"").css("height",cheight);document.getElementById(thisClass.eid+"").width=cwidth;document.getElementById(thisClass.eid+"").height=cheight;$("#"+thisClass.eid).css("width",cwidth);$("#"+thisClass.eid).css("height",cheight);$("#"+thisClass.eid+"").css("opacity",thisClass.opacity);thisClass.imageDraw(cwidth,cheight);}}MF_ComponentUtils.setComponentShadowImageCSS(thisClass.eid,thisClass.shadowType);MF_Utils.rotate(thisClass.eid,thisClass.eangle);if(thisClass.selector){thisClass.selector.transform(thisClass);}if(thisClass.eangle==0){if(thisClass.selector){$("#"+thisClass.selector.id).css("pointer-events","none");}thisClass.POINTSELECT=true;}else{if(thisClass.selector){$("#"+thisClass.selector.id).css("pointer-events","auto");}thisClass.POINTSELECT=false;}};}function MF_DrawSettings(){var thisClass=this;thisClass.eid=mf_main.editorController.guidGenerator();thisClass.transformLock=false;thisClass.component=null;thisClass.selector=null;thisClass.RENDERDOM=true;thisClass.showSetting=true;thisClass.transformSettings=null;thisClass.linkSettings=null;thisClass.shadowSettings=null;thisClass.remove=function(delSet){$("#"+thisClass.eid).hide();if(delSet){try{if(mf_main.MEMFREE){if($("#mfFillOpacity"+thisClass.eid).data("kendoSlider")){$("#mfFillOpacity"+thisClass.eid).data("kendoSlider").destroy();}thisClass.transformSettings.remove();thisClass.linkSettings.remove();thisClass.shadowSettings.remove();}}catch(e){console.log("error occured in the component MF_Draw.js");}$("#"+thisClass.eid).remove();}};thisClass.setValues=function(){if(thisClass.RENDERDOM){thisClass.render();thisClass.transformSettings=new MF_TransformSettings();thisClass.transformSettings.init(thisClass);thisClass.linkSettings=new MF_LinkSettings();thisClass.linkSettings.init(thisClass);thisClass.shadowSettings=new MF_ShadowSettings();thisClass.shadowSettings.init(thisClass);}else{thisClass.transformSettings.init(thisClass);thisClass.linkSettings.init(thisClass);thisClass.shadowSettings.init(thisClass);thisClass.setupEvents();$("#"+thisClass.eid).show();}$("#mfRevert"+thisClass.eid).show();$(".mfImgPropCls"+thisClass.eid).show();};thisClass.updateTransform=function(noscale){thisClass.transformSettings.updateTransform(noscale);};thisClass.setupEvents=function(){if(thisClass.RENDERDOM){MF_ComponentSettingUtils.setupToggle(thisClass);$("#mfFillOpacity"+thisClass.eid).kendoSlider({showButtons:false,change:alphaSliderOnSlide,tickPlacement:"none",min:0,max:1,smallStep:0.1,largeStep:0.1,tooltip:{enabled:false}}).data("kendoSlider");$("#aspectToggleBtn_"+thisClass.eid).click(toggleSelectionAspect);$("#flipToggleBtn_"+thisClass.eid).click(toggleSelectionFlip);$("#colorToggleBtn_"+thisClass.eid).click(toggleSelectionColor);$("#mfRevert"+thisClass.eid).click(function(){var szObject=new Object();szObject.width=thisClass.component.originalEsize.width;szObject.height=thisClass.component.originalEsize.height;thisClass.component.e2xml.addPropObject("esize",szObject);thisClass.component.render(true);mf_main.editorController.reStackComponents();mf_main.editorController.addSelectorResize(thisClass.component.selector);thisClass.updateTransform(true);});$("#mfImgColor_"+thisClass.eid).spectrum({showInput:true,preferredFormat:"hex6",showPalette:true,showSelectionPalette:true,palette:[MF_ComponentUtils.commonPallete()],show:function(color){mf_main.editorController.shortcutsFlag=false;},hide:function(color){mf_main.editorController.shortcutsFlag=true;},change:function(color){var rgbStr=color.toRgbString();var digits=/(.*?)rgb\((\d+), (\d+), (\d+)\)/.exec(rgbStr);var red=parseInt(digits[2]);var green=parseInt(digits[3]);var blue=parseInt(digits[4]);thisClass.component.e2xml.addPropSingle("rgb",red+","+green+","+blue);thisClass.component.render(true);mf_main.editorController.reStackComponents();}});}if(thisClass.RENDERDOM==true){thisClass.RENDERDOM=false;}var aslider=$("#mfFillOpacity"+thisClass.eid).data("kendoSlider");aslider.value(thisClass.component.opacity);function alphaSliderOnSlide(e){thisClass.component.e2xml.addPropSingle("opacity",e.value);thisClass.component.render(true);mf_main.editorController.reStackComponents();}$("#aspectToggleBtn_"+thisClass.eid).attr("checked",thisClass.component.maintainSize);function toggleSelectionAspect(e){var $this=$(this);if($this.is(":checked")){thisClass.component.e2xml.addPropSingle("maintainSize",true);}else{thisClass.component.e2xml.addPropSingle("maintainSize",false);}thisClass.component.render(true);mf_main.editorController.reStackComponents();}$("#flipToggleBtn_"+thisClass.eid).attr("checked",thisClass.component.flip);function toggleSelectionFlip(e){var $this=$(this);if($this.is(":checked")){thisClass.component.e2xml.addPropSingle("flip",true);}else{thisClass.component.e2xml.addPropSingle("flip",false);}thisClass.component.render(true);mf_main.editorController.reStackComponents();}$("#colorToggleBtn_"+thisClass.eid).attr("checked",thisClass.component.colorEnabled);function toggleSelectionColor(e){var $this=$(this);if($this.is(":checked")){thisClass.component.e2xml.addPropSingle("colorEnabled",true);$("#mfImgColorDiv_"+thisClass.eid).show();}else{thisClass.component.e2xml.addPropSingle("colorEnabled",false);$("#mfImgColorDiv_"+thisClass.eid).hide();}thisClass.component.render(true);mf_main.editorController.reStackComponents();}var rgbArr=thisClass.component.rgb.split(",");$("#mfImgColor_"+thisClass.eid).spectrum("set","#"+MF_Utils.toHex(rgbArr[0])+MF_Utils.toHex(rgbArr[1])+MF_Utils.toHex(rgbArr[2]));if(thisClass.component.colorEnabled){$("#mfImgColorDiv_"+thisClass.eid).show();}else{$("#mfImgColorDiv_"+thisClass.eid).hide();}};thisClass.render=function(redraw){if(redraw==null){redraw=true;}var htmlCode="";if(redraw){$("#"+thisClass.eid).remove();htmlCode=multiline(function(){
/*!
				
					
					<div class="mfComponentSetting" id="{{eid}}" style=" position: relative; display: none; width:250px; height: 900px; overflow: hidden; " >
					<div  style="overflow: hidden;  width:100%; height: 100%;" >
					
				
						
						<div id="{{eid}}_transform"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						
						<div id="{{eid}}_link"  style="overflow: hidden; width:100%; " >
							 
						</div>
						
						<div id="{{eid}}_imagesettings"  style="overflow: hidden; width:100%; " >
							
								<div id="{{eid}}_settingToggle"  class="mfImgLink mfSettingsToggleBtn" style=" " >
				
										<div style="float: left; width: 185px; padding-left: 5px;">Drawing</div>
										
										<div style="float: left; width: 50px; text-align: right;">
											<span id="{{eid}}_settingToggleHide"  style="display: none; font-size: 20px;" class="ico-angle-right"></span>
											<span id="{{eid}}_settingToggleShow"  style="font-size: 20px;" class="ico-angle-down"></span>
										</div>
								</div>
											
								<div id="{{eid}}_partSetting" style="overflow: hidden; position: relative; width:100%; height: 230px;" >		
					
									<div class='mfImgPropCls{{eid}}' >
										<div  style="position: absolute; left: 10px; top: 10px;">Maintain Size Ratio:</div>

										
										 <div class="checkbox" style="position: absolute; top: 25px; left: 30px;">
									    	<input  type="checkbox" checked=true id="aspectToggleBtn_{{eid}}" class="tgl tgl-ios" value="">
									    	<label class='tgl-btn' for='aspectToggleBtn_{{eid}}'></label>
									  	</div>
										
										<div style="position: absolute; left: 140px; top: 10px;">Flip:</div>

										<div class="checkbox" style="position: absolute; top: 25px; left: 160px;">
									    	<input  type="checkbox" checked=true id="flipToggleBtn_{{eid}}" class="tgl tgl-ios" value="">
									    	<label class='tgl-btn' for='flipToggleBtn_{{eid}}'></label>
									  	</div>
									  	
									
										<div style="position: absolute; left: 10px; top: 80px;">Enable Color:</div>

										<div class="checkbox" style="position: absolute; top: 95px; left: 30px;">
									    	<input  type="checkbox" checked=true id="colorToggleBtn_{{eid}}" class="tgl tgl-ios" value="">
									    	<label class='tgl-btn' for='colorToggleBtn_{{eid}}'></label>
									  	</div>
									  	
									
									   	<div  id='mfImgColorDiv_{{eid}}' style='position: absolute; left: 70px; top: 105px;' ><input  id='mfImgColor_{{eid}}' style='width: 100px;' type='text'  /></div>
	
									</div>
			
			
										<div  id="mfOpacityLbl_{{eid}}" style="position: absolute; left: 150px; top: 80px;">Opacity:</div>
											<div  id="mfOpacityWrapper_{{eid}}" style="position: absolute; height: 25px; font-size: 11px;  width: 100px; left: 150px; top: 105px;">
											<input id="mfFillOpacity{{eid}}" style="width: 70px;" class="balSlider" value="0" />
											
										</div>
								
										<a style="position: absolute; left: 10px; top: 170px; width: 220px;" class="btn" id="mfRevert{{eid}}" >Revert to Original Size</a>
								

								</div>
						</div>
						
						
						<div id="{{eid}}_shadow"  style="overflow: hidden; width:100%; " >
							
						</div>
					
					
					
					</div></div>
					
				
				*/
console.log;});var compiled_template=Handlebars.compile(htmlCode);var context={eid:thisClass.eid};var compiled_code=compiled_template(context);$("#mfComponentSettings").append(compiled_code);thisClass.setupEvents();$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);}};}function MF_Note(){var thisClass=this;thisClass.NAME="MF_Note";thisClass.LABEL="Note";thisClass.GENONLY=false;thisClass.TRANSFORM=false;thisClass.VRESIZE=false;thisClass.HRESIZE=false;thisClass.USEFONT=true;thisClass.ANNOTATION=true;thisClass.MULTILINE=true;thisClass.EDITABLE=true;thisClass.AUTOSIZE=false;thisClass.HIDE=true;thisClass.USEPAGE=true;thisClass.RENDER_ON_MOVE=false;thisClass.RENDER_ON_RESIZE=true;thisClass.RENDER=true;thisClass.ALLOW_MULTILINK=false;thisClass.MAX_BORDER=2;thisClass.x=0;thisClass.y=0;thisClass.width=180;thisClass.height=200;thisClass.eangle=0;thisClass.eid="";thisClass.lid="";thisClass.transformLock=false;thisClass.e2xml=new MF_ComponentXML(this);thisClass.selector=null;thisClass.ecoordinates=null;thisClass.prevEcoordinates=null;thisClass.prevEsize=null;thisClass.esize=null;thisClass.GROUPID="";thisClass.delta=0;thisClass.linkType="";thisClass.link="";thisClass.linkObj=null;thisClass.templateID="";thisClass.fillColors=["#F3F36B","#F3F36B"];thisClass.fillAlpha=1;thisClass.fillType="solid";thisClass.textPadding=10;thisClass.borderColor="#000000";thisClass.borderWidth=1;thisClass.borderType="none";thisClass.borderRadius=0;thisClass.fontType="sourcesanspro";thisClass.isGoogleFontUsed=false;thisClass.text="";thisClass.fontSize=12;thisClass.fontColor="#444444";thisClass.textAlign="left";thisClass.fontWeight="normal";thisClass.fontStyle="normal";thisClass.textDecoration="none";thisClass.lineHeight=1;thisClass.notePointer="";var startPos=new Object();var draggedPos=new Object();var dstart=false;var leftButtonDown=false;thisClass.setVisible=function(val){thisClass.visible=val;if(val){$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).hide();}};thisClass.getVisible=function(){return thisClass.visible;};thisClass.exml=function(){return thisClass.e2xml.formXML();};thisClass.setDefaultSettings=function(){thisClass.e2xml.addPropArray("fillColors",thisClass.fillColors,"String","default");thisClass.e2xml.addPropSingle("fillType",thisClass.fillType,"default");thisClass.e2xml.addPropSingle("fillAlpha",thisClass.fillAlpha,"default");thisClass.e2xml.addPropSingle("textPadding",thisClass.textPadding,"default");thisClass.e2xml.addPropSingle("text",thisClass.text,"default");thisClass.e2xml.addPropSingle("borderColor",thisClass.borderColor,"default");thisClass.e2xml.addPropSingle("borderWidth",thisClass.borderWidth,"default");thisClass.e2xml.addPropSingle("borderType",thisClass.borderType,"default");thisClass.e2xml.addPropSingle("borderRadius",thisClass.borderRadius,"default");thisClass.e2xml.addPropSingle("lineHeight",thisClass.lineHeight,"default");thisClass.e2xml.addPropSingle("isGoogleFontUsed",thisClass.isGoogleFontUsed,"default");thisClass.e2xml.addPropSingle("textAlign",thisClass.textAlign,"default");thisClass.e2xml.addPropSingle("fontType",thisClass.fontType,"default");thisClass.e2xml.addPropSingle("fontSize",thisClass.fontSize,"default");thisClass.e2xml.addPropSingle("fontColor",thisClass.fontColor,"default");thisClass.e2xml.addPropSingle("fontWeight",thisClass.fontWeight,"default");thisClass.e2xml.addPropSingle("fontStyle",thisClass.fontStyle,"default");thisClass.e2xml.addPropSingle("textDecoration",thisClass.textDecoration,"default");thisClass.e2xml.addPropSingle("notePointer",thisClass.notePointer,"default");};thisClass.getValues=function(){if(thisClass.e2xml.settings.properties.notePointer!=null){thisClass.notePointer=thisClass.e2xml.settings.properties.notePointer;}if(thisClass.e2xml.settings.properties.fontWeight!=null){thisClass.fontWeight=thisClass.e2xml.settings.properties.fontWeight;}if(thisClass.e2xml.settings.properties.fontStyle!=null){thisClass.fontStyle=thisClass.e2xml.settings.properties.fontStyle;}if(thisClass.e2xml.settings.properties.textPadding!=null){thisClass.textPadding=thisClass.e2xml.settings.properties.textPadding;}if(thisClass.e2xml.settings.properties.textDecoration!=null){thisClass.textDecoration=thisClass.e2xml.settings.properties.textDecoration;}if(thisClass.e2xml.settings.properties.lineHeight!=null){thisClass.lineHeight=thisClass.e2xml.settings.properties.lineHeight;}if(thisClass.e2xml.settings.properties.fillColors!=null){thisClass.fillColors=thisClass.e2xml.settings.properties.fillColors;}if(thisClass.e2xml.settings.properties.fillType!=null){thisClass.fillType=thisClass.e2xml.settings.properties.fillType;}if(thisClass.e2xml.settings.properties.fillAlpha!=null){thisClass.fillAlpha=thisClass.e2xml.settings.properties.fillAlpha;}if(thisClass.e2xml.settings.properties.borderColor!=null){thisClass.borderColor=thisClass.e2xml.settings.properties.borderColor;}if(thisClass.e2xml.settings.properties.borderWidth!=null){thisClass.borderWidth=thisClass.e2xml.settings.properties.borderWidth;}if(thisClass.e2xml.settings.properties.borderType!=null){thisClass.borderType=thisClass.e2xml.settings.properties.borderType;}if(thisClass.e2xml.settings.properties.borderRadius!=null){thisClass.borderRadius=thisClass.e2xml.settings.properties.borderRadius;}if(thisClass.e2xml.settings.properties.textAlign!=null){thisClass.textAlign=thisClass.e2xml.settings.properties.textAlign;}if(thisClass.e2xml.settings.properties.text!=null){thisClass.text=thisClass.e2xml.settings.properties.text;}if(thisClass.e2xml.settings.properties.fontType!=null){thisClass.fontType=thisClass.e2xml.settings.properties.fontType;}if(thisClass.e2xml.settings.properties.isGoogleFontUsed!=null){thisClass.isGoogleFontUsed=thisClass.e2xml.settings.properties.isGoogleFontUsed;}if(thisClass.e2xml.settings.properties.fontSize!=null){thisClass.fontSize=thisClass.e2xml.settings.properties.fontSize;}if(thisClass.e2xml.settings.properties.fontColor!=null){thisClass.fontColor=thisClass.e2xml.settings.properties.fontColor;}};thisClass.render=function(redraw){if(thisClass.GENONLY){return;}if(!thisClass.RENDER){return;}if(redraw==null){redraw=true;}MF_ComponentUtils.setDimensions(thisClass,thisClass.ecoordinates,thisClass.esize);thisClass.getValues();var rectCode="";var thickness=parseInt(thisClass.borderWidth);if(thisClass.borderType=="none"){thickness=0;}thisClass.delta=(1*thickness)+5;var cwidth=thisClass.width+(thisClass.delta*2);var cheight=thisClass.height+(thisClass.delta*2);var ctop=thisClass.y-thisClass.delta;var cleft=thisClass.x-thisClass.delta;if(redraw){$("#"+thisClass.eid).remove();rectCode=rectCode+"<div class='mfWFCompCls mfWFNoteCls'  id=\""+thisClass.eid+'" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style="-webkit-transform: translateZ(0); position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+"px; top:"+(ctop).toString()+"px; left:"+(cleft).toString()+'px; " > ';rectCode=rectCode+'<canvas id="'+thisClass.eid+'_arrowcvs"  style="display: none; position: absolute; top: 0px; left: 0px; width: 200px; height: 200px; pointer-events: none;" >';rectCode=rectCode+"</canvas>";rectCode=rectCode+'<canvas id="'+thisClass.eid+'_cvs" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style="-webkit-transform: translateZ(0);  position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+'px; top:0px; left:0px; " > ';rectCode=rectCode+"</canvas>";rectCode=rectCode+'<span id="'+thisClass.eid+'_txt"  style="padding: 5px; word-wrap: break-word;  line-height: normal;   overflow: hidden;  text-align: center; font-weight: bold; -webkit-transform: translateZ(0);  position:absolute; width:'+(thisClass.width).toString()+"px; height:"+(thisClass.height).toString()+"px;   top:"+(thisClass.delta).toString()+"px; left:"+(thisClass.delta).toString()+'px;  " > ';rectCode=rectCode+"</span>";rectCode=rectCode+"<span class='mfNoteArrowCls' id=\""+thisClass.eid+'_leftarrow"  style="opacity: 0.8; padding: 5px;   overflow: hidden;  text-align: center; font-weight: bold; -webkit-transform: translateZ(0); color: #ff0000;  position:absolute; width: 32px; height: 32px;  top:'+(thisClass.delta).toString()+"px; left:"+(thisClass.delta).toString()+"px;  \" ><i style='opacity: 0.5;' class='fa fa-arrow-left'></i> ";rectCode=rectCode+"</span>";rectCode=rectCode+"<span class='mfNoteArrowCls' id=\""+thisClass.eid+'_rightarrow"  style="opacity: 0.8; padding: 5px;   overflow: hidden;  text-align: center; font-weight: bold; -webkit-transform: translateZ(0); color: #ff0000;  position:absolute; width: 32px; height: 32px;  top:'+(thisClass.delta).toString()+"px; left:"+(thisClass.delta).toString()+"px;  \" ><i style='opacity: 0.5;' class='fa fa-arrow-right'></i> ";rectCode=rectCode+"</span>";rectCode=rectCode+"</div>";$("#mfPage"+mf_main.editorController.page.eid).append(rectCode);try{mf_main.editorController.postAddToPage(thisClass.eid);}catch(e){}$("#"+thisClass.eid+"_rightarrow").on("mousedown",function(e){if(e.which===1){thisClass.leftButtonDown=true;$("#"+thisClass.eid+"_arrowcvs").hide();$("#"+thisClass.eid+"_arrowcvs").width(0);$("#"+thisClass.eid+"_arrowcvs").height(0);mf_main.editorController.commentController.setNoteArrow(e.pageX,e.pageY,thisClass.eid+"_arrowcvs",thisClass,"right");}});$("#"+thisClass.eid+"_leftarrow").on("mousedown",function(e){if(e.which===1){thisClass.leftButtonDown=true;$("#"+thisClass.eid+"_arrowcvs").hide();$("#"+thisClass.eid+"_arrowcvs").width(0);$("#"+thisClass.eid+"_arrowcvs").height(0);mf_main.editorController.commentController.setNoteArrow(e.pageX,e.pageY,thisClass.eid+"_arrowcvs",thisClass,"left");}});$("#"+thisClass.eid+"_leftarrow","#"+thisClass.eid+"_rightarrow").bind("dragstart",function(event){event.preventDefault();});}else{var ctx_cvs=(document.getElementById(thisClass.eid+"_cvs")).getContext("2d");ctx_cvs.clearRect(0,0,$("#"+thisClass.eid+"_cvs").width(),$("#"+thisClass.eid+"_cvs").height());document.getElementById(thisClass.eid+"_cvs").width=$("#"+thisClass.eid+"_cvs").width();$("#"+thisClass.eid).css("left",cleft);$("#"+thisClass.eid).css("top",ctop);$("#"+thisClass.eid).css("width",cwidth);$("#"+thisClass.eid).css("height",cheight);$("#"+thisClass.eid+"_cvs").css("width",cwidth);$("#"+thisClass.eid+"_cvs").css("height",cheight);$("#"+thisClass.eid+"_txt").css("left",thisClass.delta);$("#"+thisClass.eid+"_txt").css("top",thisClass.delta);$("#"+thisClass.eid+"_txt").css("width",thisClass.width);$("#"+thisClass.eid+"_txt").css("height",thisClass.height);document.getElementById(thisClass.eid+"_cvs").width=cwidth;document.getElementById(thisClass.eid+"_cvs").height=cheight;}$("#"+thisClass.eid+"_leftarrow").css("left",-20);$("#"+thisClass.eid+"_leftarrow").css("top",(thisClass.height/2)-8);$("#"+thisClass.eid+"_rightarrow").css("left",thisClass.width);$("#"+thisClass.eid+"_rightarrow").css("top",(thisClass.height/2)-8);$("#"+thisClass.eid+"_txt").css("user-select","none");$("#"+thisClass.eid+"_txt").css("-webkit-user-select","none");$("#"+thisClass.eid+"_txt").css("-moz-user-select","none");var fontFamily=mf_main.editorController.fontController.getFontByIDComponent(thisClass.fontType,thisClass);var htext=thisClass.text;htext=MF_ComponentUtils.getRefactoredText(htext);htext=htext.replace(/\n/g,"<br/>");$("#"+thisClass.eid+"_txt").html(htext);$("#"+thisClass.eid+"_txt").css("font-family",fontFamily);$("#"+thisClass.eid+"_txt").css("padding",thisClass.textPadding);$("#"+thisClass.eid+"_txt").css("font-weight",thisClass.fontWeight);$("#"+thisClass.eid+"_txt").css("font-style",thisClass.fontStyle);$("#"+thisClass.eid+"_txt").css("text-decoration",thisClass.textDecoration);$("#"+thisClass.eid+"_txt").css("font-size",thisClass.fontSize.toString()+"px");$("#"+thisClass.eid+"_txt").css("line-height",thisClass.lineHeight);$("#"+thisClass.eid+"_txt").css("color",thisClass.fontColor);$("#"+thisClass.eid+"_txt").css("text-align",thisClass.textAlign);var rad=thisClass.width;if(thisClass.height<thisClass.width){rad=thisClass.height;}var ctx_obj=(document.getElementById(thisClass.eid+"_cvs")).getContext("2d");thickness=parseInt(thickness);if(Math.abs(thickness%2)==1){ctx_obj.translate(0.5,0.5);}var startx=cwidth/2;var starty=cheight/2;ctx_obj.shadowOffsetX=2;ctx_obj.shadowOffsetY=2;ctx_obj.shadowBlur=10;ctx_obj.shadowColor="rgba(0, 0, 0, 0.6)";ctx_obj.beginPath();if(thisClass.borderRadius==0){ctx_obj.rect(thisClass.delta,thisClass.delta,thisClass.width,thisClass.height);}else{roundedRect2(ctx_obj,thisClass.delta,thisClass.delta,thisClass.width,thisClass.height,thisClass.borderRadius);}ctx_obj.closePath();var defFillColor1=MF_ComponentUtils.hexToRGB(thisClass.fillColors[0],thisClass.fillAlpha);var defFillColor2=MF_ComponentUtils.hexToRGB(thisClass.fillColors[1],thisClass.fillAlpha);if(thisClass.fillType=="linear-vertical"){var grad_Circle1=ctx_obj.createLinearGradient(0,0,0,this.height);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="linear-horizontal"){var grad_Circle1=ctx_obj.createLinearGradient(0,0,this.width,0);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="linear-diagonally"){var grad_Circle1=ctx_obj.createLinearGradient(0,0,this.width,this.height);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="radial"){var grad_Circle1=ctx_obj.createRadialGradient(startx,starty,(rad/2)/2,startx,starty,rad/2);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{ctx_obj.fillStyle=MF_ComponentUtils.hexToRGB(thisClass.fillColors[0],thisClass.fillAlpha);}}}}ctx_obj.fill();ctx_obj.lineWidth=thickness;if(thisClass.borderType=="dashed"){ctx_obj.setLineDash([thickness*2,4]);}if(thisClass.borderType=="dotted"){ctx_obj.setLineDash([thickness,2]);}if(thisClass.borderType!="none"&&thickness!=0){ctx_obj.strokeStyle=MF_ComponentUtils.hexToRGB(thisClass.borderColor,1);ctx_obj.stroke();}if(thisClass.notePointer!=""){var notearr=thisClass.notePointer.split(",");if(notearr.length==3){var notepoint=thisClass.eid+"_leftarrow";var direction="left";if(notearr[2]=="right"){notepoint=thisClass.eid+"_rightarrow";direction="right";}mf_main.editorController.commentController.placeNoteAnnotation(notepoint,thisClass.eid+"_arrowcvs",direction,notearr[0],notearr[1],thisClass);}else{$("#"+thisClass.eid+"_arrowcvs").hide();}}else{$("#"+thisClass.eid+"_arrowcvs").hide();}MF_Utils.rotate(thisClass.eid,thisClass.eangle);if(thisClass.selector){thisClass.selector.transform(thisClass);}};}function MF_NoteSettings(){var thisClass=this;thisClass.eid=mf_main.editorController.guidGenerator();thisClass.transformLock=false;thisClass.component=null;thisClass.selector=null;thisClass.RENDERDOM=true;thisClass.showSetting=true;thisClass.transformSettings=null;thisClass.linkSettings=null;thisClass.backgroundSettings=null;thisClass.borderSettings=null;thisClass.fontSettings=null;thisClass.lineHeightBox=null;thisClass.remove=function(delSet){$("#"+thisClass.eid).hide();if(delSet){try{if(mf_main.MEMFREE){if($("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox")){$("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox").destroy();}if($("#mfLineHeight_"+thisClass.eid).data("kendoNumericTextBox")){$("#mfLineHeight_"+thisClass.eid).data("kendoNumericTextBox").destroy();}thisClass.transformSettings.remove();thisClass.linkSettings.remove();thisClass.backgroundSettings.remove();thisClass.borderSettings.remove();thisClass.fontSettings.remove();}}catch(e){console.log("error occured in the component MF_Note.js");}$("#"+thisClass.eid).remove();}};thisClass.setValues=function(){if(thisClass.RENDERDOM){thisClass.render();thisClass.transformSettings=new MF_TransformSettings();thisClass.transformSettings.init(thisClass);thisClass.linkSettings=new MF_LinkSettings();thisClass.linkSettings.init(thisClass);thisClass.backgroundSettings=new MF_BackgroundSettings();thisClass.backgroundSettings.init(thisClass);thisClass.borderSettings=new MF_BorderSettings3();thisClass.borderSettings.init(thisClass);thisClass.fontSettings=new MF_FontSettings2();thisClass.fontSettings.init(thisClass);}else{thisClass.transformSettings.init(thisClass);thisClass.linkSettings.init(thisClass);thisClass.backgroundSettings.init(thisClass);thisClass.borderSettings.init(thisClass);thisClass.fontSettings.init(thisClass);thisClass.setupEvents();$("#"+thisClass.eid).show();}};thisClass.updateTransform=function(noscale){thisClass.transformSettings.updateTransform(noscale);};thisClass.setupEvents=function(){if(thisClass.RENDERDOM){MF_ComponentSettingUtils.setupToggle(thisClass);$("#mfPadding_"+thisClass.eid).focusin(function(){mf_main.editorController.disableShortcuts();});$("#mfPadding_"+thisClass.eid).focusout(function(){mf_main.editorController.enableShortcuts();});$("#mfPadding_"+thisClass.eid).kendoNumericTextBox({format:"#",spinners:true,spin:onWidthChange,decimals:0});$("#mfPadding_"+thisClass.eid).focus(function(){$("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onWidthChange);$("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox").bind("change",onWidthChange);});$("#mfLineHeight_"+thisClass.eid).focusin(function(){mf_main.editorController.disableShortcuts();});$("#mfLineHeight_"+thisClass.eid).focusout(function(){mf_main.editorController.enableShortcuts();});$("#mfLineHeight_"+thisClass.eid).kendoNumericTextBox({spinners:true,spin:onLineHeightChange});$("#mfLineHeight_"+thisClass.eid).focus(function(){$("#mfLineHeight_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onLineHeightChange);$("#mfLineHeight_"+thisClass.eid).data("kendoNumericTextBox").bind("change",onLineHeightChange);});$("#mfResetArrow"+thisClass.eid).click(function(){thisClass.component.e2xml.addPropSingle("notePointer","");thisClass.component.render(false);});}if(thisClass.RENDERDOM==true){thisClass.RENDERDOM=false;}function onWidthChange(){$("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onWidthChange);$("#mfclipboard").focus();if(this.value()==""||this.value()==null){if(this.value()!=0&&this.value()!="0"){return;}}var w=this.value();thisClass.component.e2xml.addPropSingle("textPadding",w);thisClass.component.render(false);}thisClass.textPaddingBox=$("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox");thisClass.textPaddingBox.value(thisClass.component.textPadding);function onLineHeightChange(){$("#mfLineHeight_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onLineHeightChange);$("#mfclipboard").focus();if(this.value()==""||this.value()==null){if(this.value()!=0&&this.value()!="0"){return;}}var w=this.value();thisClass.component.e2xml.addPropSingle("lineHeight",w);thisClass.component.render(false);}thisClass.lineHeightBox=$("#mfLineHeight_"+thisClass.eid).data("kendoNumericTextBox");thisClass.lineHeightBox.value(parseFloat(thisClass.component.lineHeight));};thisClass.render=function(redraw){if(redraw==null){redraw=true;}var htmlCode="";if(redraw){$("#"+thisClass.eid).remove();htmlCode=multiline(function(){
/*!
				
					
					<div class="mfComponentSetting" id="{{eid}}" style=" position: relative; display: none; width:250px; height: 1400px; overflow: hidden; " >
					<div  style="overflow: hidden;  width:100%; height: 100%;" >
					
						<div class="mfSettingsTextEditMsg" >
							Double-Click on Component to edit Note
						</div>
						
						<div id="{{eid}}_transform"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_link"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_builtin"  style="overflow: hidden; width:100%; " >
					
								<div id="{{eid}}_settingToggle"  class="mfImgLink mfSettingsToggleBtn" style=" " >
				
									<div style="float: left; width: 185px; padding-left: 5px;">Settings</div>
									
									<div style="float: left; width: 50px; text-align: right;">
										<span id="{{eid}}_settingToggleHide"  style="display: none; font-size: 20px;" class="ico-angle-right"></span>
										<span id="{{eid}}_settingToggleShow"  style="font-size: 20px;" class="ico-angle-down"></span>
									</div>
								</div>
										
								<div id="{{eid}}_partSetting" style="overflow: hidden; position: relative; width:100%; height: 240px;" >		
					
					
									<div  style="position: absolute; left: 10px; top: 25px;">
									Drag arrows on either <i style='color: #ff0000;' class='fa fa-arrow-left'></i> side <i style='color: #ff0000;' class='fa fa-arrow-right'></i> of the Note component to reference design
									<br/><br/>
									<a style=" width: 220px;" class="btn" id="mfResetArrow{{eid}}" >Reset Arrows</a>

									
									</div>
									  
									  <div style="position: absolute; left: 10px; top: 145px;">Text Padding:</div>
									<div style="position: absolute; left: 100px; top: 140px;"><input style="width: 70px;" id="mfPadding_{{eid}}" type="number" value="0" min="0" max="10000000" step="1" /></div>

										 <div style="position: absolute; left: 10px; top: 195px;">Line Height:</div>
									<div style="position: absolute; left: 100px; top: 190px;"><input style="width: 70px;" id="mfLineHeight_{{eid}}" type="number" value="0" min="0" max="1000" step="0.1" /></div>

								</div>
						</div>
						
					
						<div id="{{eid}}_font"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_background"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_border"  style="overflow: hidden; width:100%; " >
							
						</div>
						
					
					
					
					</div></div>
					
				
				*/
console.log;});var compiled_template=Handlebars.compile(htmlCode);var context={eid:thisClass.eid};var compiled_code=compiled_template(context);$("#mfComponentSettings").append(compiled_code);thisClass.setupEvents();$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);}};}function MF_Callout(){var thisClass=this;thisClass.NAME="MF_Callout";thisClass.LABEL="Callout";thisClass.GENONLY=false;thisClass.TRANSFORM=false;thisClass.VRESIZE=false;thisClass.HRESIZE=false;thisClass.USEFONT=true;thisClass.ANNOTATION=true;thisClass.MULTILINE=true;thisClass.EDITABLE=true;thisClass.AUTOSIZE=false;thisClass.HIDE=true;thisClass.USEPAGE=true;thisClass.RENDER_ON_MOVE=false;thisClass.RENDER_ON_RESIZE=true;thisClass.RENDER=true;thisClass.ALLOW_MULTILINK=false;thisClass.x=0;thisClass.y=0;thisClass.width=30;thisClass.height=30;thisClass.eangle=0;thisClass.eid="";thisClass.lid="";thisClass.transformLock=false;thisClass.e2xml=new MF_ComponentXML(this);thisClass.selector=null;thisClass.ecoordinates=null;thisClass.prevEcoordinates=null;thisClass.prevEsize=null;thisClass.esize=null;thisClass.GROUPID="";thisClass.delta=0;thisClass.linkType="";thisClass.link="";thisClass.linkObj=null;thisClass.templateID="";thisClass.fillColors=["#FFEB3B","#FFEB3B"];thisClass.fillAlpha=1;thisClass.fillType="solid";thisClass.shadowType="none";thisClass.borderColor="#000000";thisClass.borderWidth=1;thisClass.borderType="solid";thisClass.borderShow=true;thisClass.text="1\nEnter your message here to show on MouseOver in Review mode";thisClass.fontType="sourcesanspro";thisClass.isGoogleFontUsed=false;thisClass.fontSize=12;thisClass.fontColor="#000000";thisClass.fontWeight="bold";thisClass.fontStyle="normal";thisClass.textDecoration="none";thisClass.setVisible=function(val){thisClass.visible=val;if(val){$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).hide();}};thisClass.getVisible=function(){return thisClass.visible;};thisClass.exml=function(){return thisClass.e2xml.formXML();};thisClass.setDefaultSettings=function(){thisClass.e2xml.addPropArray("fillColors",thisClass.fillColors,"String","default");thisClass.e2xml.addPropSingle("fillType",thisClass.fillType,"default");thisClass.e2xml.addPropSingle("fillAlpha",thisClass.fillAlpha,"default");thisClass.e2xml.addPropSingle("shadowType",thisClass.shadowType,"default");thisClass.e2xml.addPropSingle("borderColor",thisClass.borderColor,"default");thisClass.e2xml.addPropSingle("borderWidth",thisClass.borderWidth,"default");thisClass.e2xml.addPropSingle("borderType",thisClass.borderType,"default");thisClass.e2xml.addPropSingle("borderShow",thisClass.borderShow,"default");thisClass.e2xml.addPropSingle("text",thisClass.text,"default");thisClass.e2xml.addPropSingle("isGoogleFontUsed",thisClass.isGoogleFontUsed,"default");thisClass.e2xml.addPropSingle("fontType",thisClass.fontType,"default");thisClass.e2xml.addPropSingle("fontSize",thisClass.fontSize,"default");thisClass.e2xml.addPropSingle("fontColor",thisClass.fontColor,"default");thisClass.e2xml.addPropSingle("fontWeight",thisClass.fontWeight,"default");thisClass.e2xml.addPropSingle("fontStyle",thisClass.fontStyle,"default");thisClass.e2xml.addPropSingle("textDecoration",thisClass.textDecoration,"default");};thisClass.getValues=function(){if(thisClass.e2xml.settings.properties.fillColors!=null){thisClass.fillColors=thisClass.e2xml.settings.properties.fillColors;}if(thisClass.e2xml.settings.properties.fillType!=null){thisClass.fillType=thisClass.e2xml.settings.properties.fillType;}if(thisClass.e2xml.settings.properties.fillAlpha!=null){thisClass.fillAlpha=thisClass.e2xml.settings.properties.fillAlpha;}if(thisClass.e2xml.settings.properties.shadowType!=null){thisClass.shadowType=thisClass.e2xml.settings.properties.shadowType;}if(thisClass.e2xml.settings.properties.borderColor!=null){thisClass.borderColor=thisClass.e2xml.settings.properties.borderColor;}if(thisClass.e2xml.settings.properties.borderWidth!=null){thisClass.borderWidth=thisClass.e2xml.settings.properties.borderWidth;}if(thisClass.e2xml.settings.properties.borderType!=null){thisClass.borderType=thisClass.e2xml.settings.properties.borderType;}if(thisClass.e2xml.settings.properties.borderShow!=null){thisClass.borderShow=thisClass.e2xml.settings.properties.borderShow;}if(thisClass.e2xml.settings.properties.fontWeight!=null){thisClass.fontWeight=thisClass.e2xml.settings.properties.fontWeight;}if(thisClass.e2xml.settings.properties.fontStyle!=null){thisClass.fontStyle=thisClass.e2xml.settings.properties.fontStyle;}if(thisClass.e2xml.settings.properties.textDecoration!=null){thisClass.textDecoration=thisClass.e2xml.settings.properties.textDecoration;}if(thisClass.e2xml.settings.properties.text!=null){thisClass.text=thisClass.e2xml.settings.properties.text;}if(thisClass.e2xml.settings.properties.fontType!=null){thisClass.fontType=thisClass.e2xml.settings.properties.fontType;}if(thisClass.e2xml.settings.properties.isGoogleFontUsed!=null){thisClass.isGoogleFontUsed=thisClass.e2xml.settings.properties.isGoogleFontUsed;}if(thisClass.e2xml.settings.properties.fontSize!=null){thisClass.fontSize=thisClass.e2xml.settings.properties.fontSize;}if(thisClass.e2xml.settings.properties.fontColor!=null){thisClass.fontColor=thisClass.e2xml.settings.properties.fontColor;}};thisClass.render=function(redraw){if(thisClass.GENONLY){return;}if(!thisClass.RENDER){return;}if(redraw==null){redraw=true;}MF_ComponentUtils.setDimensions(thisClass,thisClass.ecoordinates,thisClass.esize);thisClass.getValues();var rectCode="";var thickness=parseInt(thisClass.borderWidth);if(thisClass.borderType=="none"){thickness=0;}thisClass.delta=(1*thickness)+5;try{thisClass.delta=thisClass.delta+MF_ComponentUtils.computeShadowDelta(thisClass.shadowType);}catch(e){}var cwidth=thisClass.width+(thisClass.delta*2);var cheight=thisClass.height+(thisClass.delta*2);var ctop=thisClass.y-thisClass.delta;var cleft=thisClass.x-thisClass.delta;if(redraw){$("#"+thisClass.eid).remove();rectCode=rectCode+"<div class='mfCalloutCls mfWFCompCls' data-placement='auto' data-html='true' data-toggle='tooltip' title=''  id=\""+thisClass.eid+'" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style="pointer-events: none;  -webkit-transform: translateZ(0);  overflow: hidden; position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+"px; top:"+(ctop).toString()+"px; left:"+(cleft).toString()+'px; " > ';rectCode=rectCode+'<canvas id="'+thisClass.eid+'_cvs" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style="-webkit-transform: translateZ(0);  position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+'px; top:0px; left:0px; " > ';rectCode=rectCode+"</canvas>";rectCode=rectCode+'<span id="'+thisClass.eid+'_txt" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style="overflow: hidden; white-space: nowrap; text-align: center; font-weight: bold; -webkit-transform: translateZ(0);  position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+"px; line-height:"+(cheight).toString()+'px;  top:0px; left:0px; " > ';rectCode=rectCode+"</span>";rectCode=rectCode+"</div>";$("#mfPage"+mf_main.editorController.page.eid).append(rectCode);try{mf_main.editorController.postAddToPage(thisClass.eid);}catch(e){}}else{var ctx_cvs=(document.getElementById(thisClass.eid+"_cvs")).getContext("2d");ctx_cvs.clearRect(0,0,$("#"+thisClass.eid+"_cvs").width(),$("#"+thisClass.eid+"_cvs").height());document.getElementById(thisClass.eid+"_cvs").width=$("#"+thisClass.eid+"_cvs").width();$("#"+thisClass.eid).css("left",cleft);$("#"+thisClass.eid).css("top",ctop);$("#"+thisClass.eid).css("width",cwidth);$("#"+thisClass.eid).css("height",cheight);$("#"+thisClass.eid+"_cvs").css("width",cwidth);$("#"+thisClass.eid+"_cvs").css("height",cheight);$("#"+thisClass.eid+"_txt").css("width",cwidth);$("#"+thisClass.eid+"_txt").css("height",cheight);document.getElementById(thisClass.eid+"_cvs").width=cwidth;document.getElementById(thisClass.eid+"_cvs").height=cheight;}$("#"+thisClass.eid+"_txt").css("user-select","none");$("#"+thisClass.eid+"_txt").css("-webkit-user-select","none");$("#"+thisClass.eid+"_txt").css("-moz-user-select","none");$("#"+thisClass.eid+"_txt").css("line-height",(cheight).toString()+"px");var fontFamily=mf_main.editorController.fontController.getFontByIDComponent(thisClass.fontType,thisClass);var lines=thisClass.text.split("\n");var htext=$("#"+thisClass.eid+"_txt").html(lines[0]).text();htext=MF_ComponentUtils.getRefactoredText(htext);$("#"+thisClass.eid+"_txt").html(htext);$("#"+thisClass.eid+"_txt").css("font-family",fontFamily);$("#"+thisClass.eid+"_txt").css("font-weight",thisClass.fontWeight);$("#"+thisClass.eid+"_txt").css("font-style",thisClass.fontStyle);$("#"+thisClass.eid+"_txt").css("text-decoration",thisClass.textDecoration);$("#"+thisClass.eid+"_txt").css("font-size",thisClass.fontSize.toString()+"px");$("#"+thisClass.eid+"_txt").css("color",thisClass.fontColor);if(lines.length>1){var tooltiptxt="";for(var m=1;m<lines.length;m++){if(m==1){tooltiptxt=lines[m];}else{tooltiptxt=tooltiptxt+"<br/>"+lines[m];}}$("#"+thisClass.eid).attr("title",tooltiptxt);}var rad=thisClass.width;if(thisClass.height<thisClass.width){rad=thisClass.height;}var ctx_obj=(document.getElementById(thisClass.eid+"_cvs")).getContext("2d");thickness=parseInt(thickness);if(Math.abs(thickness%2)==1){ctx_obj.translate(0.5,0.5);}var startx=cwidth/2;var starty=cheight/2;ctx_obj.save();MF_ComponentUtils.setComponentShadow(ctx_obj,thisClass.shadowType);ctx_obj.beginPath();ctx_obj.arc(startx,starty,rad/2,Math.PI*2,0,false);ctx_obj.closePath();var defFillColor1=MF_ComponentUtils.hexToRGB(thisClass.fillColors[0],thisClass.fillAlpha);var defFillColor2=MF_ComponentUtils.hexToRGB(thisClass.fillColors[1],thisClass.fillAlpha);if(thisClass.fillType=="linear-vertical"){var grad_Circle1=ctx_obj.createLinearGradient(0,0,0,this.height);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="linear-horizontal"){var grad_Circle1=ctx_obj.createLinearGradient(0,0,this.width,0);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="linear-diagonally"){var grad_Circle1=ctx_obj.createLinearGradient(0,0,this.width,this.height);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="radial"){var grad_Circle1=ctx_obj.createRadialGradient(startx,starty,(rad/2)/2,startx,starty,rad/2);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{ctx_obj.fillStyle=MF_ComponentUtils.hexToRGB(thisClass.fillColors[0],thisClass.fillAlpha);}}}}ctx_obj.fill();ctx_obj.restore();ctx_obj.lineWidth=thickness;if(thisClass.borderType=="dashed"){ctx_obj.setLineDash([thickness*2,4]);}if(thisClass.borderType=="dotted"){ctx_obj.setLineDash([thickness,2]);}if(thisClass.borderType!="none"&&thickness!=0){ctx_obj.strokeStyle=MF_ComponentUtils.hexToRGB(thisClass.borderColor,1);ctx_obj.stroke();}MF_Utils.rotate(thisClass.eid,thisClass.eangle);if(thisClass.selector){thisClass.selector.transform(thisClass);}};}function MF_CalloutSettings(){var thisClass=this;thisClass.eid=mf_main.editorController.guidGenerator();thisClass.transformLock=false;thisClass.component=null;thisClass.selector=null;thisClass.RENDERDOM=true;thisClass.showSetting=true;thisClass.transformSettings=null;thisClass.linkSettings=null;thisClass.backgroundSettings=null;thisClass.borderSettings=null;thisClass.shadowSettings=null;thisClass.fontSettings=null;thisClass.remove=function(delSet){$("#"+thisClass.eid).hide();if(delSet){try{if(mf_main.MEMFREE){thisClass.transformSettings.remove();thisClass.linkSettings.remove();thisClass.backgroundSettings.remove();thisClass.borderSettings.remove();thisClass.shadowSettings.remove();thisClass.fontSettings.remove();}}catch(e){console.log("error occured in the component MF_Callout.js");}$("#"+thisClass.eid).remove();}};thisClass.setValues=function(){if(thisClass.RENDERDOM){thisClass.render();thisClass.transformSettings=new MF_TransformSettings();thisClass.transformSettings.init(thisClass);thisClass.linkSettings=new MF_LinkSettings();thisClass.linkSettings.init(thisClass);thisClass.backgroundSettings=new MF_BackgroundSettings();thisClass.backgroundSettings.init(thisClass);thisClass.borderSettings=new MF_BorderSettings2();thisClass.borderSettings.init(thisClass);thisClass.shadowSettings=new MF_ShadowSettings();thisClass.shadowSettings.init(thisClass);thisClass.fontSettings=new MF_FontSettings2();thisClass.fontSettings.showAlign=false;thisClass.fontSettings.init(thisClass);}else{thisClass.transformSettings.init(thisClass);thisClass.linkSettings.init(thisClass);thisClass.backgroundSettings.init(thisClass);thisClass.borderSettings.init(thisClass);thisClass.shadowSettings.init(thisClass);thisClass.fontSettings.init(thisClass);thisClass.setupEvents();$("#"+thisClass.eid).show();}};thisClass.updateTransform=function(noscale){thisClass.transformSettings.updateTransform(noscale);};thisClass.setupEvents=function(){if(thisClass.RENDERDOM==true){thisClass.RENDERDOM=false;}};thisClass.render=function(redraw){if(redraw==null){redraw=true;}var htmlCode="";if(redraw){$("#"+thisClass.eid).remove();htmlCode=multiline(function(){
/*!
				
					
					<div class="mfComponentSetting" id="{{eid}}" style=" position: relative; display: none; width:250px; height: 1300px; overflow: hidden; " >
					<div  style="overflow: hidden;  width:100%; height: 100%;" >
					
						
						<div class="mfSettingsTextEditMsg" >
							Double-Click on Comp / Click Here to Edit
						</div>
						
						<div id="{{eid}}_transform"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_link"  style="overflow: hidden; width:100%; " >
							
						</div>
												
						
						<div id="{{eid}}_font"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_background"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_border"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_shadow"  style="overflow: hidden; width:100%; " >
							
						</div>
					
					
					
					</div></div>
					
				
				*/
console.log;});var compiled_template=Handlebars.compile(htmlCode);var context={eid:thisClass.eid};var compiled_code=compiled_template(context);$("#mfComponentSettings").append(compiled_code);thisClass.setupEvents();$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);}};}function MF_VerticalBracket(){var thisClass=this;thisClass.NAME="MF_VerticalBracket";thisClass.LABEL="Bracket";thisClass.GENONLY=false;thisClass.TRANSFORM=false;thisClass.VRESIZE=false;thisClass.HRESIZE=false;thisClass.USEFONT=false;thisClass.ANNOTATION=true;thisClass.MULTILINE=false;thisClass.EDITABLE=false;thisClass.AUTOSIZE=false;thisClass.HIDE=true;thisClass.USEPAGE=true;thisClass.RENDER_ON_MOVE=false;thisClass.RENDER_ON_RESIZE=true;thisClass.RENDER=true;thisClass.ALLOW_MULTILINK=false;thisClass.MAX_BORDER=5;thisClass.x=0;thisClass.y=0;thisClass.width=30;thisClass.height=200;thisClass.eangle=0;thisClass.eid="";thisClass.lid="";thisClass.transformLock=false;thisClass.e2xml=new MF_ComponentXML(this);thisClass.selector=null;thisClass.ecoordinates=null;thisClass.prevEcoordinates=null;thisClass.prevEsize=null;thisClass.esize=null;thisClass.GROUPID="";thisClass.delta=0;thisClass.linkType="";thisClass.link="";thisClass.linkObj=null;thisClass.templateID="";thisClass.borderColor="#000000";thisClass.borderWidth=1;thisClass.borderType="solid";thisClass.directionType="right";thisClass.setVisible=function(val){thisClass.visible=val;if(val){$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).hide();}};thisClass.getVisible=function(){return thisClass.visible;};thisClass.exml=function(){return thisClass.e2xml.formXML();};thisClass.setDefaultSettings=function(){thisClass.e2xml.addPropSingle("borderColor",thisClass.borderColor,"default");thisClass.e2xml.addPropSingle("borderWidth",thisClass.borderWidth,"default");thisClass.e2xml.addPropSingle("borderType",thisClass.borderType,"default");thisClass.e2xml.addPropSingle("directionType",thisClass.directionType,"default");};thisClass.getValues=function(){if(thisClass.e2xml.settings.properties.borderColor!=null){thisClass.borderColor=thisClass.e2xml.settings.properties.borderColor;}if(thisClass.e2xml.settings.properties.borderWidth!=null){thisClass.borderWidth=thisClass.e2xml.settings.properties.borderWidth;}if(thisClass.e2xml.settings.properties.borderType!=null){thisClass.borderType=thisClass.e2xml.settings.properties.borderType;}if(thisClass.e2xml.settings.properties.directionType!=null){thisClass.directionType=thisClass.e2xml.settings.properties.directionType;}};thisClass.render=function(redraw){if(thisClass.GENONLY){return;}if(!thisClass.RENDER){return;}if(redraw==null){redraw=true;}MF_ComponentUtils.setDimensions(thisClass,thisClass.ecoordinates,thisClass.esize);thisClass.getValues();var rectCode="";var thickness=parseInt(thisClass.borderWidth);if(thisClass.borderType=="none"){thickness=0;}thisClass.delta=(1*thickness)+5;var cwidth=thisClass.width+(thisClass.delta*2);var cheight=thisClass.height+(thisClass.delta*2);var ctop=thisClass.y-thisClass.delta;var cleft=thisClass.x-thisClass.delta;if(redraw){$("#"+thisClass.eid).remove();rectCode=rectCode+"<canvas class='mfWFCompCls'  id=\""+thisClass.eid+'" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style="pointer-events: none; -webkit-transform: translateZ(0); position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+"px; top:"+(ctop).toString()+"px; left:"+(cleft).toString()+'px; " > ';rectCode=rectCode+"</canvas>";$("#mfPage"+mf_main.editorController.page.eid).append(rectCode);try{mf_main.editorController.postAddToPage(thisClass.eid);}catch(e){}}else{var ctx_cvs=(document.getElementById(thisClass.eid)).getContext("2d");ctx_cvs.clearRect(0,0,$("#"+thisClass.eid).width(),$("#"+thisClass.eid).height());document.getElementById(thisClass.eid).width=$("#"+thisClass.eid).width();$("#"+thisClass.eid).css("left",cleft);$("#"+thisClass.eid).css("top",ctop);$("#"+thisClass.eid).css("width",cwidth);$("#"+thisClass.eid).css("height",cheight);document.getElementById(thisClass.eid).width=cwidth;document.getElementById(thisClass.eid).height=cheight;}var ctx_Div=(document.getElementById(thisClass.eid)).getContext("2d");ctx_Div.strokeStyle=MF_ComponentUtils.hexToRGB(thisClass.borderColor,1);ctx_Div.lineWidth=thisClass.borderWidth;var tx=thisClass.delta;var ty=thisClass.delta;var twidth=thisClass.width+thisClass.delta;var theight=thisClass.height+thisClass.delta;if(thisClass.borderType=="dashed"){ctx_Div.setLineDash([thisClass.borderWidth*2,4]);}if(thisClass.borderType=="dotted"){ctx_Div.setLineDash([thisClass.borderWidth,2]);}if(thisClass.directionType=="left"){ctx_Div.translate(tx,ty);ctx_Div.beginPath();ctx_Div.moveTo(this.width,0);ctx_Div.quadraticCurveTo((this.width/2),0,(this.width/2),(10*this.height)/100);ctx_Div.lineTo(this.width/2,(this.height/2)-((5*this.height)/100));ctx_Div.lineTo(0,(this.height/2));ctx_Div.lineTo(this.width/2,(this.height/2)+((5*this.height)/100));ctx_Div.lineTo((this.width/2),this.height-((10*this.height)/100));ctx_Div.quadraticCurveTo((this.width/2),this.height,this.width,this.height);ctx_Div.stroke();}else{ctx_Div.translate(tx,ty);ctx_Div.beginPath();ctx_Div.moveTo(0,0);ctx_Div.quadraticCurveTo((this.width/2),0,(this.width/2),(10*this.height)/100);ctx_Div.lineTo(this.width/2,(this.height/2)-((5*this.height)/100));ctx_Div.lineTo(this.width,(this.height/2));ctx_Div.lineTo(this.width/2,(this.height/2)+((5*this.height)/100));ctx_Div.lineTo((this.width/2),this.height-((10*this.height)/100));ctx_Div.quadraticCurveTo((this.width/2),this.height,0,this.height);ctx_Div.stroke();}MF_Utils.rotate(thisClass.eid,thisClass.eangle);if(thisClass.selector){thisClass.selector.transform(thisClass);}};}function MF_VerticalBracketSettings(){var thisClass=this;thisClass.eid=mf_main.editorController.guidGenerator();thisClass.transformLock=false;thisClass.component=null;thisClass.selector=null;thisClass.RENDERDOM=true;thisClass.showSetting=true;thisClass.transformSettings=null;thisClass.linkSettings=null;thisClass.borderSettings=null;thisClass.remove=function(delSet){$("#"+thisClass.eid).hide();if(delSet){try{if(mf_main.MEMFREE){thisClass.transformSettings.remove();thisClass.linkSettings.remove();thisClass.borderSettings.remove();}}catch(e){console.log("error occured in the component MF_VerticalBracket.js");}$("#"+thisClass.eid).remove();}};thisClass.setValues=function(){if(thisClass.RENDERDOM){thisClass.render();thisClass.transformSettings=new MF_TransformSettings();thisClass.transformSettings.init(thisClass);thisClass.linkSettings=new MF_LinkSettings();thisClass.linkSettings.init(thisClass);thisClass.borderSettings=new MF_BorderSettings2();thisClass.borderSettings.init(thisClass);}else{thisClass.transformSettings.init(thisClass);thisClass.linkSettings.init(thisClass);thisClass.borderSettings.init(thisClass);thisClass.setupEvents();$("#"+thisClass.eid).show();}};thisClass.updateTransform=function(noscale){thisClass.transformSettings.updateTransform(noscale);};thisClass.setupEvents=function(){if(thisClass.RENDERDOM){MF_ComponentSettingUtils.setupToggle(thisClass);$("#mfDirLeft_"+thisClass.eid).click(function(e){e.stopImmediatePropagation();$(".mfDirTypeCls"+thisClass.eid).css("background","#fff");$("#mfDirLeft_"+thisClass.eid).css("background","#f0f0f0");thisClass.component.e2xml.addPropSingle("directionType","left");thisClass.component.render(false);});$("#mfDirRight_"+thisClass.eid).click(function(e){e.stopImmediatePropagation();$(".mfDirTypeCls"+thisClass.eid).css("background","#fff");$("#mfDirRight_"+thisClass.eid).css("background","#f0f0f0");thisClass.component.e2xml.addPropSingle("directionType","right");thisClass.component.render(false);});}if(thisClass.RENDERDOM==true){thisClass.RENDERDOM=false;}$(".mfDirTypeCls"+thisClass.eid).css("background","#fff");if(thisClass.component.directionType=="left"){$("#mfDirLeft_"+thisClass.eid).css("background","#f0f0f0");}else{$("#mfDirRight_"+thisClass.eid).css("background","#f0f0f0");}};thisClass.render=function(redraw){if(redraw==null){redraw=true;}var htmlCode="";if(redraw){$("#"+thisClass.eid).remove();htmlCode=multiline(function(){
/*!
				
					
					<div class="mfComponentSetting" id="{{eid}}" style=" position: relative; display: none; width:250px; height: 650px; overflow: hidden; " >
					<div  style="overflow: hidden;  width:100%; height: 100%;" >
					
						
					
						<div id="{{eid}}_transform"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_link"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						
						
						<div id="{{eid}}_builtin"  style="overflow: hidden; width:100%; " >
					
								<div id="{{eid}}_settingToggle"  class="mfImgLink mfSettingsToggleBtn" style=" " >
				
									<div style="float: left; width: 185px; padding-left: 5px;">Settings</div>
									
									<div style="float: left; width: 50px; text-align: right;">
										<span id="{{eid}}_settingToggleHide"  style="display: none; font-size: 20px;" class="ico-angle-right"></span>
										<span id="{{eid}}_settingToggleShow"  style="font-size: 20px;" class="ico-angle-down"></span>
									</div>
								</div>
										
								<div id="{{eid}}_partSetting" style="overflow: hidden; position: relative; width:100%; height: 80px;" >		
					
									<div  style="left: 10px; top: 20px; width: 170px; font-weight: bold; overflow: hidden; word-wrap: false;position:absolute"> 
			
												<div style="overflow:hidden">
													<div id="mfDirLeft_{{eid}}" class="mfDirTypeCls{{eid}} mfBtnLineStraightCls" style="text-align: center; height: 30px; font-size: 20px; border: 1px solid #ccc;padding: 4px;width: 50px;float:left;cursor:pointer">{</div>
													<div id="mfDirRight_{{eid}}" class="mfDirTypeCls{{eid}} mfBtnLineStraightCls" style="text-align: center; height: 30px; font-size: 20px;border: 1px solid #ccc;padding: 4px;width: 50px;float:left;cursor:pointer;">}</div>
												</div>
									
										</div>
										
										
								</div>
						</div>
						
						<div id="{{eid}}_border"  style="overflow: hidden; width:100%; " >
							
						</div>
					
					
					</div></div>
					
				
				*/
console.log;});var compiled_template=Handlebars.compile(htmlCode);var context={eid:thisClass.eid};var compiled_code=compiled_template(context);$("#mfComponentSettings").append(compiled_code);thisClass.setupEvents();$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);}};}function MF_Arrow(){var thisClass=this;thisClass.NAME="MF_Arrow";thisClass.LABEL="Arrow";thisClass.GENONLY=false;thisClass.TRANSFORM=true;thisClass.VRESIZE=false;thisClass.HRESIZE=false;thisClass.USEFONT=false;thisClass.ANNOTATION=true;thisClass.MULTILINE=false;thisClass.EDITABLE=false;thisClass.AUTOSIZE=false;thisClass.HIDE=true;thisClass.USEPAGE=true;thisClass.RENDER_ON_MOVE=false;thisClass.RENDER_ON_RESIZE=true;thisClass.RENDER=true;thisClass.ALLOW_MULTILINK=false;thisClass.x=0;thisClass.y=0;thisClass.width=200;thisClass.height=100;thisClass.eangle=0;thisClass.eid="";thisClass.lid="";thisClass.transformLock=false;thisClass.e2xml=new MF_ComponentXML(this);thisClass.selector=null;thisClass.ecoordinates=null;thisClass.esize=null;thisClass.prevEcoordinates=null;thisClass.prevEsize=null;thisClass.GROUPID="";thisClass.delta=0;thisClass.linkType="";thisClass.link="";thisClass.linkObj=null;thisClass.templateID="";thisClass.startX=0;thisClass.startY=0;thisClass.endX=0;thisClass.endY=0;thisClass.startType="bottomLeft";thisClass.arrowColor="#ff0000";thisClass.arrowWidth=40;thisClass.shadowType="none";thisClass.setVisible=function(val){thisClass.visible=val;if(val){$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).hide();}};thisClass.getVisible=function(){return thisClass.visible;};thisClass.transformSelector=function(){thisClass.selector.transform(thisClass);};thisClass.computePoints=function(){var obj=MF_Utils.computePoints(thisClass.startType,thisClass.x+thisClass.delta,thisClass.y+thisClass.delta,thisClass.width-(thisClass.delta*2),thisClass.height-(thisClass.delta*2));thisClass.startX=obj.startx;thisClass.startY=obj.starty;thisClass.endX=obj.endx;thisClass.endY=obj.endy;};thisClass.exml=function(){return thisClass.e2xml.formXML();};thisClass.setDefaultSettings=function(){thisClass.e2xml.addPropSingle("shadowType",thisClass.shadowType,"default");thisClass.e2xml.addPropSingle("arrowColor",thisClass.arrowColor,"default");thisClass.e2xml.addPropSingle("arrowWidth",thisClass.arrowWidth,"default");};thisClass.getValues=function(){if(thisClass.e2xml.settings.properties.shadowType!=null){thisClass.shadowType=thisClass.e2xml.settings.properties.shadowType;}if(thisClass.e2xml.settings.properties.arrowColor!=null){thisClass.arrowColor=thisClass.e2xml.settings.properties.arrowColor;}if(thisClass.e2xml.settings.properties.arrowWidth!=null){thisClass.arrowWidth=thisClass.e2xml.settings.properties.arrowWidth;}};thisClass.render=function(redraw){if(thisClass.GENONLY){return;}if(!thisClass.RENDER){return;}if(redraw==null){redraw=true;}MF_ComponentUtils.setDimensionsTransform(thisClass,thisClass.ecoordinates,thisClass.esize);thisClass.getValues();thisClass.delta=2*(thisClass.arrowWidth/10)+10;try{thisClass.delta=thisClass.delta+MF_ComponentUtils.computeShadowDelta(thisClass.shadowType);}catch(e){}var rectDim=MF_Utils.calculateDimensions(thisClass.startX,thisClass.startY,thisClass.endX,thisClass.endY,thisClass.delta);thisClass.startType=rectDim.startType;var cvsCode="";var cwidth=rectDim.width+(thisClass.delta*2);var cheight=rectDim.height+(thisClass.delta*2);var ctop=rectDim.y-thisClass.delta;var cleft=rectDim.x-thisClass.delta;thisClass.x=cleft;thisClass.y=ctop;thisClass.width=cwidth;thisClass.height=cheight;if(redraw){$("#"+thisClass.eid).remove();cvsCode=cvsCode+"<canvas class='mfWFCompCls'  id=\""+thisClass.eid+'" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style="-webkit-transform: translateZ(0);  pointer-events: none; position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+"px; top:"+(ctop).toString()+"px; left:"+(cleft).toString()+'px; " > ';cvsCode=cvsCode+"</canvas>";$("#mfPage"+mf_main.editorController.page.eid).append(cvsCode);try{mf_main.editorController.postAddToPage(thisClass.eid);}catch(e){}}else{MF_ComponentUtils.clearPage(thisClass);}var ctx_Cvs=(document.getElementById(thisClass.eid)).getContext("2d");MF_ComponentUtils.setComponentShadow(ctx_Cvs,thisClass.shadowType);ctx_Cvs.fillStyle=MF_ComponentUtils.hexToRGB(thisClass.arrowColor,1);var thickness=thisClass.arrowWidth;thickness=parseInt(thickness);if(Math.abs(thickness%2)==1){ctx_Cvs.translate(0.5,0.5);}var start_x=rectDim.startx;var start_y=rectDim.starty;var end_x=rectDim.endx;var end_y=rectDim.endy;var asize=thickness;var apoint=asize-5;var angle1=(Math.PI)/8;var angle2=(15*Math.PI)/8;if((end_y>start_y)&&(end_x>start_x)){var slope_sign=1;var x_sign=-1;}if((end_y<start_y)&&(end_x<start_x)){var slope_sign=1;var x_sign=1;}if((end_y<start_y)&&(end_x>start_x)){var slope_sign=-1;var x_sign=-1;}if((end_y>start_y)&&(end_x<start_x)){var slope_sign=-1;var x_sign=1;}if(end_y==start_y){var slope_sign=1;var x_sign=-((end_x-start_x)/Math.abs(end_x-start_x));}if(end_x==start_x){var slope_sign=1;var x_sign=1;}var arrow_height=Math.abs(end_y-start_y);var arrow_width=Math.abs(end_x-start_x);ctx_Cvs.strokeStyle=thisClass.arrowColor;ctx_Cvs.moveTo(start_x,start_y);ctx_Cvs.lineTo(end_x,end_y);ctx_Cvs.stroke();ctx_Cvs.fillStyle=thisClass.arrowColor;if(arrow_width!=0){var slope=slope_sign*(arrow_height/arrow_width);var d=asize;var x=x_sign*(Math.sqrt((d*d)/(1+(slope*slope))));var y=slope*x;d=apoint;var x3=x_sign*(Math.sqrt((d*d)/(1+(slope*slope))));var y3=slope*x3;}else{var y_sign=-((end_y-start_y)/Math.abs(end_y-start_y));var x=0;var y=y_sign*asize;var x3=0;var y3=y_sign*apoint;}ctx_Cvs.save();ctx_Cvs.translate(end_x,end_y);var x1=(x*Math.cos(angle1))-(y*Math.sin(angle1));var y1=(x*Math.sin(angle1))+(y*Math.cos(angle1));var x2=(x*Math.cos(angle2))-(y*Math.sin(angle2));var y2=(x*Math.sin(angle2))+(y*Math.cos(angle2));var x4=(x1+x3)/3;var y4=(y1+y3)/3;var x5=(x3+x2)/3;var y5=(y3+y2)/3;if(arrow_width!=0){var s_x=x_sign*arrow_width;var s_y=slope*s_x;}else{var s_x=0;var s_y=y_sign*arrow_height;}ctx_Cvs.fillStyle=thisClass.arrowColor;ctx_Cvs.strokeStyle=thisClass.arrowColor;ctx_Cvs.beginPath();ctx_Cvs.moveTo(0,0);ctx_Cvs.lineTo(x1,y1);ctx_Cvs.lineTo(x3,y3);ctx_Cvs.lineTo(x2,y2);ctx_Cvs.moveTo(x3,y3);ctx_Cvs.lineTo(x4,y4);ctx_Cvs.lineTo(s_x,s_y);ctx_Cvs.lineTo(x5,y5);ctx_Cvs.closePath();ctx_Cvs.fill();ctx_Cvs.beginPath();ctx_Cvs.moveTo(x4,y4);ctx_Cvs.lineTo(s_x,s_y);ctx_Cvs.restore();if(thisClass.selector){thisClass.selector.transform(thisClass);}};}function MF_ArrowSettings(){var thisClass=this;thisClass.eid=mf_main.editorController.guidGenerator();thisClass.transformLock=false;thisClass.component=null;thisClass.selector=null;thisClass.RENDERDOM=true;thisClass.showSetting=true;thisClass.linkSettings=null;thisClass.shadowSettings=null;thisClass.remove=function(delSet){$("#"+thisClass.eid).hide();if(delSet){try{if(mf_main.MEMFREE){if($("#mfArrowWidth_"+thisClass.eid).data("kendoNumericTextBox")){$("#mfArrowWidth_"+thisClass.eid).data("kendoNumericTextBox").destroy();}thisClass.linkSettings.remove();thisClass.shadowSettings.remove();}}catch(e){console.log("error occured in the component MF_Arrow.js");}$("#"+thisClass.eid).remove();}};thisClass.setValues=function(){if(thisClass.RENDERDOM){thisClass.render();thisClass.linkSettings=new MF_LinkSettings();thisClass.linkSettings.init(thisClass);thisClass.shadowSettings=new MF_ShadowSettings();thisClass.shadowSettings.init(thisClass);}else{thisClass.linkSettings.init(thisClass);thisClass.shadowSettings.init(thisClass);thisClass.setupEvents();$("#"+thisClass.eid).show();}};thisClass.updateTransform=function(noscale){};thisClass.setupEvents=function(){if(thisClass.RENDERDOM){MF_ComponentSettingUtils.setupToggle(thisClass);$("#mfArrowColor_"+thisClass.eid).spectrum({showInput:true,preferredFormat:"hex6",showPalette:true,showSelectionPalette:true,palette:[MF_ComponentUtils.commonPallete()],show:function(color){mf_main.editorController.shortcutsFlag=false;},hide:function(color){mf_main.editorController.shortcutsFlag=true;},change:function(color){color=MF_Utils.RGBToHex(color.toRgbString());thisClass.component.e2xml.addPropSingle("arrowColor",color);thisClass.component.render(false);}});$("#mfArrowWidth_"+thisClass.eid).focusin(function(){mf_main.editorController.disableShortcuts();});$("#mfArrowWidth_"+thisClass.eid).focusout(function(){mf_main.editorController.enableShortcuts();});$("#mfArrowWidth_"+thisClass.eid).kendoNumericTextBox({format:"#",spinners:true,spin:onArrowWidthChange,decimals:0});$("#mfArrowWidth_"+thisClass.eid).focus(function(){$("#mfArrowWidth_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onArrowWidthChange);$("#mfArrowWidth_"+thisClass.eid).data("kendoNumericTextBox").bind("change",onArrowWidthChange);});$("#mfVStraight_"+thisClass.eid).click(function(e){e.stopImmediatePropagation();var coord=new Object();coord.startX=thisClass.component.ecoordinates.startX;coord.startY=thisClass.component.ecoordinates.startY;coord.endX=thisClass.component.ecoordinates.endX;coord.endY=thisClass.component.ecoordinates.endY;var undo=new MF_UndoDAO();undo.propObjectUndo(thisClass.component,"ecoordinates",thisClass.component.ecoordinates);MF_ChangeManager.addUndo(undo);var startX=thisClass.component.ecoordinates.startX;var startY=thisClass.component.ecoordinates.startY;var endX=thisClass.component.ecoordinates.endX;var endY=thisClass.component.ecoordinates.endY;if(startX==endX){return;}var linedistance=Math.sqrt(Math.pow(endX-startX,2)+Math.pow(endY-startY,2));if(startY<endY){coord.endX=thisClass.component.ecoordinates.startX;coord.endY=thisClass.component.ecoordinates.startY+linedistance;}else{coord.startX=thisClass.component.ecoordinates.endX;coord.startY=thisClass.component.ecoordinates.endY+linedistance;}thisClass.component.e2xml.addPropObject("ecoordinates",coord);thisClass.component.render(false);mf_main.editorController.addSelectorTransform(thisClass.component.selector);});$("#mfHStraight_"+thisClass.eid).click(function(e){e.stopImmediatePropagation();var coord=new Object();coord.startX=thisClass.component.ecoordinates.startX;coord.startY=thisClass.component.ecoordinates.startY;coord.endX=thisClass.component.ecoordinates.endX;coord.endY=thisClass.component.ecoordinates.endY;var startX=thisClass.component.ecoordinates.startX;var startY=thisClass.component.ecoordinates.startY;var endX=thisClass.component.ecoordinates.endX;var endY=thisClass.component.ecoordinates.endY;var linedistance=Math.sqrt(Math.pow(endX-startX,2)+Math.pow(endY-startY,2));if(startY==endY){return;}if(startX<endX){coord.endY=thisClass.component.ecoordinates.startY;coord.endX=thisClass.component.ecoordinates.startX+linedistance;}else{coord.startY=thisClass.component.ecoordinates.endY;coord.startX=thisClass.component.ecoordinates.endX+linedistance;}thisClass.component.e2xml.addPropObject("ecoordinates",coord);thisClass.component.render(false);mf_main.editorController.addSelectorTransform(thisClass.component.selector);});$(".mfBtnArrowStraightCls").tooltip({position:"top",animation:false});}if(thisClass.RENDERDOM==true){thisClass.RENDERDOM=false;}$("#mfArrowColor_"+thisClass.eid).spectrum("set",thisClass.component.arrowColor);function onArrowWidthChange(){$("#mfArrowWidth_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onArrowWidthChange);$("#mfclipboard").focus();if(this.value()==""||this.value()==null){if(this.value()!=0&&this.value()!="0"){return;}}var w=this.value();thisClass.component.e2xml.addPropSingle("arrowWidth",w);thisClass.component.render(false);}thisClass.arrowWidthBox=$("#mfArrowWidth_"+thisClass.eid).data("kendoNumericTextBox");thisClass.arrowWidthBox.value(thisClass.component.arrowWidth);};thisClass.render=function(redraw){if(redraw==null){redraw=true;}var htmlCode="";if(redraw){$("#"+thisClass.eid).remove();htmlCode=multiline(function(){
/*!
				
					
					<div class="mfComponentSetting" id="{{eid}}" style=" position: relative; display: none; width:250px; height: 620px; overflow: hidden; " >
					<div  style="overflow: hidden;  width:100%; height: 100%;" >
					
						
						<div id="{{eid}}_link"  style="overflow: hidden; width:100%; " >
							
						</div>
						
					
						<div id="{{eid}}_builtin"  style="overflow: hidden; width:100%; " >
					
								<div id="{{eid}}_settingToggle"  class="mfImgLink mfSettingsToggleBtn" style=" " >
				
									<div style="float: left; width: 185px; padding-left: 5px;">Arrow</div>
									
									<div style="float: left; width: 50px; text-align: right;">
										<span id="{{eid}}_settingToggleHide"  style="display: none; font-size: 20px;" class="ico-angle-right"></span>
										<span id="{{eid}}_settingToggleShow"  style="font-size: 20px;" class="ico-angle-down"></span>
									</div>
								</div>
								
								
										
								<div id="{{eid}}_partSetting" style="overflow: hidden; position: relative; width:100%; height: 180px;" >		
					
								
											<div  style="left: 10px; top: 20px; width: 170px; font-weight: bold; overflow: hidden; word-wrap: false;position:absolute"> 
			
												<div style="overflow:hidden">
													<span  id="mfVStraight_{{eid}}"  title="Make Arrow Vertical Straight" class="mfBtnArrowStraightCls ico-flip_horizontal" style="cursor: pointer; font-size: 30px; color: #444;"></span>
													&nbsp; &nbsp; 
													<span id="mfHStraight_{{eid}}"  title="Make Arrow Horizontal Straight" class="mfBtnArrowStraightCls ico-flip_vertical" style="cursor: pointer; font-size: 30px; color: #444;"></span>
												</div>
									
											</div>
											
											<div style="position: absolute; left: 10px; top: 83px;">Color:</div>
											<div  style='position: absolute; left: 100px; top: 77px;' ><input  id='mfArrowColor_{{eid}}' style='width: 100px;' type='text'  /></div>
						
											<div style="position: absolute; left: 10px; top: 135px;">Thickness:</div>
											<div style="position: absolute; left: 100px; top: 130px;"><input style="width: 70px;" id="mfArrowWidth_{{eid}}" type="number" value="1" min="1" max="50" step="1" /></div>

								
								
								</div>
						</div>
						
						
						
						<div id="{{eid}}_shadow"  style="overflow: hidden; width:100%; " >
							
						</div>
					
					
					
					</div></div>
					 
				
				*/
console.log;});var compiled_template=Handlebars.compile(htmlCode);var context={eid:thisClass.eid};var compiled_code=compiled_template(context);$("#mfComponentSettings").append(compiled_code);thisClass.setupEvents();$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);}};}function MF_Tooltip(){var thisClass=this;thisClass.NAME="MF_Tooltip";thisClass.LABEL="Tooltip";thisClass.GENONLY=false;thisClass.TRANSFORM=false;thisClass.VRESIZE=false;thisClass.HRESIZE=false;thisClass.USEFONT=true;thisClass.ANNOTATION=false;thisClass.MULTILINE=true;thisClass.EDITABLE=true;thisClass.AUTOSIZE=false;thisClass.HIDE=true;thisClass.USEPAGE=true;thisClass.RENDER_ON_MOVE=false;thisClass.RENDER_ON_RESIZE=true;thisClass.RENDER=true;thisClass.ALLOW_MULTILINK=false;thisClass.x=0;thisClass.y=0;thisClass.width=200;thisClass.height=90;thisClass.eangle=0;thisClass.eid="";thisClass.lid="";thisClass.transformLock=false;thisClass.e2xml=new MF_ComponentXML(this);thisClass.selector=null;thisClass.ecoordinates=null;thisClass.prevEcoordinates=null;thisClass.prevEsize=null;thisClass.esize=null;thisClass.GROUPID="";thisClass.delta=0;thisClass.linkType="";thisClass.link="";thisClass.linkObj=null;thisClass.templateID="";thisClass.fillColors=["#fafafa","#fafafa"];thisClass.fillAlpha=1;thisClass.fillType="solid";thisClass.shadowType="all";thisClass.textPadding=5;thisClass.tipDirection="top";thisClass.tipPosition=30;thisClass.borderColor="#666666";thisClass.borderWidth=1;thisClass.borderType="none";thisClass.borderRadius=10;thisClass.fontType="sourcesanspro";thisClass.isGoogleFontUsed=false;thisClass.text="";thisClass.fontSize=12;thisClass.fontColor="#000000";thisClass.textAlign="left";thisClass.fontWeight="normal";thisClass.fontStyle="normal";thisClass.textDecoration="none";thisClass.lineHeight=1;thisClass.setVisible=function(val){thisClass.visible=val;if(val){$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).hide();}};thisClass.getVisible=function(){return thisClass.visible;};thisClass.exml=function(){return thisClass.e2xml.formXML();};thisClass.setDefaultSettings=function(){thisClass.e2xml.addPropArray("fillColors",thisClass.fillColors,"String","default");thisClass.e2xml.addPropSingle("fillType",thisClass.fillType,"default");thisClass.e2xml.addPropSingle("fillAlpha",thisClass.fillAlpha,"default");thisClass.e2xml.addPropSingle("shadowType",thisClass.shadowType,"default");thisClass.e2xml.addPropSingle("textPadding",thisClass.textPadding,"default");thisClass.e2xml.addPropSingle("lineHeight",thisClass.lineHeight,"default");thisClass.e2xml.addPropSingle("borderColor",thisClass.borderColor,"default");thisClass.e2xml.addPropSingle("borderWidth",thisClass.borderWidth,"default");thisClass.e2xml.addPropSingle("borderType",thisClass.borderType,"default");thisClass.e2xml.addPropSingle("borderRadius",thisClass.borderRadius,"default");thisClass.e2xml.addPropSingle("tipDirection",thisClass.tipDirection,"default");thisClass.e2xml.addPropSingle("tipPosition",thisClass.tipPosition,"default");thisClass.e2xml.addPropSingle("isGoogleFontUsed",thisClass.isGoogleFontUsed,"default");thisClass.e2xml.addPropSingle("textAlign",thisClass.textAlign,"default");thisClass.e2xml.addPropSingle("fontType",thisClass.fontType,"default");thisClass.e2xml.addPropSingle("fontSize",thisClass.fontSize,"default");thisClass.e2xml.addPropSingle("fontColor",thisClass.fontColor,"default");thisClass.e2xml.addPropSingle("text",thisClass.text,"default");thisClass.e2xml.addPropSingle("fontWeight",thisClass.fontWeight,"default");thisClass.e2xml.addPropSingle("fontStyle",thisClass.fontStyle,"default");thisClass.e2xml.addPropSingle("textDecoration",thisClass.textDecoration,"default");};thisClass.getValues=function(){if(thisClass.e2xml.settings.properties.fontWeight!=null){thisClass.fontWeight=thisClass.e2xml.settings.properties.fontWeight;}if(thisClass.e2xml.settings.properties.lineHeight!=null){thisClass.lineHeight=thisClass.e2xml.settings.properties.lineHeight;}if(thisClass.e2xml.settings.properties.tipPosition!=null){thisClass.tipPosition=thisClass.e2xml.settings.properties.tipPosition;}if(thisClass.e2xml.settings.properties.fontStyle!=null){thisClass.fontStyle=thisClass.e2xml.settings.properties.fontStyle;}if(thisClass.e2xml.settings.properties.textPadding!=null){thisClass.textPadding=thisClass.e2xml.settings.properties.textPadding;}if(thisClass.e2xml.settings.properties.textDecoration!=null){thisClass.textDecoration=thisClass.e2xml.settings.properties.textDecoration;}if(thisClass.e2xml.settings.properties.fillColors!=null){thisClass.fillColors=thisClass.e2xml.settings.properties.fillColors;}if(thisClass.e2xml.settings.properties.fillType!=null){thisClass.fillType=thisClass.e2xml.settings.properties.fillType;}if(thisClass.e2xml.settings.properties.fillAlpha!=null){thisClass.fillAlpha=thisClass.e2xml.settings.properties.fillAlpha;}if(thisClass.e2xml.settings.properties.shadowType!=null){thisClass.shadowType=thisClass.e2xml.settings.properties.shadowType;}if(thisClass.e2xml.settings.properties.borderColor!=null){thisClass.borderColor=thisClass.e2xml.settings.properties.borderColor;}if(thisClass.e2xml.settings.properties.borderWidth!=null){thisClass.borderWidth=thisClass.e2xml.settings.properties.borderWidth;}if(thisClass.e2xml.settings.properties.borderType!=null){thisClass.borderType=thisClass.e2xml.settings.properties.borderType;}if(thisClass.e2xml.settings.properties.borderRadius!=null){thisClass.borderRadius=thisClass.e2xml.settings.properties.borderRadius;}if(thisClass.e2xml.settings.properties.textAlign!=null){thisClass.textAlign=thisClass.e2xml.settings.properties.textAlign;}if(thisClass.e2xml.settings.properties.text!=null){thisClass.text=thisClass.e2xml.settings.properties.text;}if(thisClass.e2xml.settings.properties.tipDirection!=null){thisClass.tipDirection=thisClass.e2xml.settings.properties.tipDirection;}if(thisClass.e2xml.settings.properties.fontType!=null){thisClass.fontType=thisClass.e2xml.settings.properties.fontType;}if(thisClass.e2xml.settings.properties.isGoogleFontUsed!=null){thisClass.isGoogleFontUsed=thisClass.e2xml.settings.properties.isGoogleFontUsed;}if(thisClass.e2xml.settings.properties.fontSize!=null){thisClass.fontSize=thisClass.e2xml.settings.properties.fontSize;}if(thisClass.e2xml.settings.properties.fontColor!=null){thisClass.fontColor=thisClass.e2xml.settings.properties.fontColor;}};thisClass.drawTooltip=function(ctx,x,y,w,h,cornerRadius){cornerRadius=cornerRadius/2;ctx.beginPath();var theta,angle,cx,cy,px,py;if(cornerRadius>Math.min(w,h)/2){cornerRadius=Math.min(w,h)/2;}theta=Math.PI/4;ctx.moveTo(x+cornerRadius,y);if(thisClass.tipDirection=="top"){var position=thisClass.tipPosition;var pos=(position*(w))/100;pos=pos;if(pos>thisClass.width-20){pos=thisClass.width-20;}ctx.lineTo(x+(pos),y);ctx.lineTo(x+(pos)+10,y-10);ctx.lineTo(x+(pos)+20,y);}else{ctx.lineTo(x+w-cornerRadius,y);}angle=-Math.PI/2;cx=x+w-cornerRadius+(Math.cos(angle+(theta/2))*cornerRadius/Math.cos(theta/2));cy=y+cornerRadius+(Math.sin(angle+(theta/2))*cornerRadius/Math.cos(theta/2));px=x+w-cornerRadius+(Math.cos(angle+theta)*cornerRadius);py=y+cornerRadius+(Math.sin(angle+theta)*cornerRadius);ctx.quadraticCurveTo(cx,cy,px,py);angle+=theta;cx=x+w-cornerRadius+(Math.cos(angle+(theta/2))*cornerRadius/Math.cos(theta/2));cy=y+cornerRadius+(Math.sin(angle+(theta/2))*cornerRadius/Math.cos(theta/2));px=x+w-cornerRadius+(Math.cos(angle+theta)*cornerRadius);py=y+cornerRadius+(Math.sin(angle+theta)*cornerRadius);ctx.quadraticCurveTo(cx,cy,px,py);if(thisClass.tipDirection=="right"){var position=thisClass.tipPosition;var pos=(position*(h))/100;pos=pos;if(pos>thisClass.height-20){pos=thisClass.height-20;}ctx.lineTo(x+w,y+(pos));ctx.lineTo(x+w+10,y+pos+10);ctx.lineTo(x+w,y+(pos)+20);}else{ctx.lineTo(x+w,y+h-cornerRadius);}angle+=theta;cx=x+w-cornerRadius+(Math.cos(angle+(theta/2))*cornerRadius/Math.cos(theta/2));cy=y+h-cornerRadius+(Math.sin(angle+(theta/2))*cornerRadius/Math.cos(theta/2));px=x+w-cornerRadius+(Math.cos(angle+theta)*cornerRadius);py=y+h-cornerRadius+(Math.sin(angle+theta)*cornerRadius);ctx.quadraticCurveTo(cx,cy,px,py);angle+=theta;cx=x+w-cornerRadius+(Math.cos(angle+(theta/2))*cornerRadius/Math.cos(theta/2));cy=y+h-cornerRadius+(Math.sin(angle+(theta/2))*cornerRadius/Math.cos(theta/2));px=x+w-cornerRadius+(Math.cos(angle+theta)*cornerRadius);py=y+h-cornerRadius+(Math.sin(angle+theta)*cornerRadius);ctx.quadraticCurveTo(cx,cy,px,py);if(thisClass.tipDirection=="bottom"){var position=thisClass.tipPosition;var pos=(position*(w))/100;pos=pos;if(pos>thisClass.width-20){pos=thisClass.width-20;}ctx.lineTo(x+(pos)+20,y+h);ctx.lineTo(x+(pos)+10,y+h+10);ctx.lineTo(x+(pos),y+h);}else{ctx.lineTo(x+cornerRadius,y+h);}angle+=theta;cx=x+cornerRadius+(Math.cos(angle+(theta/2))*cornerRadius/Math.cos(theta/2));cy=y+h-cornerRadius+(Math.sin(angle+(theta/2))*cornerRadius/Math.cos(theta/2));px=x+cornerRadius+(Math.cos(angle+theta)*cornerRadius);py=y+h-cornerRadius+(Math.sin(angle+theta)*cornerRadius);ctx.quadraticCurveTo(cx,cy,px,py);angle+=theta;cx=x+cornerRadius+(Math.cos(angle+(theta/2))*cornerRadius/Math.cos(theta/2));cy=y+h-cornerRadius+(Math.sin(angle+(theta/2))*cornerRadius/Math.cos(theta/2));px=x+cornerRadius+(Math.cos(angle+theta)*cornerRadius);py=y+h-cornerRadius+(Math.sin(angle+theta)*cornerRadius);ctx.quadraticCurveTo(cx,cy,px,py);if(thisClass.tipDirection=="left"){var position=thisClass.tipPosition;var pos=(position*(h))/100;pos=pos;if(pos>thisClass.height-20){pos=thisClass.height-20;}ctx.lineTo(x,y+(pos)+20);ctx.lineTo(x-10,y+pos+10);ctx.lineTo(x,y+(pos));}else{ctx.lineTo(x,y+cornerRadius);}angle+=theta;cx=x+cornerRadius+(Math.cos(angle+(theta/2))*cornerRadius/Math.cos(theta/2));cy=y+cornerRadius+(Math.sin(angle+(theta/2))*cornerRadius/Math.cos(theta/2));px=x+cornerRadius+(Math.cos(angle+theta)*cornerRadius);py=y+cornerRadius+(Math.sin(angle+theta)*cornerRadius);ctx.quadraticCurveTo(cx,cy,px,py);angle+=theta;cx=x+cornerRadius+(Math.cos(angle+(theta/2))*cornerRadius/Math.cos(theta/2));cy=y+cornerRadius+(Math.sin(angle+(theta/2))*cornerRadius/Math.cos(theta/2));px=x+cornerRadius+(Math.cos(angle+theta)*cornerRadius);py=y+cornerRadius+(Math.sin(angle+theta)*cornerRadius);ctx.quadraticCurveTo(cx,cy,px,py);};thisClass.render=function(redraw){if(thisClass.GENONLY){return;}if(!thisClass.RENDER){return;}if(redraw==null){redraw=true;}MF_ComponentUtils.setDimensions(thisClass,thisClass.ecoordinates,thisClass.esize);thisClass.getValues();var rectCode="";var thickness=parseInt(thisClass.borderWidth);if(thisClass.borderType=="none"){thickness=0;}var tipSize=10;thisClass.delta=(1*thickness)+5;try{thisClass.delta=thisClass.delta+MF_ComponentUtils.computeShadowDelta(thisClass.shadowType);}catch(e){}var cwidth=thisClass.width+(thisClass.delta*2);var cheight=thisClass.height+(thisClass.delta*2);var ctop=thisClass.y-thisClass.delta;var cleft=thisClass.x-thisClass.delta;if(redraw){$("#"+thisClass.eid).remove();rectCode=rectCode+"<div class='mfWFCompCls'  id=\""+thisClass.eid+'" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style="pointer-events: none; -webkit-transform: translateZ(0);  overflow: hidden; position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+"px; top:"+(ctop).toString()+"px; left:"+(cleft).toString()+'px; " > ';rectCode=rectCode+'<canvas id="'+thisClass.eid+'_cvs" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style="-webkit-transform: translateZ(0);  position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+'px; top:0px; left:0px; " > ';rectCode=rectCode+"</canvas>";rectCode=rectCode+'<span id="'+thisClass.eid+'_txt"  style="padding: 5px; line-height: normal;   word-wrap: break-word; overflow: hidden;  text-align: center; font-weight: bold; -webkit-transform: translateZ(0);  position:absolute; width:'+(thisClass.width).toString()+"px; height:"+(thisClass.height).toString()+"px;   top:"+(thisClass.delta).toString()+"px; left:"+(thisClass.delta).toString()+'px;  " > ';rectCode=rectCode+"</span>";rectCode=rectCode+"</div>";$("#mfPage"+mf_main.editorController.page.eid).append(rectCode);try{mf_main.editorController.postAddToPage(thisClass.eid);}catch(e){}}else{var ctx_cvs=(document.getElementById(thisClass.eid+"_cvs")).getContext("2d");ctx_cvs.clearRect(0,0,$("#"+thisClass.eid+"_cvs").width(),$("#"+thisClass.eid+"_cvs").height());document.getElementById(thisClass.eid+"_cvs").width=$("#"+thisClass.eid+"_cvs").width();$("#"+thisClass.eid).css("left",cleft);$("#"+thisClass.eid).css("top",ctop);$("#"+thisClass.eid).css("width",cwidth);$("#"+thisClass.eid).css("height",cheight);$("#"+thisClass.eid+"_cvs").css("width",cwidth);$("#"+thisClass.eid+"_cvs").css("height",cheight);$("#"+thisClass.eid+"_txt").css("left",thisClass.delta);$("#"+thisClass.eid+"_txt").css("top",thisClass.delta);$("#"+thisClass.eid+"_txt").css("width",thisClass.width);$("#"+thisClass.eid+"_txt").css("height",thisClass.height);document.getElementById(thisClass.eid+"_cvs").width=cwidth;document.getElementById(thisClass.eid+"_cvs").height=cheight;}$("#"+thisClass.eid+"_txt").css("user-select","none");$("#"+thisClass.eid+"_txt").css("-webkit-user-select","none");$("#"+thisClass.eid+"_txt").css("-moz-user-select","none");var fontFamily=mf_main.editorController.fontController.getFontByIDComponent(thisClass.fontType,thisClass);var htext=thisClass.text;htext=MF_ComponentUtils.getRefactoredText(htext);htext=htext.replace(/\n/g,"<br/>");$("#"+thisClass.eid+"_txt").html(htext);$("#"+thisClass.eid+"_txt").css("font-family",fontFamily);$("#"+thisClass.eid+"_txt").css("padding",thisClass.textPadding);$("#"+thisClass.eid+"_txt").css("font-weight",thisClass.fontWeight);$("#"+thisClass.eid+"_txt").css("font-style",thisClass.fontStyle);$("#"+thisClass.eid+"_txt").css("text-decoration",thisClass.textDecoration);$("#"+thisClass.eid+"_txt").css("font-size",thisClass.fontSize.toString()+"px");$("#"+thisClass.eid+"_txt").css("color",thisClass.fontColor);$("#"+thisClass.eid+"_txt").css("text-align",thisClass.textAlign);$("#"+thisClass.eid+"_txt").css("line-height",thisClass.lineHeight);var rad=thisClass.width;if(thisClass.height<thisClass.width){rad=thisClass.height;}var ctx_obj=(document.getElementById(thisClass.eid+"_cvs")).getContext("2d");thickness=parseInt(thickness);if(Math.abs(thickness%2)==1){ctx_obj.translate(0.5,0.5);}var startx=cwidth/2;var starty=cheight/2;ctx_obj.save();MF_ComponentUtils.setComponentShadow(ctx_obj,thisClass.shadowType);ctx_obj.beginPath();if(thisClass.tipDirection=="top"){$("#"+thisClass.eid+"_txt").css("top",thisClass.delta+tipSize);$("#"+thisClass.eid+"_txt").css("height",thisClass.height-tipSize);thisClass.drawTooltip(ctx_obj,thisClass.delta,thisClass.delta+tipSize,thisClass.width,thisClass.height-tipSize,thisClass.borderRadius);}if(thisClass.tipDirection=="left"){$("#"+thisClass.eid+"_txt").css("left",thisClass.delta+tipSize);$("#"+thisClass.eid+"_txt").css("width",thisClass.width-tipSize);thisClass.drawTooltip(ctx_obj,thisClass.delta+tipSize,thisClass.delta,thisClass.width-tipSize,thisClass.height,thisClass.borderRadius);}if(thisClass.tipDirection=="right"){$("#"+thisClass.eid+"_txt").css("left",thisClass.delta);$("#"+thisClass.eid+"_txt").css("width",thisClass.width-tipSize);thisClass.drawTooltip(ctx_obj,thisClass.delta,thisClass.delta,thisClass.width-tipSize,thisClass.height,thisClass.borderRadius);}if(thisClass.tipDirection=="bottom"){$("#"+thisClass.eid+"_txt").css("top",thisClass.delta);$("#"+thisClass.eid+"_txt").css("height",thisClass.height-tipSize);thisClass.drawTooltip(ctx_obj,thisClass.delta,thisClass.delta,thisClass.width,thisClass.height-tipSize,thisClass.borderRadius);}var defFillColor1=MF_ComponentUtils.hexToRGB(thisClass.fillColors[0],thisClass.fillAlpha);var defFillColor2=MF_ComponentUtils.hexToRGB(thisClass.fillColors[1],thisClass.fillAlpha);if(thisClass.fillType=="linear-vertical"){var grad_Circle1=ctx_obj.createLinearGradient(0,0,0,this.height);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="linear-horizontal"){var grad_Circle1=ctx_obj.createLinearGradient(0,0,this.width,0);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="linear-diagonally"){var grad_Circle1=ctx_obj.createLinearGradient(0,0,this.width,this.height);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{if(thisClass.fillType=="radial"){var grad_Circle1=ctx_obj.createRadialGradient(startx,starty,(rad/2)/2,startx,starty,rad/2);grad_Circle1.addColorStop(0,defFillColor1);grad_Circle1.addColorStop(1,defFillColor2);ctx_obj.fillStyle=grad_Circle1;}else{ctx_obj.fillStyle=MF_ComponentUtils.hexToRGB(thisClass.fillColors[0],thisClass.fillAlpha);}}}}ctx_obj.fill();ctx_obj.restore();ctx_obj.lineWidth=thickness;if(thisClass.borderType=="dashed"){ctx_obj.setLineDash([thickness*2,4]);}if(thisClass.borderType=="dotted"){ctx_obj.setLineDash([thickness,2]);}if(thisClass.borderType!="none"&&thickness!=0){ctx_obj.strokeStyle=MF_ComponentUtils.hexToRGB(thisClass.borderColor,1);ctx_obj.stroke();}MF_Utils.rotate(thisClass.eid,thisClass.eangle);if(thisClass.selector){thisClass.selector.transform(thisClass);}};}function MF_TooltipSettings(){var thisClass=this;thisClass.eid=mf_main.editorController.guidGenerator();thisClass.transformLock=false;thisClass.component=null;thisClass.selector=null;thisClass.RENDERDOM=true;thisClass.showSetting=true;thisClass.transformSettings=null;thisClass.linkSettings=null;thisClass.backgroundSettings=null;thisClass.borderSettings=null;thisClass.shadowSettings=null;thisClass.fontSettings=null;thisClass.dirTypeDropdown=null;thisClass.lineHeightBox=null;thisClass.remove=function(delSet){$("#"+thisClass.eid).hide();if(delSet){try{if(mf_main.MEMFREE){if($("#mfSliderVal_"+thisClass.eid).data("kendoSlider")){$("#mfSliderVal_"+thisClass.eid).data("kendoSlider").destroy();}if($("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox")){$("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox").destroy();}if($("#mfDirectionType_"+thisClass.eid).data("kendoDropDownList")){$("#mfDirectionType_"+thisClass.eid).data("kendoDropDownList").destroy();}if($("#mfLineHeight_"+thisClass.eid).data("kendoNumericTextBox")){$("#mfLineHeight_"+thisClass.eid).data("kendoNumericTextBox").destroy();}thisClass.transformSettings.remove();thisClass.linkSettings.remove();thisClass.backgroundSettings.remove();thisClass.borderSettings.remove();thisClass.shadowSettings.remove();thisClass.fontSettings.remove();}}catch(e){console.log("error occured in the component MF_Tooltip.js");}$("#"+thisClass.eid).remove();}};thisClass.setValues=function(){if(thisClass.RENDERDOM){thisClass.render();thisClass.transformSettings=new MF_TransformSettings();thisClass.transformSettings.init(thisClass);thisClass.linkSettings=new MF_LinkSettings();thisClass.linkSettings.init(thisClass);thisClass.backgroundSettings=new MF_BackgroundSettings();thisClass.backgroundSettings.init(thisClass);thisClass.borderSettings=new MF_BorderSettings3();thisClass.borderSettings.init(thisClass);thisClass.shadowSettings=new MF_ShadowSettings();thisClass.shadowSettings.init(thisClass);thisClass.fontSettings=new MF_FontSettings2();thisClass.fontSettings.init(thisClass);}else{thisClass.transformSettings.init(thisClass);thisClass.linkSettings.init(thisClass);thisClass.backgroundSettings.init(thisClass);thisClass.borderSettings.init(thisClass);thisClass.shadowSettings.init(thisClass);thisClass.fontSettings.init(thisClass);thisClass.setupEvents();$("#"+thisClass.eid).show();}};thisClass.updateTransform=function(noscale){thisClass.transformSettings.updateTransform(noscale);};thisClass.setupEvents=function(){if(thisClass.RENDERDOM){MF_ComponentSettingUtils.setupToggle(thisClass);$("#mfSliderVal_"+thisClass.eid).kendoSlider({showButtons:false,change:valSliderOnSlide,tickPlacement:"none",min:0,max:100,smallStep:10,largeStep:10,tooltip:{enabled:false}}).data("kendoSlider");$("#mfPadding_"+thisClass.eid).focusin(function(){mf_main.editorController.disableShortcuts();});$("#mfPadding_"+thisClass.eid).focusout(function(){mf_main.editorController.enableShortcuts();});$("#mfPadding_"+thisClass.eid).kendoNumericTextBox({format:"#",spinners:true,spin:onWidthChange,decimals:0});$("#mfPadding_"+thisClass.eid).focus(function(){$("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onWidthChange);$("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox").bind("change",onWidthChange);});var data=[{text:"Top Tooltip",value:"top"},{text:"Bottom Tooltip",value:"bottom"},{text:"Left Tooltip",value:"left"},{text:"Right Tooltip",value:"right"}];$("#mfDirectionType_"+thisClass.eid).kendoDropDownList({dataTextField:"text",dataValueField:"value",select:onDirectionSelect,dataSource:data});$("#mfLineHeight_"+thisClass.eid).focusin(function(){mf_main.editorController.disableShortcuts();});$("#mfLineHeight_"+thisClass.eid).focusout(function(){mf_main.editorController.enableShortcuts();});$("#mfLineHeight_"+thisClass.eid).kendoNumericTextBox({spinners:true,spin:onLineHeightChange});$("#mfLineHeight_"+thisClass.eid).focus(function(){$("#mfLineHeight_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onLineHeightChange);$("#mfLineHeight_"+thisClass.eid).data("kendoNumericTextBox").bind("change",onLineHeightChange);});}if(thisClass.RENDERDOM==true){thisClass.RENDERDOM=false;}var aslider=$("#mfSliderVal_"+thisClass.eid).data("kendoSlider");aslider.value(thisClass.component.tipPosition);function valSliderOnSlide(e){thisClass.component.e2xml.addPropSingle("tipPosition",e.value);thisClass.component.render(false);}function onWidthChange(){$("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onWidthChange);$("#mfclipboard").focus();if(this.value()==""||this.value()==null){if(this.value()!=0&&this.value()!="0"){return;}}var w=this.value();thisClass.component.e2xml.addPropSingle("textPadding",w);thisClass.component.render(false);}thisClass.textPaddingBox=$("#mfPadding_"+thisClass.eid).data("kendoNumericTextBox");thisClass.textPaddingBox.value(thisClass.component.textPadding);thisClass.dirTypeDropdown=$("#mfDirectionType_"+thisClass.eid).data("kendoDropDownList");thisClass.setDirectionType(thisClass.component.tipDirection);function onDirectionSelect(e){var dataItem=this.dataItem(e.item.index());thisClass.component.e2xml.addPropSingle("tipDirection",dataItem.value);thisClass.component.render(false);}function onLineHeightChange(){$("#mfLineHeight_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onLineHeightChange);$("#mfclipboard").focus();if(this.value()==""||this.value()==null){if(this.value()!=0&&this.value()!="0"){return;}}var w=this.value();thisClass.component.e2xml.addPropSingle("lineHeight",w);thisClass.component.render(false);}thisClass.lineHeightBox=$("#mfLineHeight_"+thisClass.eid).data("kendoNumericTextBox");thisClass.lineHeightBox.value(parseFloat(thisClass.component.lineHeight));};thisClass.setDirectionType=function(dir){if(dir=="top"){thisClass.dirTypeDropdown.select(0);}if(dir=="bottom"){thisClass.dirTypeDropdown.select(1);}if(dir=="left"){thisClass.dirTypeDropdown.select(2);}if(dir=="right"){thisClass.dirTypeDropdown.select(3);}};thisClass.render=function(redraw){if(redraw==null){redraw=true;}var htmlCode="";if(redraw){$("#"+thisClass.eid).remove();htmlCode=multiline(function(){
/*!
				
					
					<div class="mfComponentSetting" id="{{eid}}" style=" position: relative; display: none; width:250px; height: 1600px; overflow: hidden; " >
					<div  style="overflow: hidden;  width:100%; height: 100%;" >
					
						<div class="mfSettingsTextEditMsg" >
							Double-Click on Comp / Click Here to Edit
						</div>
						
						<div id="{{eid}}_transform"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_link"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_builtin"  style="overflow: hidden; width:100%; " >
					
								<div id="{{eid}}_settingToggle"  class="mfImgLink mfSettingsToggleBtn" style=" " >
				
									<div style="float: left; width: 185px; padding-left: 5px;">Tooltip</div>
									
									<div style="float: left; width: 50px; text-align: right;">
										<span id="{{eid}}_settingToggleHide"  style="display: none; font-size: 20px;" class="ico-angle-right"></span>
										<span id="{{eid}}_settingToggleShow"  style="font-size: 20px;" class="ico-angle-down"></span>
									</div>
								</div>
										
								<div id="{{eid}}_partSetting" style="overflow: hidden; position: relative; width:100%; height: 200px;" >		
					
										<div style="position: absolute; left: 10px; top: 10px;">Position:</div>
										<div style="position: absolute; height: 25px; font-size: 11px;  width: 100px; left: 83px; top: 8px;">
										<input id="mfSliderVal_{{eid}}" style="width: 100px;" class="balSlider" value="0" />
										</div>
									  
									  <div style="position: absolute; left: 10px; top: 65px;">Text Padding:</div>
									<div style="position: absolute; left: 100px; top: 60px;"><input style="width: 70px;" id="mfPadding_{{eid}}" type="number" value="0" min="0" max="10000000" step="1" /></div>

										<div style="position: absolute; left: 10px; top: 105px;">Line Height:</div>
									<div style="position: absolute; left: 100px; top: 100px;"><input style="width: 70px;" id="mfLineHeight_{{eid}}" type="number" value="0" min="0" max="1000" step="0.1" /></div>

										<select style="left: 10px; top: 150px; width: 220px;" id="mfDirectionType_{{eid}}">
								
										</select>
										
										
									 
								
								</div>
						</div>
						
					
						<div id="{{eid}}_font"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_background"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_border"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						<div id="{{eid}}_shadow"  style="overflow: hidden; width:100%; " >
							
						</div>
					
					
					
					</div></div>
					
				
				*/
console.log;});var compiled_template=Handlebars.compile(htmlCode);var context={eid:thisClass.eid};var compiled_code=compiled_template(context);$("#mfComponentSettings").append(compiled_code);thisClass.setupEvents();$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);}};}function MF_ImageComp(){var thisClass=this;thisClass.NAME="MF_ImageComp";thisClass.LABEL="Image";thisClass.GENONLY=false;thisClass.TRANSFORM=false;thisClass.VRESIZE=false;thisClass.HRESIZE=false;thisClass.USEFONT=true;thisClass.ANNOTATION=false;thisClass.MULTILINE=false;thisClass.EDITABLE=true;thisClass.AUTOSIZE=false;thisClass.HIDE=true;thisClass.USEPAGE=false;thisClass.RENDER_ON_MOVE=true;thisClass.RENDER_ON_RESIZE=true;thisClass.RENDER=true;thisClass.ALLOW_MULTILINK=false;thisClass.x=0;thisClass.y=0;thisClass.width=100;thisClass.height=100;thisClass.eangle=0;thisClass.eid="";thisClass.lid="";thisClass.transformLock=false;thisClass.e2xml=new MF_ComponentXML(this);thisClass.selector=null;thisClass.ecoordinates=null;thisClass.prevEcoordinates=null;thisClass.prevEsize=null;thisClass.esize=null;thisClass.GROUPID="";thisClass.delta=0;thisClass.linkType="";thisClass.link="";thisClass.linkObj=null;thisClass.templateID="";thisClass.isSVG=false;thisClass.svgData=null;thisClass.shadowType="none";thisClass.maintainSize=true;thisClass.opacity=1;thisClass.imageID="";thisClass.originalEsize=null;thisClass.imgLoaded=false;thisClass.text="";thisClass.grayScale=false;thisClass.colorEnabled=false;thisClass.rgb="255,0,0";thisClass.flip=false;thisClass.borderColor="#000000";thisClass.borderWidth=1;thisClass.borderType="solid";thisClass.borderRadius=0;thisClass.fontType="sourcesanspro";thisClass.isGoogleFontUsed=false;thisClass.fontSize=12;thisClass.fontColor="#000000";thisClass.fontWeight="normal";thisClass.fontStyle="normal";thisClass.textDecoration="none";thisClass.tempFile=null;thisClass.tempURL=false;thisClass.tempSizeSet=true;thisClass.img=null;thisClass.canvasDraw=false;thisClass.setVisible=function(val){thisClass.visible=val;if(val){$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).hide();}};thisClass.getVisible=function(){return thisClass.visible;};thisClass.setImgLoaded=function(val){thisClass.imgLoaded=val;if(mf_main.RENDER){mf_main.editorController.checkLoaded();}};thisClass.exml=function(){return thisClass.e2xml.formXML();};thisClass.setDefaultSettings=function(){thisClass.e2xml.addPropSingle("opacity",thisClass.opacity,"default");thisClass.e2xml.addPropSingle("maintainSize",thisClass.maintainSize,"default");thisClass.e2xml.addPropSingle("shadowType",thisClass.shadowType,"default");thisClass.e2xml.addPropSingle("text",thisClass.text,"default");thisClass.e2xml.addPropSingle("imageID",thisClass.imageID,"default");thisClass.e2xml.addPropObject("originalEsize",thisClass.originalEsize,"default");thisClass.e2xml.addPropSingle("colorEnabled",thisClass.colorEnabled,"default");thisClass.e2xml.addPropSingle("grayScale",thisClass.grayScale,"default");thisClass.e2xml.addPropSingle("rgb",thisClass.rgb,"default");thisClass.e2xml.addPropSingle("flip",thisClass.flip,"default");thisClass.e2xml.addPropSingle("isGoogleFontUsed",thisClass.isGoogleFontUsed,"default");thisClass.e2xml.addPropSingle("fontType",thisClass.fontType,"default");thisClass.e2xml.addPropSingle("fontSize",thisClass.fontSize,"default");thisClass.e2xml.addPropSingle("fontColor",thisClass.fontColor,"default");thisClass.e2xml.addPropSingle("fontWeight",thisClass.fontWeight,"default");thisClass.e2xml.addPropSingle("fontStyle",thisClass.fontStyle,"default");thisClass.e2xml.addPropSingle("textDecoration",thisClass.textDecoration,"default");thisClass.e2xml.addPropSingle("borderColor",thisClass.borderColor,"default");thisClass.e2xml.addPropSingle("borderWidth",thisClass.borderWidth,"default");thisClass.e2xml.addPropSingle("borderType",thisClass.borderType,"default");thisClass.e2xml.addPropSingle("borderRadius",thisClass.borderRadius,"default");};thisClass.getValues=function(){if(thisClass.e2xml.settings.properties.borderRadius!=null){thisClass.borderRadius=thisClass.e2xml.settings.properties.borderRadius;}if(thisClass.e2xml.settings.properties.fontWeight!=null){thisClass.fontWeight=thisClass.e2xml.settings.properties.fontWeight;}if(thisClass.e2xml.settings.properties.fontStyle!=null){thisClass.fontStyle=thisClass.e2xml.settings.properties.fontStyle;}if(thisClass.e2xml.settings.properties.textDecoration!=null){thisClass.textDecoration=thisClass.e2xml.settings.properties.textDecoration;}if(thisClass.e2xml.settings.properties.fontType!=null){thisClass.fontType=thisClass.e2xml.settings.properties.fontType;}if(thisClass.e2xml.settings.properties.isGoogleFontUsed!=null){thisClass.isGoogleFontUsed=thisClass.e2xml.settings.properties.isGoogleFontUsed;}if(thisClass.e2xml.settings.properties.fontSize!=null){thisClass.fontSize=thisClass.e2xml.settings.properties.fontSize;}if(thisClass.e2xml.settings.properties.fontColor!=null){thisClass.fontColor=thisClass.e2xml.settings.properties.fontColor;}if(thisClass.e2xml.settings.properties.borderColor!=null){thisClass.borderColor=thisClass.e2xml.settings.properties.borderColor;}if(thisClass.e2xml.settings.properties.borderWidth!=null){thisClass.borderWidth=thisClass.e2xml.settings.properties.borderWidth;}if(thisClass.e2xml.settings.properties.borderType!=null){thisClass.borderType=thisClass.e2xml.settings.properties.borderType;}if(thisClass.e2xml.settings.properties.colorEnabled!=null){thisClass.colorEnabled=thisClass.e2xml.settings.properties.colorEnabled;}if(thisClass.e2xml.settings.properties.text!=null){thisClass.text=thisClass.e2xml.settings.properties.text;}if(thisClass.e2xml.settings.properties.grayScale!=null){thisClass.grayScale=thisClass.e2xml.settings.properties.grayScale;}if(thisClass.e2xml.settings.properties.rgb!=null){thisClass.rgb=thisClass.e2xml.settings.properties.rgb;}if(thisClass.e2xml.settings.properties.flip!=null){thisClass.flip=thisClass.e2xml.settings.properties.flip;}if(thisClass.e2xml.settings.properties.opacity!=null){thisClass.opacity=thisClass.e2xml.settings.properties.opacity;}if(thisClass.e2xml.settings.properties.shadowType!=null){thisClass.shadowType=thisClass.e2xml.settings.properties.shadowType;}if(thisClass.e2xml.settings.properties.maintainSize!=null){thisClass.maintainSize=thisClass.e2xml.settings.properties.maintainSize;}if(thisClass.e2xml.settings.properties.imageID!=null){thisClass.imageID=thisClass.e2xml.settings.properties.imageID;}if(thisClass.e2xml.settings.properties.originalEsize!=null){thisClass.originalEsize=thisClass.e2xml.settings.properties.originalEsize;}};thisClass.imageDraw=function(cwidth,cheight){if(thisClass.img){var newwidth=cwidth;var newheight=cheight;if(thisClass.maintainSize){var maxWidth=cwidth;var maxHeight=cheight;var srcWidth=thisClass.originalEsize.width;var srcHeight=thisClass.originalEsize.height;var ratioarr=[maxWidth/srcWidth,maxHeight/srcHeight];ratioarr=Math.min(ratioarr[0],ratioarr[1]);newwidth=srcWidth*ratioarr;newheight=srcHeight*ratioarr;}var canv=document.getElementById(thisClass.eid+"_cvs");var ctx=canv.getContext("2d");canv.width=cwidth;canv.height=cheight;MF_ComponentUtils.setComponentShadow(ctx,thisClass.shadowType);ctx.imageSmoothingEnabled=true;ctx.mozImageSmoothingEnabled=true;ctx.msImageSmoothingEnabled=true;if(thisClass.flip){ctx.translate(cwidth,thisClass.delta);ctx.scale(-1,1);}if(thisClass.img!=null){ctx.drawImage(thisClass.img,(cwidth/2)-(newwidth/2),thisClass.delta,newwidth,newheight);if(thisClass.colorEnabled){var rgbArr=thisClass.rgb.split(",");var imgPixels=ctx.getImageData(thisClass.delta,thisClass.delta,cwidth,cheight);for(var y=0;y<imgPixels.height;y++){for(var x=0;x<imgPixels.width;x++){var i=(y*4)*imgPixels.width+x*4;var avg=(imgPixels.data[i]+imgPixels.data[i+1]+imgPixels.data[i+2])/3;imgPixels.data[i]=rgbArr[0];imgPixels.data[i+1]=rgbArr[1];imgPixels.data[i+2]=rgbArr[2];}}ctx.putImageData(imgPixels,thisClass.delta,thisClass.delta,thisClass.delta,thisClass.delta,imgPixels.width,imgPixels.height);}if(thisClass.grayScale){var imgPixels=ctx.getImageData(thisClass.delta,thisClass.delta,cwidth,cheight);for(var y=0;y<imgPixels.height;y++){for(var x=0;x<imgPixels.width;x++){var i=(y*4)*imgPixels.width+x*4;var avg=(imgPixels.data[i]+imgPixels.data[i+1]+imgPixels.data[i+2])/3;imgPixels.data[i]=avg;imgPixels.data[i+1]=avg;imgPixels.data[i+2]=avg;}}ctx.putImageData(imgPixels,thisClass.delta,thisClass.delta,thisClass.delta,thisClass.delta,imgPixels.width,imgPixels.height);}}}};thisClass.placeholderDraw=function(cwidth,cheight){var canv=document.getElementById(thisClass.eid+"_cvs");var ctx_Div=canv.getContext("2d");var thickness=parseInt(thisClass.borderWidth);if(thisClass.borderType=="none"){thickness=0;}if(Math.abs(thickness%2)==1){ctx_Div.translate(0.5,0.5);}if(thisClass.borderType=="dashed"){ctx_Div.setLineDash([thickness*2,4]);}if(thisClass.borderType=="dotted"){ctx_Div.setLineDash([thickness,2]);}ctx_Div.lineWidth=thickness;ctx_Div.strokeStyle=MF_ComponentUtils.hexToRGB(thisClass.borderColor,1);ctx_Div.beginPath();ctx_Div.moveTo(thisClass.delta,thisClass.delta);ctx_Div.lineTo(thisClass.width+thisClass.delta,thisClass.delta);ctx_Div.lineTo(thisClass.width+thisClass.delta,thisClass.height+thisClass.delta);ctx_Div.lineTo(thisClass.delta,thisClass.height+thisClass.delta);ctx_Div.closePath();ctx_Div.moveTo(thisClass.delta,thisClass.delta);ctx_Div.lineTo(thisClass.width+thisClass.delta,thisClass.height+thisClass.delta);ctx_Div.moveTo(thisClass.width+thisClass.delta,thisClass.delta);ctx_Div.lineTo(thisClass.delta,thisClass.height+thisClass.delta);ctx_Div.closePath();if(thisClass.borderType!="none"&&thickness!=0){ctx_Div.stroke();}var txt=thisClass.text.trim();$("#"+thisClass.eid+"_txt").hide();if(txt!=""&&txt!=null){ctx_Div.beginPath();ctx_Div.lineWidth=0;ctx_Div.fillStyle="rgba(255,255,255,1)";var tx=thisClass.borderWidth+2+thisClass.delta;var ty=((thisClass.height+thisClass.delta+thisClass.delta)/2)-(thisClass.fontSize/2);var tw=thisClass.width-thisClass.delta-thickness;var th=thisClass.fontSize;ctx_Div.rect(tx,ty,tw,th);ctx_Div.fill();ctx_Div.closePath();}};this.applyColorNode=function(xdom,qname){try{var els=xdom.querySelectorAll(qname);for(var i=0;i<els.length;i++){els[i].setAttribute("fill","rgb("+thisClass.rgb+")");}}catch(e){}};this.applySvgIconSettings=function(){try{var parser=new DOMParser();xmlDoc=parser.parseFromString(thisClass.svgData,"text/xml");xmlDoc.getElementsByTagName("svg")[0].setAttribute("height","100%");xmlDoc.getElementsByTagName("svg")[0].setAttribute("width","100%");if(thisClass.maintainSize){xmlDoc.getElementsByTagName("svg")[0].removeAttribute("preserveAspectRatio");}else{xmlDoc.getElementsByTagName("svg")[0].setAttribute("preserveAspectRatio","none");}try{if(thisClass.colorEnabled){xmlDoc.getElementsByTagName("svg")[0].setAttribute("fill","rgb("+thisClass.rgb+")");try{thisClass.applyColorNode(xmlDoc,"circle");thisClass.applyColorNode(xmlDoc,"ellipse");thisClass.applyColorNode(xmlDoc,"line");thisClass.applyColorNode(xmlDoc,"path");thisClass.applyColorNode(xmlDoc,"polygon");thisClass.applyColorNode(xmlDoc,"polyline");thisClass.applyColorNode(xmlDoc,"rect");}catch(e){console.log(e);}}}catch(e){}var xmlText=new XMLSerializer().serializeToString(xmlDoc);var svg64=btoa(unescape(encodeURIComponent(xmlText)));var b64Start="data:image/svg+xml;base64,";var image64=b64Start+svg64;$("#"+thisClass.eid+"_img").attr("src",image64);$("#"+thisClass.eid+"_img").show();}catch(e){try{var svg64=btoa(unescape(encodeURIComponent(thisClass.svgData)));var b64Start="data:image/svg+xml;base64,";var image64=b64Start+svg64;$("#"+thisClass.eid+"_img").attr("src",image64);$("#"+thisClass.eid+"_img").show();}catch(e){try{var svg64=btoa(thisClass.svgData);var b64Start="data:image/svg+xml;base64,";var image64=b64Start+svg64;$("#"+thisClass.eid+"_img").attr("src",image64);$("#"+thisClass.eid+"_img").show();}catch(e){thisClass.setImgLoaded(true);}}}if(thisClass.flip){$("#"+thisClass.eid+"_img").css("transform","scaleX(-1)");if(mf_main.RENDER){$("#"+thisClass.eid+"_img").css("-webkit-transform","scaleX(-1)");}}else{$("#"+thisClass.eid+"_img").css("transform","scaleX(1)");if(mf_main.RENDER){$("#"+thisClass.eid+"_img").css("-webkit-transform","scaleX(1)");}}$("#"+thisClass.eid).css("opacity",thisClass.opacity);thisClass.setImgLoaded(true);return;};thisClass.render=function(redraw){if(thisClass.GENONLY){return;}if(!thisClass.RENDER){return;}if(redraw==null){redraw=true;}if(thisClass.originalEsize==null){thisClass.originalEsize=new Object();thisClass.originalEsize.width=100;thisClass.originalEsize.height=100;}MF_ComponentUtils.setDimensions(thisClass,thisClass.ecoordinates,thisClass.esize);thisClass.getValues();var thickness=parseInt(thisClass.borderWidth);if(thisClass.borderType=="none"){thickness=0;}thisClass.delta=(1*thickness)+5;var cwidth=thisClass.width+(thisClass.delta*2);var cheight=thisClass.height+(thisClass.delta*2);var ctop=thisClass.y-thisClass.delta;var cleft=thisClass.x-thisClass.delta;if(thisClass.imageID!=""){thisClass.delta=0;cwidth=thisClass.width;cheight=thisClass.height;ctop=thisClass.y;cleft=thisClass.x;}var imgCode="";if(redraw){$("#"+thisClass.eid).remove();var imgurl="";if(thisClass.colorEnabled||thisClass.grayScale){thisClass.canvasDraw=true;}else{thisClass.canvasDraw=false;}thisClass.isSVG=false;if(thisClass.imageID==""){thisClass.canvasDraw=true;}else{if(thisClass.imageID.indexOf(".svg")!=-1){thisClass.isSVG=true;}}if(thisClass.isSVG==false){thisClass.svgData=null;}var actualurl="https://s3.amazonaws.com/"+MF_Global.getS3Bucket()+"/app/wireframepro/company/"+mf_main.editorController.projectObj.company+"/projects/"+mf_main.editorController.projectObj.id+"/images/"+thisClass.imageID;imgurl="imageproxy.jsp?url="+actualurl;if(thisClass.tempURL){imgurl="imageproxy.jsp?url="+actualurl;}if(mf_main.EXPORTHTML){imgurl=actualurl;}else{imgurl="imageproxy.jsp?url="+actualurl;}if(thisClass.canvasDraw==false&&!thisClass.isSVG){imgurl=actualurl;}if(mf_main.editorController.imageController&&mf_main.editorController.imageController.base64CacheCollection&&mf_main.editorController.imageController.base64CacheCollection.hasOwnProperty(thisClass.imageID)){imgurl=mf_main.editorController.imageController.base64CacheCollection[thisClass.imageID];}if(typeof MFOFFLINEMODE!=="undefined"){if(MFOFFLINEMODE&&thisClass.imageID!=""){imgurl="images/"+thisClass.imageID;thisClass.canvasDraw=false;}}if(thisClass.imageID==""){imgurl="";}var aurl=imgurl;if(thisClass.isSVG){aurl="";}imgCode="<div class='mfWFCompCls'  id=\""+thisClass.eid+'" style="pointer-events: none; -webkit-transform: translateZ(0);   position:absolute; text-align: center;width:'+cwidth.toString()+"px; height:"+cheight.toString()+"px; top:"+ctop.toString()+"px; left:"+cleft.toString()+'px; " > ';if(thisClass.isSVG){imgCode=imgCode+'<img    id="'+thisClass.eid+"_img\" src='"+aurl+"' style='border:0; display: none; outline: none; user-drag: none;  user-select: none; -webkit-user-drag: none; -webkit-user-select: none; position:absolute; opacity: "+thisClass.opacity+"; width: 100%; height: 100%;' />";}else{if(thisClass.maintainSize){if(thisClass.width<thisClass.height){imgCode=imgCode+'<img   id="'+thisClass.eid+"_img\" src='"+aurl+"' style='border:0; user-drag: none;  user-select: none; -webkit-user-drag: none; -webkit-user-select: none; position:absolute; opacity: "+thisClass.opacity+"; width:100%; ' />";}else{imgCode=imgCode+'<img   id="'+thisClass.eid+"_img\" src='"+aurl+"' style='border:0; user-drag: none;  user-select: none; -webkit-user-drag: none; -webkit-user-select: none; position:absolute; opacity: "+thisClass.opacity+"; height:100%;' />";}}else{imgCode=imgCode+'<img    id="'+thisClass.eid+"_img\" src='"+aurl+"' style='border:0; user-drag: none;  user-select: none; -webkit-user-drag: none; -webkit-user-select: none; position:absolute; opacity: "+thisClass.opacity+"; width:"+thisClass.width.toString()+"px; height:"+thisClass.height.toString()+"px;' />";}}imgCode=imgCode+'<canvas id="'+thisClass.eid+'_cvs" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style="display: none; -webkit-transform: translateZ(0);   position:absolute; text-align: center;width:'+cwidth.toString()+"px; height:"+cheight.toString()+'px; position: absolute; top: 0px; left:0px; " > ';imgCode=imgCode+"</canvas>";imgCode=imgCode+'<span id="'+thisClass.eid+'_txt"  style=" display: none; padding-left: 5px; padding-right: 5px;  overflow: hidden; white-space: nowrap; text-align: center; font-weight: bold; -webkit-transform: translateZ(0);  position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+"px; line-height:"+(cheight).toString()+"px;  top:"+(thisClass.delta).toString()+"px; left:"+(thisClass.delta).toString()+'px;  " > ';imgCode=imgCode+"</span>";imgCode=imgCode+"</div>";$("#mfPage"+mf_main.editorController.page.eid).append(imgCode);try{mf_main.editorController.postAddToPage(thisClass.eid);}catch(e){}if(thisClass.isSVG){try{if(typeof MFOFFLINEMODE!=="undefined"){if(MFOFFLINEMODE){if(MFSVGOBJARR[thisClass.imageID]){thisClass.svgData=MFSVGOBJARR[thisClass.imageID];thisClass.applySvgIconSettings();}else{thisClass.setImgLoaded(true);}}else{thisClass.setImgLoaded(true);}}else{$.ajax(imgurl,{type:"GET",dataType:"text",success:function(data){thisClass.svgData=data;thisClass.applySvgIconSettings();},error:function(){thisClass.setImgLoaded(true);return;}});}}catch(e){}}else{$("#"+thisClass.eid+"_img").load(function(){thisClass.setImgLoaded(true);});$("#"+thisClass.eid+"_img").error(function(){thisClass.setImgLoaded(true);});}if(thisClass.canvasDraw&&!thisClass.isSVG){$("#"+thisClass.eid+"_img").hide();$("#"+thisClass.eid+"_cvs").show();$("#"+thisClass.eid+"_txt").show();$("#"+thisClass.eid).css("opacity",thisClass.opacity);if(thisClass.imageID==""){thisClass.placeholderDraw(cwidth,cheight);}else{var newwidth=thisClass.width;var newheight=thisClass.height;if(thisClass.maintainSize){var maxWidth=thisClass.width;var maxHeight=thisClass.height;var srcWidth=thisClass.originalEsize.width;var srcHeight=thisClass.originalEsize.height;var ratioarr=[maxWidth/srcWidth,maxHeight/srcHeight];ratioarr=Math.min(ratioarr[0],ratioarr[1]);newwidth=srcWidth*ratioarr;newheight=srcHeight*ratioarr;}var canv=document.getElementById(thisClass.eid+"_cvs");var ctx=canv.getContext("2d");canv.width=thisClass.width;canv.height=thisClass.height;ctx.imageSmoothingEnabled=true;ctx.mozImageSmoothingEnabled=true;ctx.msImageSmoothingEnabled=true;var img=new Image();img.onload=function(){thisClass.img=img;if(thisClass.tempFile){thisClass.originalWidth=thisClass.img.width;thisClass.originalHeight=thisClass.img.height;cwidth=thisClass.img.width;cheight=thisClass.img.height;}thisClass.img.crossOrigin="Anonymous";thisClass.setImgLoaded(true);thisClass.imageDraw(cwidth,cheight);if(thisClass.tempFile&&thisClass.tempSizeSet==false){thisClass.tempSizeSet=true;var sizeUI=new Object();sizeUI.height=thisClass.img.height;sizeUI.width=thisClass.img.width;thisClass.e2xml.addPropObject("esize",sizeUI,"default");thisClass.render(true);mf_main.editorController.addSelectorResize(thisClass.selector);}};img.onerror=function(){thisClass.setImgLoaded(true);};if(thisClass.tempFile){var reader=new FileReader();reader.onload=function(eventImg){img.src=eventImg.target.result;};reader.readAsDataURL(thisClass.tempFile);}else{if(mf_main.EXPORTHTML){$.get(imgurl,function(data){img.src=data;});}else{img.src=imgurl;}}}}else{$("#"+thisClass.eid+"_img").css("left",thisClass.delta);$("#"+thisClass.eid+"_img").css("top",thisClass.delta);$("#"+thisClass.eid).css("opacity",thisClass.opacity);if(thisClass.imageID!=""){$("#"+thisClass.eid+"_img").css("border-radius",thisClass.borderRadius);}$("#"+thisClass.eid+"_cvs").hide();$("#"+thisClass.eid+"_txt").hide();}}else{if(thisClass.canvasDraw&&!thisClass.isSVG){$("#"+thisClass.eid).css("left",cleft);$("#"+thisClass.eid).css("top",ctop);$("#"+thisClass.eid).css("width",cwidth);$("#"+thisClass.eid).css("height",cheight);$("#"+thisClass.eid).css("opacity",thisClass.opacity);var canv=document.getElementById(thisClass.eid+"_cvs");var ctx=canv.getContext("2d");if(ctx){ctx.clearRect(0,0,$("#"+thisClass.eid+"_cvs").width(),$("#"+thisClass.eid+"_cvs").height());}document.getElementById(thisClass.eid+"_cvs").width=$("#"+thisClass.eid+"_cvs").width();$("#"+thisClass.eid+"_cvs").css("width",cwidth);$("#"+thisClass.eid+"_cvs").css("height",cheight);document.getElementById(thisClass.eid+"_cvs").width=cwidth;document.getElementById(thisClass.eid+"_cvs").height=cheight;$("#"+thisClass.eid).css("width",cwidth);$("#"+thisClass.eid).css("height",cheight);$("#"+thisClass.eid+"_cvs").css("opacity",thisClass.opacity);if(thisClass.imageID==""){thisClass.placeholderDraw(cwidth,cheight);}else{thisClass.imageDraw(cwidth,cheight);}}else{if(thisClass.isSVG){$("#"+thisClass.eid).css("left",cleft);$("#"+thisClass.eid).css("top",ctop);$("#"+thisClass.eid).css("width",cwidth);$("#"+thisClass.eid).css("height",cheight);$("#"+thisClass.eid).css("opacity",thisClass.opacity);}else{$("#"+thisClass.eid).css("left",cleft);$("#"+thisClass.eid).css("top",ctop);$("#"+thisClass.eid).css("width",cwidth);$("#"+thisClass.eid).css("height",cheight);$("#"+thisClass.eid).css("opacity",thisClass.opacity);$("#"+thisClass.eid+"_img").css("height","auto");$("#"+thisClass.eid+"_img").css("width","auto");if(thisClass.maintainSize){if(thisClass.width<thisClass.height){$("#"+thisClass.eid+"_img").css("width",thisClass.width.toString()+"px");}else{$("#"+thisClass.eid+"_img").css("height",thisClass.height.toString()+"px");}}else{$("#"+thisClass.eid+"_img").css("width",thisClass.width.toString()+"px");$("#"+thisClass.eid+"_img").css("height",thisClass.height.toString()+"px");}}}}if(thisClass.isSVG){if(!redraw){thisClass.applySvgIconSettings();}}else{if(!thisClass.canvasDraw){$("#"+thisClass.eid+"_img").css("left",thisClass.delta);$("#"+thisClass.eid+"_img").css("top",thisClass.delta);$("#"+thisClass.eid).css("opacity",thisClass.opacity);if(thisClass.imageID!=""){$("#"+thisClass.eid+"_img").css("border-radius",thisClass.borderRadius);}if(thisClass.maintainSize){var maxWidth=thisClass.width;var maxHeight=thisClass.height;var srcWidth=thisClass.originalEsize.width;var srcHeight=thisClass.originalEsize.height;var ratioarr=[maxWidth/srcWidth,maxHeight/srcHeight];ratioarr=Math.min(ratioarr[0],ratioarr[1]);$("#"+thisClass.eid+"_img").css("width",srcWidth*ratioarr);$("#"+thisClass.eid+"_img").css("height",srcHeight*ratioarr);$("#"+thisClass.eid+"_img").css("left",thisClass.width/2-(srcWidth*ratioarr)/2);}if(thisClass.flip){$("#"+thisClass.eid+"_img").css("transform","scaleX(-1)");if(mf_main.RENDER){$("#"+thisClass.eid+"_img").css("-webkit-transform","scaleX(-1)");}}else{$("#"+thisClass.eid+"_img").css("transform","scaleX(1)");if(mf_main.RENDER){$("#"+thisClass.eid+"_img").css("-webkit-transform","scaleX(1)");}}}else{if(thisClass.imageID!=""){$("#"+thisClass.eid+"_cvs").css("border-radius",thisClass.borderRadius);}}}var txt=thisClass.text.trim();if(txt!=""&&txt!=null){var tx=thisClass.borderWidth+2+thisClass.delta;var ty=((thisClass.height+thisClass.delta+thisClass.delta)/2)-(thisClass.fontSize/2);var tw=thisClass.width-thisClass.delta-thickness;var th=thisClass.fontSize;$("#"+thisClass.eid+"_txt").css("left",tx);$("#"+thisClass.eid+"_txt").css("top",ty);$("#"+thisClass.eid+"_txt").css("width",tw);$("#"+thisClass.eid+"_txt").css("height",th);$("#"+thisClass.eid+"_txt").css("line-height","100%");var fontFamily=mf_main.editorController.fontController.getFontByIDComponent(thisClass.fontType,thisClass);var htext=$("#"+thisClass.eid+"_txt").html(thisClass.text).text();htext=MF_ComponentUtils.getRefactoredText(htext);$("#"+thisClass.eid+"_txt").show();$("#"+thisClass.eid+"_txt").html(htext);$("#"+thisClass.eid+"_txt").css("font-family",fontFamily);$("#"+thisClass.eid+"_txt").css("font-weight",thisClass.fontWeight);$("#"+thisClass.eid+"_txt").css("font-style",thisClass.fontStyle);$("#"+thisClass.eid+"_txt").css("text-decoration",thisClass.textDecoration);$("#"+thisClass.eid+"_txt").css("font-size",thisClass.fontSize.toString()+"px");$("#"+thisClass.eid+"_txt").css("color",thisClass.fontColor);}MF_ComponentUtils.setComponentShadowImageCSS(thisClass.eid,thisClass.shadowType);MF_Utils.rotate(thisClass.eid,thisClass.eangle);if(thisClass.selector){thisClass.selector.transform(thisClass);}};}function MF_ImageCompSettings(){var thisClass=this;thisClass.eid=mf_main.editorController.guidGenerator();thisClass.transformLock=false;thisClass.component=null;thisClass.selector=null;thisClass.RENDERDOM=true;thisClass.showSetting=true;thisClass.transformSettings=null;thisClass.linkSettings=null;thisClass.shadowSettings=null;thisClass.borderSettings=null;thisClass.fontSettings=null;thisClass.borderRadiusBox=null;thisClass.remove=function(delSet){$("#"+thisClass.eid).hide();if(delSet){try{if(mf_main.MEMFREE){if($("#mfBorderRadius_"+thisClass.eid).data("kendoNumericTextBox")){$("#mfBorderRadius_"+thisClass.eid).data("kendoNumericTextBox").destroy();}if($("#mfFillOpacity"+thisClass.eid).data("kendoSlider")){$("#mfFillOpacity"+thisClass.eid).data("kendoSlider").destroy();}thisClass.transformSettings.remove();thisClass.linkSettings.remove();thisClass.shadowSettings.remove();thisClass.fontSettings.remove();thisClass.borderSettings.remove();}}catch(e){console.log("error occured in the component MF_ImageComp.js");}$("#"+thisClass.eid).remove();}};thisClass.setValues=function(){if(thisClass.RENDERDOM){thisClass.render();thisClass.transformSettings=new MF_TransformSettings();thisClass.transformSettings.init(thisClass);thisClass.linkSettings=new MF_LinkSettings();thisClass.linkSettings.init(thisClass);thisClass.shadowSettings=new MF_ShadowSettings();thisClass.shadowSettings.init(thisClass);thisClass.fontSettings=new MF_FontSettings2();thisClass.fontSettings.showAlign=false;thisClass.fontSettings.init(thisClass);thisClass.borderSettings=new MF_BorderSettings2();thisClass.borderSettings.init(thisClass);}else{thisClass.transformSettings.init(thisClass);thisClass.linkSettings.init(thisClass);thisClass.shadowSettings.init(thisClass);thisClass.fontSettings.init(thisClass);thisClass.borderSettings.init(thisClass);thisClass.setupEvents();$("#"+thisClass.eid).show();}$("#mfBorderRadiusWrapper_"+thisClass.eid).show();$("#mfBorderRadiusLbl_"+thisClass.eid).show();$("#mfGrayScaleWrapper_"+thisClass.eid).show();$("#mfGrayScaleLbl_"+thisClass.eid).show();$("#mfEditTextWrapper_"+thisClass.eid).show();$("#mfRevert"+thisClass.eid).show();$("#mfEditImage_"+thisClass.eid).show();$(".mfImgPropCls"+thisClass.eid).show();$("#"+thisClass.eid+"_border").show();$("#"+thisClass.eid+"_font").show();if(thisClass.component.imageID==""){thisClass.forUnImageUI();}else{if(thisClass.component.isSVG){thisClass.forSVGUI();}else{thisClass.forImageUI();}}};thisClass.forSVGUI=function(){thisClass.forImageUI();$("#mfBorderRadiusWrapper_"+thisClass.eid).hide();$("#mfBorderRadiusLbl_"+thisClass.eid).hide();$("#mfGrayScaleWrapper_"+thisClass.eid).hide();$("#mfGrayScaleLbl_"+thisClass.eid).hide();$("#mfEditTextWrapper_"+thisClass.eid).hide();$("#mfRevert"+thisClass.eid).hide();$("#mfEditImage_"+thisClass.eid).hide();$("#mfOpacityWrapper_"+thisClass.eid).css("top","105px");$("#mfOpacityLbl_"+thisClass.eid).css("top","80px");$("#mfToggleImage_"+thisClass.eid).css("top","190px");$("#"+thisClass.eid+"_partSetting").height(300);$("#"+thisClass.eid+"").height(1150);};thisClass.forImageUI=function(){$(".mfImgPropCls"+thisClass.eid).show();$("#mfEditTextWrapper_"+thisClass.eid).css("top","240px");$("#mfToggleImage_"+thisClass.eid).css("top","290px");$("#mfEditTextWrapper_"+thisClass.eid).show();$("#"+thisClass.eid+"_border").hide();$("#"+thisClass.eid+"_font").hide();$("#mfOpacityWrapper_"+thisClass.eid).css("top","175px");$("#mfOpacityLbl_"+thisClass.eid).css("top","150px");$("#mfOpacityLbl_"+thisClass.eid).css("left","150px");$("#mfOpacityWrapper_"+thisClass.eid).css("left","150px");$("#"+thisClass.eid+"_partSetting").height(450);$("#"+thisClass.eid+"").height(1150);};thisClass.forUnImageUI=function(){$(".mfImgPropCls"+thisClass.eid).hide();$("#"+thisClass.eid+"_border").show();$("#"+thisClass.eid+"_font").show();$("#mfEditTextWrapper_"+thisClass.eid).show();$("#mfEditTextWrapper_"+thisClass.eid).css("top","40px");$("#mfToggleImage_"+thisClass.eid).css("top","90px");$("#mfOpacityWrapper_"+thisClass.eid).css("top","175px");$("#mfOpacityLbl_"+thisClass.eid).css("top","150px");$("#mfOpacityLbl_"+thisClass.eid).css("left","10px");$("#mfOpacityWrapper_"+thisClass.eid).css("left","10px");$("#"+thisClass.eid+"_partSetting").height(220);$("#"+thisClass.eid+"").height(1350);};thisClass.updateTransform=function(noscale){thisClass.transformSettings.updateTransform(noscale);};thisClass.setupEvents=function(){if(thisClass.RENDERDOM){MF_ComponentSettingUtils.setupToggle(thisClass);$("#mfBorderRadius_"+thisClass.eid).focusin(function(){mf_main.editorController.disableShortcuts();});$("#mfBorderRadius_"+thisClass.eid).focusout(function(){mf_main.editorController.enableShortcuts();});$("#mfBorderRadius_"+thisClass.eid).kendoNumericTextBox({format:"#",spinners:true,spin:onRadiusChange,decimals:0});$("#mfBorderRadius_"+thisClass.eid).focus(function(){$("#mfBorderRadius_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onRadiusChange);$("#mfBorderRadius_"+thisClass.eid).data("kendoNumericTextBox").bind("change",onRadiusChange);});$("#mfFillOpacity"+thisClass.eid).kendoSlider({showButtons:false,change:alphaSliderOnSlide,tickPlacement:"none",min:0,max:1,smallStep:0.1,largeStep:0.1,tooltip:{enabled:false}}).data("kendoSlider");$("#aspectToggleBtn_"+thisClass.eid).click(toggleSelectionAspect);$("#flipToggleBtn_"+thisClass.eid).click(toggleSelectionFlip);$("#colorToggleBtn_"+thisClass.eid).click(toggleSelectionColor);$("#grayToggleBtn_"+thisClass.eid).click(toggleSelectionGrayscale);$("#mfRevert"+thisClass.eid).click(function(){var szObject=new Object();szObject.width=thisClass.component.originalEsize.width;szObject.height=thisClass.component.originalEsize.height;thisClass.component.e2xml.addPropObject("esize",szObject);thisClass.component.render(true);mf_main.editorController.reStackComponents();mf_main.editorController.addSelectorResize(thisClass.component.selector);thisClass.updateTransform(true);});$("#mfEditImage_"+thisClass.eid).click(function(){mf_main.editorController.imageController.openImageEditor(thisClass.component.imageID,thisClass.component);});$("#mfToggleImage_"+thisClass.eid).click(function(){if(thisClass.component.imageID==""){$("#mfToggleImage_"+thisClass.eid).text("Clear or Change  Image");mf_main.editorController.openNavBarContent("mfNavImagesBtn");mf_main.editorController.imageController.component=thisClass.component;thisClass.forImageUI();}else{$("#mfToggleImage_"+thisClass.eid).text("Pick Image");thisClass.component.isSVG=false;thisClass.component.e2xml.addPropSingle("imageID","","default");thisClass.component.render(true);mf_main.editorController.reStackComponents();MF_ChangeManager.CHANGED(true);thisClass.forUnImageUI();}});$("#mfImgColor_"+thisClass.eid).spectrum({showInput:true,preferredFormat:"hex6",showPalette:true,showSelectionPalette:true,palette:[MF_ComponentUtils.commonPallete()],show:function(color){mf_main.editorController.shortcutsFlag=false;},hide:function(color){mf_main.editorController.shortcutsFlag=true;},change:function(color){var rgbStr=color.toRgbString();var digits=/(.*?)rgb\((\d+), (\d+), (\d+)\)/.exec(rgbStr);var red=parseInt(digits[2]);var green=parseInt(digits[3]);var blue=parseInt(digits[4]);thisClass.component.e2xml.addPropSingle("rgb",red+","+green+","+blue);thisClass.component.render(true);mf_main.editorController.reStackComponents();}});$("#mfEditTextWrapper_"+thisClass.eid).click(showImageTextEdit);}if(thisClass.RENDERDOM==true){thisClass.RENDERDOM=false;}var aslider=$("#mfFillOpacity"+thisClass.eid).data("kendoSlider");aslider.value(thisClass.component.opacity);function onRadiusChange(){$("#mfBorderRadius_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onRadiusChange);$("#mfclipboard").focus();if(this.value()==""||this.value()==null){if(this.value()!=0&&this.value()!="0"){return;}}var r=this.value();thisClass.component.e2xml.addPropSingle("borderRadius",r);thisClass.component.render(false);}thisClass.borderRadiusBox=$("#mfBorderRadius_"+thisClass.eid).data("kendoNumericTextBox");thisClass.borderRadiusBox.value(thisClass.component.borderRadius);function alphaSliderOnSlide(e){thisClass.component.e2xml.addPropSingle("opacity",e.value);thisClass.component.render(true);mf_main.editorController.reStackComponents();}$("#aspectToggleBtn_"+thisClass.eid).attr("checked",thisClass.component.maintainSize);function toggleSelectionAspect(e){var $this=$(this);if($this.is(":checked")){thisClass.component.e2xml.addPropSingle("maintainSize",true);}else{thisClass.component.e2xml.addPropSingle("maintainSize",false);}thisClass.component.render(true);mf_main.editorController.reStackComponents();}$("#flipToggleBtn_"+thisClass.eid).attr("checked",thisClass.component.flip);function toggleSelectionFlip(e){var $this=$(this);if($this.is(":checked")){thisClass.component.e2xml.addPropSingle("flip",true);}else{thisClass.component.e2xml.addPropSingle("flip",false);}thisClass.component.render(true);mf_main.editorController.reStackComponents();}$("#colorToggleBtn_"+thisClass.eid).attr("checked",thisClass.component.colorEnabled);function toggleSelectionColor(e){var $this=$(this);if($this.is(":checked")){thisClass.component.e2xml.addPropSingle("colorEnabled",true);$("#mfImgColorDiv_"+thisClass.eid).show();}else{thisClass.component.e2xml.addPropSingle("colorEnabled",false);$("#mfImgColorDiv_"+thisClass.eid).hide();}thisClass.component.render(true);mf_main.editorController.reStackComponents();}$("#grayToggleBtn_"+thisClass.eid).attr("checked",thisClass.component.grayScale);function toggleSelectionGrayscale(e){var $this=$(this);if($this.is(":checked")){thisClass.component.e2xml.addPropSingle("grayScale",true);}else{thisClass.component.e2xml.addPropSingle("grayScale",false);}thisClass.component.render(true);mf_main.editorController.reStackComponents();}if(thisClass.component.imageID==""){$("#mfToggleImage_"+thisClass.eid).text("Pick Image");}else{$("#mfToggleImage_"+thisClass.eid).text("Clear or Change Image");}var rgbArr=thisClass.component.rgb.split(",");$("#mfImgColor_"+thisClass.eid).spectrum("set","#"+MF_Utils.toHex(rgbArr[0])+MF_Utils.toHex(rgbArr[1])+MF_Utils.toHex(rgbArr[2]));if(thisClass.component.colorEnabled){$("#mfImgColorDiv_"+thisClass.eid).show();}else{$("#mfImgColorDiv_"+thisClass.eid).hide();}function showImageTextEdit(e){if(mf_main.editorController.EDITOR){if(mf_main.editorController.lastSetting&&mf_main.editorController.lastSetting.component&&mf_main.editorController.lastSetting.component.EDITABLE){mf_main.editorController.lastTextEditComp=mf_main.editorController.lastSetting.component;mf_main.editorController.startEditingText();}}}};thisClass.render=function(redraw){if(redraw==null){redraw=true;}var htmlCode="";if(redraw){$("#"+thisClass.eid).remove();htmlCode=multiline(function(){
/*!
				
					
					<div class="mfComponentSetting" id="{{eid}}" style=" position: relative; display: none; width:250px; height: 1350px; overflow: hidden; " >
					<div  style="overflow: hidden;  width:100%; height: 100%;" >
					
						<div class="mfSettingsTextEditMsg" >
							Double-Click on Comp / Click Here to edit text
						</div>
						
						<div id="{{eid}}_transform"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						
						<div id="{{eid}}_link"  style="overflow: hidden; width:100%; " >
							 
						</div>
						
						<div id="{{eid}}_imagesettings"  style="overflow: hidden; width:100%; " >
							
								<div id="{{eid}}_settingToggle"  class="mfImgLink mfSettingsToggleBtn" style=" " >
				
										<div style="float: left; width: 185px; padding-left: 5px;">Image</div>
										
										<div style="float: left; width: 50px; text-align: right;">
											<span id="{{eid}}_settingToggleHide"  style="display: none; font-size: 20px;" class="ico-angle-right"></span>
											<span id="{{eid}}_settingToggleShow"  style="font-size: 20px;" class="ico-angle-down"></span>
										</div>
								</div>
											
								<div id="{{eid}}_partSetting" style="overflow: hidden; position: relative; width:100%; height: 450px;" >		
					
									<div class='mfImgPropCls{{eid}}' >
										<div  style="position: absolute; left: 10px; top: 10px;">Maintain Size Ratio:</div>

										
										 <div class="checkbox" style="position: absolute; top: 25px; left: 30px;">
									    	<input  type="checkbox" checked=true id="aspectToggleBtn_{{eid}}" class="tgl tgl-ios" value="">
									    	<label class='tgl-btn' for='aspectToggleBtn_{{eid}}'></label>
									  	</div>
										
										<div style="position: absolute; left: 140px; top: 10px;">Flip:</div>

										<div class="checkbox" style="position: absolute; top: 25px; left: 160px;">
									    	<input  type="checkbox" checked=true id="flipToggleBtn_{{eid}}" class="tgl tgl-ios" value="">
									    	<label class='tgl-btn' for='flipToggleBtn_{{eid}}'></label>
									  	</div>
									  	
									
										<div style="position: absolute; left: 10px; top: 80px;">Enable Color:</div>

										<div class="checkbox" style="position: absolute; top: 95px; left: 30px;">
									    	<input  type="checkbox" checked=true id="colorToggleBtn_{{eid}}" class="tgl tgl-ios" value="">
									    	<label class='tgl-btn' for='colorToggleBtn_{{eid}}'></label>
									  	</div>
									  	
									
									   	<div  id='mfImgColorDiv_{{eid}}' style='position: absolute; left: 70px; top: 105px;' ><input  id='mfImgColor_{{eid}}' style='width: 100px;' type='text'  /></div>

										<div id="mfGrayScaleLbl_{{eid}}"  style="position: absolute; left: 10px; top: 150px;">GrayScale:</div>

										<div  id="mfGrayScaleWrapper_{{eid}}" class="checkbox" style="position: absolute; top: 165px; left: 30px;">
									    	<input  type="checkbox" checked=true id="grayToggleBtn_{{eid}}" class="tgl tgl-ios" value="">
									    	<label class='tgl-btn' for='grayToggleBtn_{{eid}}'></label>
									  	</div>
									  	
										
										
										<div id="mfBorderRadiusLbl_{{eid}}" style="position: absolute; left: 150px; top: 80px;">Corner Radius:</div>
										<div id="mfBorderRadiusWrapper_{{eid}}"  style="position: absolute; left: 150px; top: 105px;"><input style="width: 70px;" id="mfBorderRadius_{{eid}}" type="number" value="0" min="0" max="10000000" step="1" /></div>
									</div>
			
			
										<div  id="mfOpacityLbl_{{eid}}" style="position: absolute; left: 150px; top: 150px;">Opacity:</div>
											<div  id="mfOpacityWrapper_{{eid}}" style="position: absolute; height: 25px; font-size: 11px;  width: 100px; left: 150px; top: 175px;">
											<input id="mfFillOpacity{{eid}}" style="width: 70px;" class="balSlider" value="0" />
											
										</div>
								
										 
										<a id="mfEditTextWrapper_{{eid}}"  style="position: absolute; left: 10px; top: 240px; width: 220px; background: #fff; border: 1px solid #ccc; color: #888; line-height: 25px;"  class="btn"  >Edit Image Text</a>
									
										<a style="position: absolute; left: 10px; top: 290px; width: 220px;" class="btn" id="mfToggleImage_{{eid}}" ></a>

										<a style="position: absolute; left: 10px; top: 340px; width: 220px;" class="btn" id="mfRevert{{eid}}" >Revert to Original Size</a>
								
										<a style="position: absolute; left: 10px; top: 390px; width: 220px;" class="btn btn-primary" id="mfEditImage_{{eid}}" >Edit or Crop Image</a>

								</div>
						</div>
						
						<div id="{{eid}}_border"  style="overflow: hidden; width:100%; " >
							
						</div>
						
							<div id="{{eid}}_font"  style="overflow: hidden; width:100%; " >
							
						</div>
						
						
							<div id="{{eid}}_shadow"  style="overflow: hidden; width:100%; " >
							
						</div>
					
					
					
					</div></div>
					
				
				*/
console.log;});var compiled_template=Handlebars.compile(htmlCode);var context={eid:thisClass.eid};var compiled_code=compiled_template(context);$("#mfComponentSettings").append(compiled_code);thisClass.setupEvents();$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);}};}function MF_ArrowPath(){var thisClass=this;thisClass.NAME="MF_ArrowPath";thisClass.LABEL="ArrowPath";thisClass.GENONLY=false;thisClass.TRANSFORM=true;thisClass.VRESIZE=false;thisClass.HRESIZE=false;thisClass.USEFONT=false;thisClass.ANNOTATION=true;thisClass.MULTILINE=false;thisClass.EDITABLE=false;thisClass.AUTOSIZE=false;thisClass.HIDE=true;thisClass.USEPAGE=true;thisClass.RENDER_ON_MOVE=false;thisClass.RENDER_ON_RESIZE=true;thisClass.RENDER=true;thisClass.ALLOW_MULTILINK=false;thisClass.x=0;thisClass.y=0;thisClass.width=200;thisClass.height=200;thisClass.eangle=0;thisClass.eid="";thisClass.lid="";thisClass.transformLock=false;thisClass.e2xml=new MF_ComponentXML(this);thisClass.selector=null;thisClass.ecoordinates=null;thisClass.esize=null;thisClass.prevEcoordinates=null;thisClass.prevEsize=null;thisClass.GROUPID="";thisClass.delta=0;thisClass.linkType="";thisClass.link="";thisClass.linkObj=null;thisClass.templateID="";thisClass.startX=0;thisClass.startY=0;thisClass.endX=0;thisClass.endY=0;thisClass.startType="bottomLeft";thisClass.arrowColor="#ff0000";thisClass.arrowThickness=2;thisClass.shadowType="none";thisClass.selectedDragId=null;thisClass.mouseX=0;thisClass.mouseY=0;thisClass.connectorMaxXpos=0;thisClass.connectorMaxYpos=0;thisClass.connectorMinXpos=0;thisClass.connectorMinYpos=0;thisClass.arrowStyle="solid";thisClass.arrowHeadStart="noArrowLeft";thisClass.arrowHeadEnd="singleHeadRight";thisClass.wayPoints=new Array();thisClass.dragPoints=new Array();thisClass.dragReference=new Object();thisClass.isComponentMoved=false;thisClass.undoFlag=false;thisClass.arrowHeadStartData={noArrowLeft:{arrowType:"noArrowLeft",arrowSide:"left",arrowHeadElement:"",markerStart:"",markerEnd:"",isOutline:false,isFillTransparent:false},singleHeadLeft:{arrowType:"singleHeadLeft",arrowSide:"left",arrowHeadElement:'<polygon points="7.45 6.46 0.52 3.37 7.46 0.32 7.46 3.47 7.45 6.46" fill="#7A7A7A" />',markerStart:"",markerEnd:"",isOutline:false,isFillTransparent:false},singleHeadOutlineLeft:{arrowType:"singleHeadOutlineLeft",arrowSide:"left",arrowHeadElement:'<polygon points="7.45 6.46 0.52 3.37 7.46 0.32 7.46 3.47 7.45 6.46" stroke="#7A7A7A" fill="#fff" />',markerStart:"",markerEnd:"",isOutline:true,isFillTransparent:false},singleHeadInvertedLeft:{arrowType:"singleHeadInvertedLeft",arrowSide:"left",arrowHeadElement:'<path d="M6.92,6.23.53,3.5,7,.56A4.06,4.06,0,0,0,5.74,3.41,4.12,4.12,0,0,0,6.92,6.23Z" fill="#7A7A7A" />',markerStart:"",markerEnd:"",isOutline:false,isFillTransparent:false},singleHeadInvertedOutlineLeft:{arrowType:"singleHeadInvertedOutlineLeft",arrowSide:"left",arrowHeadElement:'<path d="M6.92,6.23.53,3.5,7,.56A4.06,4.06,0,0,0,5.74,3.41,4.12,4.12,0,0,0,6.92,6.23Z" stroke="#7A7A7A" fill="#fff" />',markerStart:"",markerEnd:"",isOutline:true,isFillTransparent:false},singleLineHeadLeft:{arrowType:"singleLineHeadLeft",arrowSide:"left",arrowHeadElement:'<polyline points="7.45 6.33 0.52 3.24 7.46 0.19" stroke="#7A7A7A" fill="transparent"/>',markerStart:"",markerEnd:"",isOutline:false,isFillTransparent:true},doubleLineHeadLeft:{arrowType:"doubleLineHeadLeft",arrowSide:"left",arrowHeadElement:'<path d="M4.2,6.62.32,3.5,4.2.16" stroke="#7A7A7A" fill="transparent" /><path d="M6,6.62,2.13,3.49,6,.16" stroke="#7A7A7A" fill="transparent" />',markerStart:"",markerEnd:"",isOutline:false,isFillTransparent:true},squareLeft:{arrowType:"squareLeft",arrowSide:"left",arrowHeadElement:'<rect x="0.23" y="0.23" width="6.28" height="6.28" fill="#7A7A7A" />',markerStart:"",markerEnd:"",isOutline:false,isFillTransparent:false},squareOutlineLeft:{arrowType:"squareOutlineLeft",arrowSide:"left",arrowHeadElement:'<rect x="0.23" y="0.23" width="6.28" height="6.28" stroke="#7A7A7A" fill="#fff" />',markerStart:"",markerEnd:"",isOutline:true,isFillTransparent:false},circleLeft:{arrowType:"circleLeft",arrowSide:"left",arrowHeadElement:'<circle cx="3.6" cy="3.6" r="3" fill="#7A7A7A" />',markerStart:"",markerEnd:"",isOutline:false,isFillTransparent:false},circleOutlineLeft:{arrowType:"circleOutlineLeft",arrowSide:"left",arrowHeadElement:'<circle class="cls-1" cx="3.6" cy="3.6" r="3" stroke="#7A7A7A" fill="#fff" />',markerStart:"",markerEnd:"",isOutline:true,isFillTransparent:false},};thisClass.arrowHeadEndData={noArrowRight:{arrowType:"noArrowRight",arrowSide:"right",arrowHeadElement:"",markerStart:"",markerEnd:"",isOutline:false,isFillTransparent:false},singleHeadRight:{arrowType:"singleHeadRight",arrowSide:"right",arrowHeadElement:'<polygon points="0.21 3.47 0.21 0.32 7.16 3.37 0.23 6.46 0.21 3.47" fill="#7A7A7A" />',markerStart:"",markerEnd:"",isOutline:false,isFillTransparent:false},singleHeadOutlineRight:{arrowType:"singleHeadOutlineRight",arrowSide:"right",arrowHeadElement:'<polygon points="0.21 3.47 0.21 0.32 7.16 3.37 0.23 6.46 0.21 3.47" stroke="#7A7A7A" fill="#fff" />',markerStart:"",markerEnd:"",isOutline:true,isFillTransparent:false},singleHeadInvertedRight:{arrowType:"singleHeadInvertedRight",arrowSide:"right",arrowHeadElement:'<path d="M.77.58,7.14,3.5.77,6.24A4.07,4.07,0,0,0,1.93,3.41,4,4,0,0,0,.77.58Z" fill="#7A7A7A" />',markerStart:"",markerEnd:"",isOutline:false,isFillTransparent:false},singleHeadInvertedOutlineRight:{arrowType:"singleHeadInvertedOutlineRight",arrowSide:"right",arrowHeadElement:'<path d="M.77.58,7.14,3.5.77,6.24A4.07,4.07,0,0,0,1.93,3.41,4,4,0,0,0,.77.58Z" stroke="#7A7A7A" fill="#fff" />',markerStart:"",markerEnd:"",isOutline:true,isFillTransparent:false},singleLineHeadRight:{arrowType:"singleLineHeadRight",arrowSide:"right",arrowHeadElement:'<path d="M.13.25,7.19,3.52l-7.06,3" stroke="#7A7A7A" fill="transparent" />',markerStart:"",markerEnd:"",isOutline:false,isFillTransparent:true},doubleLineHeadRight:{arrowType:"doubleLineHeadRight",arrowSide:"right",arrowHeadElement:'<path d="M3.47.17,7.35,3.5,3.47,6.62" stroke="#7A7A7A" fill="transparent" /><path d="M1.73.17,5.54,3.5,1.73,6.62" stroke="#7A7A7A" fill="transparent" />',markerStart:"",markerEnd:"",isOutline:false,isFillTransparent:true},squareRight:{arrowType:"squareRight",arrowSide:"right",arrowHeadElement:'<rect x="0.23" y="0.23" width="6.28" height="6.28" fill="#7A7A7A" />',markerStart:"",markerEnd:"",isOutline:false,isFillTransparent:false},squareOutlineRight:{arrowType:"squareOutlineRight",arrowSide:"right",arrowHeadElement:'<rect x="0.23" y="0.23" width="6.28" height="6.28" stroke="#7A7A7A" fill="#fff" />',markerStart:"",markerEnd:"",isOutline:true,isFillTransparent:false},circleRight:{arrowType:"circleRight",arrowSide:"right",arrowHeadElement:'<circle cx="3.6" cy="3.6" r="3" fill="#7A7A7A" />',markerStart:"",markerEnd:"",isOutline:false,isFillTransparent:false},circleOutlineRight:{arrowType:"circleOutlineRight",arrowSide:"right",arrowHeadElement:'<circle cx="3.6" cy="3.6" r="3" stroke="#7A7A7A" fill="#fff" />',markerStart:"",markerEnd:"",isOutline:true,isFillTransparent:false}};thisClass.setVisible=function(val){thisClass.visible=val;if(val){$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).hide();}};thisClass.getVisible=function(){return thisClass.visible;};thisClass.transformSelector=function(){thisClass.selector.transform(thisClass);};thisClass.computePoints=function(){var obj=MF_Utils.computePoints(thisClass.startType,thisClass.x+thisClass.delta,thisClass.y+thisClass.delta,thisClass.width-(thisClass.delta*2),thisClass.height-(thisClass.delta*2));thisClass.startX=obj.startx;thisClass.startY=obj.starty;thisClass.endX=obj.endx;thisClass.endY=obj.endy;};thisClass.exml=function(){return thisClass.e2xml.formXML();};thisClass.setDefaultSettings=function(){thisClass.e2xml.addPropSingle("shadowType",thisClass.shadowType,"default");thisClass.e2xml.addPropSingle("arrowColor",thisClass.arrowColor,"default");thisClass.e2xml.addPropSingle("arrowThickness",thisClass.arrowThickness,"default");thisClass.e2xml.addPropSingle("arrowHeadStart",thisClass.arrowHeadStart,"default");thisClass.e2xml.addPropSingle("arrowHeadEnd",thisClass.arrowHeadEnd,"default");thisClass.e2xml.addPropSingle("arrowStyle",thisClass.arrowStyle,"default");thisClass.e2xml.addPropSingle("wayPoints",JSON.stringify(thisClass.wayPoints),"default");thisClass.e2xml.addPropSingle("connectorMinXpos",thisClass.connectorMinXpos,"default");thisClass.e2xml.addPropSingle("connectorMinYpos",thisClass.connectorMinYpos,"default");thisClass.e2xml.addPropSingle("connectorMaxXpos",thisClass.connectorMaxXpos,"default");thisClass.e2xml.addPropSingle("connectorMaxYpos",thisClass.connectorMaxYpos,"default");};thisClass.getValues=function(){if(thisClass.e2xml.settings.properties.shadowType!=null){thisClass.shadowType=thisClass.e2xml.settings.properties.shadowType;}if(thisClass.e2xml.settings.properties.arrowColor!=null){thisClass.arrowColor=thisClass.e2xml.settings.properties.arrowColor;}if(thisClass.e2xml.settings.properties.arrowThickness!=null){thisClass.arrowThickness=thisClass.e2xml.settings.properties.arrowThickness;}if(thisClass.e2xml.settings.properties.arrowHeadStart!=null){thisClass.arrowHeadStart=thisClass.e2xml.settings.properties.arrowHeadStart;}if(thisClass.e2xml.settings.properties.arrowHeadEnd!=null){thisClass.arrowHeadEnd=thisClass.e2xml.settings.properties.arrowHeadEnd;}if(thisClass.e2xml.settings.properties.arrowStyle!=null){thisClass.arrowStyle=thisClass.e2xml.settings.properties.arrowStyle;}if(thisClass.e2xml.settings.properties.wayPoints!=null){thisClass.wayPoints=JSON.parse(thisClass.e2xml.settings.properties.wayPoints);}if(thisClass.e2xml.settings.properties.connectorMinXpos!=null){thisClass.connectorMinXpos=thisClass.e2xml.settings.properties.connectorMinXpos;}if(thisClass.e2xml.settings.properties.connectorMinYpos!=null){thisClass.connectorMinYpos=thisClass.e2xml.settings.properties.connectorMinYpos;}if(thisClass.e2xml.settings.properties.connectorMaxXpos!=null){thisClass.connectorMaxXpos=thisClass.e2xml.settings.properties.connectorMaxXpos;}if(thisClass.e2xml.settings.properties.connectorMaxXpos!=null){thisClass.connectorMaxXpos=thisClass.e2xml.settings.properties.connectorMaxXpos;}};this.calculateDimensions=function(startx,starty,endx,endy,delta){var dim;if(thisClass.wayPoints.length!=0){var waypointCollection=thisClass.wayPoints;if(thisClass.undoFlag){var undoarr=new Array();var undo=new MF_UndoDAO();undo.propObjectUndo(thisClass,"ecoordinates",thisClass.ecoordinates);undoarr.push(undo);var undo=new MF_UndoDAO();var wayPoints=thisClass.wayPoints;if(typeof(thisClass.wayPoints)!="string"){wayPoints=JSON.stringify(thisClass.wayPoints);}undo.propArrayUndo(thisClass,"wayPoints",wayPoints);undoarr.push(undo);var undoObj=new MF_UndoDAO();var meta=new MF_MetaUndo(undoarr);undoObj.metaUndo(meta);MF_ChangeManager.addUndo(undoObj);MF_ChangeManager.CHANGED(true);thisClass.undoFlag=false;}if(thisClass.isComponentMoved){var xdiff=Math.round((thisClass.x+thisClass.delta)-thisClass.connectorMinXpos);var ydiff=Math.round((thisClass.y+thisClass.delta)-thisClass.connectorMinYpos);for(var i=0;i<waypointCollection.length;i++){waypointCollection[i].x+=xdiff;waypointCollection[i].y+=ydiff;}thisClass.isComponentMoved=false;}thisClass.connectorMinXpos=thisClass.getWaypointValue(Math.min,thisClass.wayPoints,"x");thisClass.connectorMinYpos=thisClass.getWaypointValue(Math.min,thisClass.wayPoints,"y");thisClass.connectorMaxXpos=thisClass.getWaypointValue(Math.max,thisClass.wayPoints,"x");thisClass.connectorMaxYpos=thisClass.getWaypointValue(Math.max,thisClass.wayPoints,"y");dim=MF_Utils.calculateDimensions(thisClass.connectorMinXpos,thisClass.connectorMinYpos,thisClass.connectorMaxXpos,thisClass.connectorMaxYpos,thisClass.delta);dim.startx,thisClass.startX=thisClass.wayPoints[0].x;dim.starty,thisClass.startY=thisClass.wayPoints[0].y;dim.endx,thisClass.endX=thisClass.wayPoints[thisClass.wayPoints.length-1].x;dim.endy,thisClass.endY=thisClass.wayPoints[thisClass.wayPoints.length-1].y;}else{dim=MF_Utils.calculateDimensions(thisClass.startX,thisClass.startY,thisClass.endX,thisClass.endY,thisClass.delta);}return dim;};thisClass.render=function(redraw){if(thisClass.GENONLY){return;}if(!thisClass.RENDER){return;}if(redraw==null){redraw=true;}thisClass.getValues();thisClass.delta=2*(thisClass.arrowThickness/15)+(4*thisClass.arrowThickness);var rectDim=thisClass.calculateDimensions(thisClass.startX,thisClass.startY,thisClass.endX,thisClass.endY,thisClass.delta);thisClass.startType=rectDim.startType;var cvsCode="";var cwidth=rectDim.width+(thisClass.delta*2);var cheight=rectDim.height+(thisClass.delta*2);var ctop=rectDim.y-thisClass.delta;var cleft=rectDim.x-thisClass.delta;thisClass.x=cleft;thisClass.y=ctop;thisClass.width=cwidth;thisClass.height=cheight;var arrowHeadStartObj=thisClass.arrowHeadStartData[thisClass.arrowHeadStart];var arrowHeadEndObj=thisClass.arrowHeadEndData[thisClass.arrowHeadEnd];if(redraw){$("#"+thisClass.eid).remove();$(".transformPathHandle").remove();var arrsvg='<div id="'+thisClass.eid+'" class="mfWFCompCls mfArrowPathCls" width="'+(cwidth).toString()+'" height="'+(cheight).toString()+'" style="-webkit-transform: translateZ(0);  pointer-events: none; position:absolute; width:'+(cwidth).toString()+"px; height:"+(cheight).toString()+"px; top:"+(ctop).toString()+"px; left:"+(cleft).toString()+'px">';if(!mf_main.RENDER){arrsvg=arrsvg+'<svg style="width: 100%;height: 100%;"><defs><marker id="'+thisClass.eid+'_startarrow" markerWidth="10" markerHeight="7" refX="1.8" refY="3.4" orient="auto"></marker><marker id="'+thisClass.eid+'_endarrow" markerWidth="10" markerHeight="7" refX="6" refY="3.4" orient="auto" markerUnits="strokeWidth"></marker></defs><path class="mfNodeConnectorPath" fill="none" style="stroke:#bdcfde; stroke-width: 2px; fill: none;"/><g class="splitter" xmlns="http://www.w3.org/2000/svg" fill="black"></svg></g>';arrsvg=arrsvg+"</div>";}if(mf_main.RENDER){arrsvg=arrsvg+'<svg style="width: 100%;height: 100%;"><defs>';if(arrowHeadEndObj.arrowHeadElement!="noArrowRight"){arrsvg=arrsvg+'<marker id="'+thisClass.eid+'_endarrow" markerWidth="10" markerHeight="7" refX="6" refY="3.4" orient="auto" markerUnits="strokeWidth">'+arrowHeadEndObj.arrowHeadElement+"</marker>";}if(arrowHeadStartObj.arrowHeadElement!="noArrowLeft"){arrsvg=arrsvg+'<marker id="'+thisClass.eid+'_startarrow" markerWidth="10" markerHeight="7" refX="1.8" refY="3.4" orient="auto">'+arrowHeadStartObj.arrowHeadElement+"</marker>";}arrsvg=arrsvg+'</defs><path class="mfNodeConnectorPath" fill="none" style="stroke:#bdcfde; stroke-width: 2px; fill: none;"/><g class="splitter" xmlns="http://www.w3.org/2000/svg" fill="black"></g><svg/>';arrsvg=arrsvg+"</div>";}arrsvg=arrsvg+"</div>";$("#mfPage"+mf_main.editorController.page.eid).append(arrsvg);try{mf_main.editorController.postAddToPage(thisClass.eid);}catch(e){}}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);$("#"+thisClass.eid).css("width",thisClass.width);$("#"+thisClass.eid).css("height",thisClass.height);}if(thisClass.wayPoints.length==0){var pathAxis;pathAxis=rectDim.startx+","+rectDim.starty+" "+rectDim.startx+","+rectDim.endy+" "+rectDim.endx+","+rectDim.endy;$("#"+thisClass.eid+" svg").find(".mfNodeConnectorPath").attr("d","M"+pathAxis);var wayPointId1=mf_main.editorController.guidGenerator();var wayPointId2=mf_main.editorController.guidGenerator();var wayPointId3=mf_main.editorController.guidGenerator();var offsetStartX=Math.round(rectDim.startx+cleft);var offsetStartY=Math.round(rectDim.starty+ctop);var offsetEndX=Math.round(rectDim.endx+cleft);var offsetEndY=Math.round(rectDim.endy+ctop);thisClass.wayPoints.push({x:offsetStartX,y:offsetStartY,id:wayPointId1},{x:offsetStartX,y:offsetEndY,id:wayPointId2},{x:offsetEndX,y:offsetEndY,id:wayPointId3});thisClass.connectorMinXpos=thisClass.getWaypointValue(Math.min,thisClass.wayPoints,"x");thisClass.connectorMinYpos=thisClass.getWaypointValue(Math.min,thisClass.wayPoints,"y");thisClass.updateDragPoints();thisClass.e2xml.addPropSingle("wayPoints",JSON.stringify(thisClass.wayPoints),"default");}else{if(!redraw&&!mf_main.editorController.isDrag&&mf_main.editorController.transformDrag&&mf_main.editorController.selectorTransformStart&&thisClass.wayPoints.length>1&&mf_main.editorController.transformDragType=="start"){var fwaypoint1=thisClass.wayPoints[0];var fwaypoint2=thisClass.wayPoints[1];if(thisClass.wayPoints.length>2){if(fwaypoint1.x==fwaypoint2.x){fwaypoint1.x=Math.round(mf_main.editorController.selectorTransformStart.x);fwaypoint2.x=Math.round(mf_main.editorController.selectorTransformStart.x);fwaypoint1.y=Math.round(mf_main.editorController.selectorTransformStart.y);}if(fwaypoint1.y==fwaypoint2.y){fwaypoint1.y=Math.round(mf_main.editorController.selectorTransformStart.y);fwaypoint2.y=Math.round(mf_main.editorController.selectorTransformStart.y);fwaypoint1.x=Math.round(mf_main.editorController.selectorTransformStart.x);}thisClass.removeDuplicateWaypoints(thisClass.wayPoints,fwaypoint1,fwaypoint2);}else{if(thisClass.wayPoints.length=2){var refStartX=Math.round(mf_main.editorController.selectorTransformStart.x);var refStartY=Math.round(mf_main.editorController.selectorTransformStart.y);var newWaypointId1=mf_main.editorController.guidGenerator();var newWaypointId2=mf_main.editorController.guidGenerator();var test=$.extend(true,[],(thisClass.wayPoints));if(fwaypoint1.x==fwaypoint2.x&&fwaypoint1.y!=fwaypoint2.y&&(fwaypoint1.x!=Math.round(refStartX))&&Math.abs((fwaypoint1.x)-Math.round(refStartX))>5){thisClass.wayPoints.shift();thisClass.wayPoints.unshift({x:Math.round(refStartX),y:Math.round(refStartY),id:newWaypointId1},{x:fwaypoint1.x,y:Math.round(refStartY),id:newWaypointId2});}else{if(fwaypoint1.y==fwaypoint2.y&&fwaypoint1.x!=fwaypoint2.x&&(fwaypoint1.y!=Math.round(refStartY))&&Math.abs((fwaypoint1.y)-Math.round(refStartY))>5){thisClass.wayPoints.shift();thisClass.wayPoints.unshift({x:Math.round(refStartX),y:Math.round(refStartY),id:newWaypointId1},{x:Math.round(refStartX),y:fwaypoint1.y,id:newWaypointId2});}else{if((fwaypoint1.x==fwaypoint2.x)&&fwaypoint1.y!=fwaypoint2.y){fwaypoint1.y=refStartY;}else{if((fwaypoint1.y==fwaypoint2.y)&&fwaypoint1.x!=fwaypoint2.x){fwaypoint1.x=refStartX;}else{if((fwaypoint1.y==fwaypoint2.y)&&fwaypoint1.x==fwaypoint2.x){thisClass.wayPoints.shift();thisClass.wayPoints.unshift({x:Math.round(refStartX),y:Math.round(refStartY),id:newWaypointId1},{x:Math.round(refStartX),y:fwaypoint1.y,id:newWaypointId2});}}}}}}}}else{if(!redraw&&!mf_main.editorController.isDrag&&mf_main.editorController.transformDrag&&mf_main.editorController.selectorTransformEnd&&thisClass.wayPoints.length>1&&mf_main.editorController.transformDragType=="end"){var lwaypoint1=thisClass.wayPoints[thisClass.wayPoints.length-1];var lwaypoint2=thisClass.wayPoints[thisClass.wayPoints.length-2];if(thisClass.wayPoints.length>2){if(lwaypoint1.x==lwaypoint2.x){lwaypoint1.x=Math.round(mf_main.editorController.selectorTransformEnd.x);lwaypoint2.x=Math.round(mf_main.editorController.selectorTransformEnd.x);lwaypoint1.y=Math.round(mf_main.editorController.selectorTransformEnd.y);}if(lwaypoint1.y==lwaypoint2.y){lwaypoint1.y=Math.round(mf_main.editorController.selectorTransformEnd.y);lwaypoint2.y=Math.round(mf_main.editorController.selectorTransformEnd.y);lwaypoint1.x=Math.round(mf_main.editorController.selectorTransformEnd.x);}thisClass.removeDuplicateWaypoints(thisClass.wayPoints,lwaypoint1,lwaypoint2);}else{if(thisClass.wayPoints.length=2){var refEndX=Math.round(mf_main.editorController.selectorTransformEnd.x);var refEndY=Math.round(mf_main.editorController.selectorTransformEnd.y);var newWaypointId1=mf_main.editorController.guidGenerator();var newWaypointId2=mf_main.editorController.guidGenerator();if(lwaypoint1.x==lwaypoint2.x&&lwaypoint1.y!=lwaypoint2.y&&lwaypoint1.x!=Math.round(refEndX)&&Math.abs((lwaypoint1.x)-Math.round(refEndX))>5){thisClass.wayPoints.pop();thisClass.wayPoints.push({x:lwaypoint1.x,y:Math.round(refEndY),id:newWaypointId1},{x:Math.round(refEndX),y:Math.round(refEndY),id:newWaypointId2});}else{if(lwaypoint1.y==lwaypoint2.y&&lwaypoint1.x!=lwaypoint2.x&&lwaypoint1.x!=Math.round(refEndY)&&Math.abs((lwaypoint1.y)-Math.round(refEndY))>5){thisClass.wayPoints.pop();thisClass.wayPoints.push({x:Math.round(refEndX),y:lwaypoint1.y,id:newWaypointId1},{x:Math.round(refEndX),y:Math.round(refEndY),id:newWaypointId2});}else{if((lwaypoint1.x==lwaypoint2.x)&&lwaypoint1.y!=lwaypoint2.y){lwaypoint1.y=refEndY;}else{if((lwaypoint1.y==lwaypoint2.y)&&lwaypoint1.x!=lwaypoint2.x){lwaypoint1.x=refEndX;}else{if((lwaypoint1.y==lwaypoint2.y)&&lwaypoint1.x==lwaypoint2.x){thisClass.wayPoints.pop();thisClass.wayPoints.push({x:Math.round(refEndX),y:lwaypoint1.y,id:newWaypointId1},{x:Math.round(refEndX),y:Math.round(refEndY),id:newWaypointId2});}}}}}}}}else{if(!redraw&&!mf_main.editorController.isDrag&&mf_main.editorController.transformDrag&&mf_main.editorController.selectorTransformPath&&thisClass.wayPoints.length>1&&mf_main.editorController.transformDragType=="path"){thisClass.resizeConnectorPath();}}}thisClass.updateArrowPath();}if(thisClass.arrowStyle=="solid"){$("#"+thisClass.eid+" svg").find(".mfNodeConnectorPath").removeAttr("stroke-dasharray");}else{if(thisClass.arrowStyle=="dotted"){$("#"+thisClass.eid+" svg").find(".mfNodeConnectorPath").attr("stroke-dasharray",""+thisClass.arrowThickness+",2");}else{if(thisClass.arrowStyle=="dashed"){$("#"+thisClass.eid+" svg").find(".mfNodeConnectorPath").attr("stroke-dasharray",""+(thisClass.arrowThickness*2)+",4");}}}var thickness=parseInt(thisClass.arrowThickness);$("#"+thisClass.eid+" svg").find(".mfNodeConnectorPath").css("stroke-width",thickness+"px");$("#"+thisClass.eid+" svg").find(".mfNodeConnectorPath").attr("marker-start","");$("#"+thisClass.eid+" svg").find(".mfNodeConnectorPath").attr("marker-end","");$("#"+thisClass.eid+" svg").find(".mfNodeConnectorPath").css("stroke",thisClass.arrowColor);$("#"+thisClass.eid+" svg").find("polygon").attr("fill",thisClass.arrowColor);if(arrowHeadStartObj.arrowHeadElement!="noArrowLeft"){$("#"+thisClass.eid+" svg").find(".mfNodeConnectorPath").attr("marker-start","url(#"+thisClass.eid+"_startarrow)");$("#"+thisClass.eid+"_startarrow").attr("stroke-width","0.6");$("#"+thisClass.eid+"_startarrow").attr("stroke-dasharray","100%");if(!mf_main.RENDER){$("#"+thisClass.eid+"_startarrow").html(arrowHeadStartObj.arrowHeadElement);}if(arrowHeadStartObj.isOutline){$("#"+thisClass.eid+"_startarrow").children().attr({stroke:thisClass.arrowColor,fill:"#fff"});}else{$("#"+thisClass.eid+"_startarrow").children().attr({stroke:thisClass.arrowColor,fill:thisClass.arrowColor});if(arrowHeadStartObj.isFillTransparent){$("#"+thisClass.eid+"_startarrow").children().attr({stroke:thisClass.arrowColor,fill:"transparent"});}else{$("#"+thisClass.eid+"_startarrow").attr("stroke-width","0");}}}if(arrowHeadEndObj.arrowHeadElement!="noArrowRight"){$("#"+thisClass.eid+" svg").find(".mfNodeConnectorPath").attr("marker-end","url(#"+thisClass.eid+"_endarrow)");if(!mf_main.RENDER){$("#"+thisClass.eid+"_endarrow").html(arrowHeadEndObj.arrowHeadElement);}$("#"+thisClass.eid+"_endarrow").attr("stroke-width","0.6");$("#"+thisClass.eid+"_endarrow").attr("stroke-dasharray","100%");if(arrowHeadEndObj.isOutline){$("#"+thisClass.eid+"_endarrow").children().attr({stroke:thisClass.arrowColor,fill:"#fff"});}else{$("#"+thisClass.eid+"_endarrow").children().attr({stroke:thisClass.arrowColor,fill:thisClass.arrowColor});if(arrowHeadEndObj.isFillTransparent){$("#"+thisClass.eid+"_endarrow").children().attr({stroke:thisClass.arrowColor,fill:"transparent"});}else{$("#"+thisClass.eid+"_endarrow").attr("stroke-width","0");}}}MF_ComponentUtils.setComponentShadowImageCSS(thisClass.eid+" svg",thisClass.shadowType);thisClass.e2xml.addPropSingle("connectorMinXpos",thisClass.connectorMinXpos,"default");thisClass.e2xml.addPropSingle("connectorMinYpos",thisClass.connectorMinYpos,"default");thisClass.e2xml.addPropSingle("connectorMaxXpos",thisClass.connectorMaxXpos,"default");thisClass.e2xml.addPropSingle("connectorMaxYpos",thisClass.connectorMaxYpos,"default");if(thisClass.selector){thisClass.selector.transform(thisClass);}};this.updateDragPoints=function(){var waypointCollection=thisClass.wayPoints;thisClass.dragReference=new Object();thisClass.dragPoints=new Array();for(var i=0;i<waypointCollection.length-1;i++){var id=waypointCollection[i].id;thisClass.dragReference[id]=[waypointCollection[i].id,waypointCollection[i+1].id];}$.each(thisClass.dragReference,function(index,val){var node=thisClass.dragReference[index];var nodeAIndx=MF_Utils.searchObjArray(waypointCollection,"id",node[0]);var nodeBIndx=MF_Utils.searchObjArray(waypointCollection,"id",node[1]);var nodeA=waypointCollection[nodeAIndx];var nodeB=waypointCollection[nodeBIndx];if(nodeA.y==nodeB.y){var val;if(nodeA.x>nodeB.x){val=((nodeA.x-nodeB.x)/2)+nodeB.x;}else{val=((nodeB.x-nodeA.x)/2)+nodeA.x;}thisClass.dragPoints.push({x:val,y:nodeA.y,id:index});}if(nodeA.x==nodeB.x){var val;if(nodeA.y>nodeB.y){val=((nodeA.y-nodeB.y)/2)+nodeB.y;}else{val=((nodeB.y-nodeA.y)/2)+nodeA.y;}thisClass.dragPoints.push({x:nodeA.x,y:val,id:index});}});if(thisClass.selector&&mf_main.editorController.selectorTransformPath&&!mf_main.editorController.transformDrag){mf_main.editorController.addSelectorTransform(thisClass.selector);thisClass.selectedDragId=null;}else{$(".transformPathHandle").remove();}};this.resizeConnectorPath=function(){try{var dragdata=thisClass.dragReference;var waypointCollection=thisClass.wayPoints;if(thisClass.selectedDragId&&dragdata[thisClass.selectedDragId]&&waypointCollection.length>1){var nodeAID=dragdata[thisClass.selectedDragId][0];var nodeBID=dragdata[thisClass.selectedDragId][1];nodeAIndx=MF_Utils.searchObjArray(waypointCollection,"id",nodeAID);nodeBIndx=MF_Utils.searchObjArray(waypointCollection,"id",nodeBID);nodeA=waypointCollection[nodeAIndx];nodeB=waypointCollection[nodeBIndx];var waypoint1=$.extend(true,{},(nodeA));var waypoint2=$.extend(true,{},(nodeB));var wayptref=$.extend(true,[],(waypointCollection));if(waypoint1.x==waypoint2.x){waypointCollection[nodeAIndx].x=Math.round(thisClass.mouseX);waypointCollection[nodeBIndx].x=Math.round(thisClass.mouseX);}if(waypoint1.y==waypoint2.y){waypointCollection[nodeAIndx].y=Math.round(thisClass.mouseY);waypointCollection[nodeBIndx].y=Math.round(thisClass.mouseY);}if(nodeAIndx==0){var id=mf_main.editorController.guidGenerator();waypoint1.id=mf_main.editorController.guidGenerator();dragdata[id]=[waypoint1.id,nodeA.id];waypointCollection.unshift(waypoint1);}else{if(nodeAIndx==waypointCollection.length-1){var id=mf_main.editorController.guidGenerator();waypoint1.id=id;dragdata[id]=[waypoint1.id,nodeA.id];waypointCollection.push(waypoint1);}}if(nodeBIndx==0){var id=mf_main.editorController.guidGenerator();waypoint2.id=id;dragdata[id]=[waypoint2.id,nodeB.id];waypointCollection.unshift(waypoint2);}else{if(nodeBIndx==waypointCollection.length-1){var id=mf_main.editorController.guidGenerator();waypoint2.id=id;dragdata[id]=[waypoint2.id,nodeB.id];waypointCollection.push(waypoint2);}}thisClass.removeDuplicateWaypoints(wayptref,nodeA,nodeB);}}catch(e){console.log("Error in ArrowPath");}};this.removeDuplicateWaypoints=function(wayptref,nodeA,nodeB){var waypointCollection=thisClass.wayPoints;if(waypointCollection.length>2){for(var i=0;i<wayptref.length;i++){var indexA=MF_Utils.searchObjArray(wayptref,"id",nodeA.id);if((wayptref[i].id!=nodeA.id)&&((Math.abs((wayptref[i].x)-(nodeA.x))==0)&&(Math.abs((wayptref[i].y)-(nodeA.y))==0)&&Math.abs(i-indexA)==1)){var index=MF_Utils.searchObjArray(waypointCollection,"id",wayptref[i].id);if(index!=-1&&index!=0&&index!=wayptref.length-1){waypointCollection.splice(index,1);}var index=MF_Utils.searchObjArray(waypointCollection,"id",nodeA.id);if(index!=0&&index!=wayptref.length-1){waypointCollection.splice(index,1);}}var indexB=MF_Utils.searchObjArray(wayptref,"id",nodeB.id);if((wayptref[i].id!=nodeB.id)&&((Math.abs((wayptref[i].x)-(nodeB.x))==0)&&(Math.abs((wayptref[i].y)-(nodeB.y))==0)&&Math.abs(i-indexB)==1)){var index=MF_Utils.searchObjArray(waypointCollection,"id",wayptref[i].id);if(index!=-1&&index!=0&&index!=wayptref.length-1){waypointCollection.splice(index,1);}var index=MF_Utils.searchObjArray(waypointCollection,"id",nodeB.id);if(index!=-1&&index!=0&&index!=wayptref.length-1){waypointCollection.splice(indexB,1);}}}}};this.updateArrowPath=function(){try{var pathdata;var waypointCollection=thisClass.wayPoints;var wayptref=$.extend(true,[],(waypointCollection));if(waypointCollection.length>2){if(wayptref[0].x!=wayptref[1].x&&wayptref[0].y!=wayptref[1].y){waypointCollection.splice(0,1);}if(wayptref[wayptref.length-1].x!=wayptref[wayptref.length-2].x&&wayptref[wayptref.length-1].y!=wayptref[wayptref.length-2].y){waypointCollection.splice(waypointCollection.length-1,1);}}if(thisClass.selector&&mf_main.editorController.selectorTransformPath&&!mf_main.editorController.transformDrag){var minValue=thisClass.arrowThickness*7;if(waypointCollection.length>2){if((wayptref[0].y==wayptref[1].y)&&Math.abs(wayptref[0].x-wayptref[1].x)<eval(thisClass.arrowHeadStart=="noArrowLeft"?10:minValue)){waypointCollection.splice(0,1);}else{if((wayptref[0].x==wayptref[1].x)&&Math.abs(wayptref[0].y-wayptref[1].y)<eval(thisClass.arrowHeadStart=="noArrowLeft"?10:minValue)){waypointCollection.splice(0,1);}}}if(waypointCollection.length>2){if((wayptref[wayptref.length-1].x==wayptref[wayptref.length-2].x)&&Math.abs(wayptref[wayptref.length-1].y-wayptref[wayptref.length-2].y)<eval(thisClass.arrowHeadEnd=="noArrowRight"?10:minValue)){waypointCollection.splice(waypointCollection.length-1,1);}else{if((wayptref[wayptref.length-1].y==wayptref[wayptref.length-2].y)&&Math.abs(wayptref[wayptref.length-1].x-wayptref[wayptref.length-2].x)<eval(thisClass.arrowHeadEnd=="noArrowRight"?10:minValue)){waypointCollection.splice(waypointCollection.length-1,1);}}}thisClass.startX=thisClass.wayPoints[0].x;thisClass.startY=thisClass.wayPoints[0].y;thisClass.endX=thisClass.wayPoints[thisClass.wayPoints.length-1].x;thisClass.endY=thisClass.wayPoints[thisClass.wayPoints.length-1].y;}for(var i=0;i<waypointCollection.length;i++){if(i==0){pathdata=(waypointCollection[i].x-thisClass.x)+","+(waypointCollection[i].y-thisClass.y);}else{pathdata+=" "+(waypointCollection[i].x-thisClass.x)+","+(waypointCollection[i].y-thisClass.y);}}if(pathdata){$("#"+thisClass.eid+" svg").find(".mfNodeConnectorPath").attr("d","M"+pathdata);}thisClass.updateDragPoints();thisClass.e2xml.addPropSingle("wayPoints",JSON.stringify(thisClass.wayPoints),"default");}catch(e){console.log("Error in ArrowPath");}};this.getWaypointValue=function(cmd,arr,key){var val=arr[0][key];for(var i=1;i<arr.length;i++){val=cmd(val,arr[i][key]);}return val;};}function MF_ArrowPathSettings(){var thisClass=this;thisClass.eid=mf_main.editorController.guidGenerator();thisClass.transformLock=false;thisClass.component=null;thisClass.selector=null;thisClass.RENDERDOM=true;thisClass.showSetting=true;thisClass.linkSettings=null;thisClass.shadowSettings=null;thisClass.remove=function(delSet){$("#"+thisClass.eid).hide();if(delSet){try{if(mf_main.MEMFREE){if($("#mfArrowThickness_"+thisClass.eid).data("kendoNumericTextBox")){$("#mfArrowThickness_"+thisClass.eid).data("kendoNumericTextBox").destroy();}if($("#mfArrowStyle_"+thisClass.eid).data("kendoDropDownList")){$("#mfArrowStyle_"+thisClass.eid).data("kendoDropDownList").destroy();}thisClass.shadowSettings.remove();}}catch(e){console.log("error occured in the component MF_ArrowPath.js");}mf_main.editorController.removeSelectorTransform();$("#"+thisClass.eid).remove();}};thisClass.setValues=function(){if(thisClass.RENDERDOM){thisClass.render();thisClass.shadowSettings=new MF_ShadowSettings();thisClass.shadowSettings.init(thisClass);}else{thisClass.shadowSettings.init(thisClass);thisClass.setupEvents();$("#"+thisClass.eid).show();}};thisClass.updateTransform=function(noscale){};thisClass.setupEvents=function(){if(thisClass.RENDERDOM){MF_ComponentSettingUtils.setupToggle(thisClass);$("#mfArrowColor_"+thisClass.eid).spectrum({showInput:true,preferredFormat:"hex6",showPalette:true,showSelectionPalette:true,palette:[MF_ComponentUtils.commonPallete()],show:function(color){mf_main.editorController.shortcutsFlag=false;},hide:function(color){mf_main.editorController.shortcutsFlag=true;},change:function(color){color=MF_Utils.RGBToHex(color.toRgbString());thisClass.component.e2xml.addPropSingle("arrowColor",color);thisClass.component.render(false);}});$("#mfArrowThickness_"+thisClass.eid).focusin(function(){mf_main.editorController.disableShortcuts();});$("#mfArrowThickness_"+thisClass.eid).focusout(function(){mf_main.editorController.enableShortcuts();});$("#mfArrowThickness_"+thisClass.eid).kendoNumericTextBox({format:"#",spinners:true,spin:onArrowThicknessChange,decimals:0});$("#mfArrowThickness_"+thisClass.eid).focus(function(){$("#mfArrowThickness_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onArrowThicknessChange);$("#mfArrowThickness_"+thisClass.eid).data("kendoNumericTextBox").bind("change",onArrowThicknessChange);});$("#mfArrowStyle_"+thisClass.eid).kendoDropDownList({select:onArrowStyleSelect});$("#mfArrowStartDropdown,#mfArrowEndDropdown").on("shown.bs.dropdown",function(){$(".mfCustomDropDownInt"+thisClass.eid).scrollTop(0);});var markerStartData=thisClass.component.arrowHeadStartData;$("#mfArrowHeadStart_"+thisClass.eid).empty();$.each(markerStartData,function(index,val){$("#mfArrowHeadStart_"+thisClass.eid).append('<li class="dropdown-item arrowHeadSelectorItem" data-value="'+val.arrowType+'"><svg style="width:80px;height: 24px;"><defs><marker id="'+val.arrowType+'" markerWidth="10" markerHeight="7" refX="5" refY="3.4" orient="auto" markerUnits="strokeWidth">'+val.arrowHeadElement+'</marker></defs><line x1="'+eval(val.arrowType=="noArrowLeft"?10:15)+'" y1="15" x2="80" y2="15" style="stroke:#7A7A7A;stroke-width:1.8" marker-start="url(#'+val.arrowType+')"></line></svg></li>');});var markerEndData=thisClass.component.arrowHeadEndData;$("#mfArrowHeadEnd_"+thisClass.eid).empty();$.each(markerEndData,function(index,val){$("#mfArrowHeadEnd_"+thisClass.eid).append('<li class="dropdown-item arrowHeadSelectorItem" data-value="'+val.arrowType+'"><svg style="width:82px;height: 24px;"><defs><marker id="'+val.arrowType+'" markerWidth="10" markerHeight="7" refX="5" refY="3.4" orient="auto" markerUnits="strokeWidth">'+val.arrowHeadElement+'</marker></defs><line x1="10" y1="15" x2="77" y2="15" style="stroke:#7A7A7A;stroke-width:1.8" marker-end="url(#'+val.arrowType+')"></line></svg></li>');});$("#mfArrowHeadStart_"+thisClass.eid+" .arrowHeadSelectorItem").click(arrowHeadStartSelect);$("#mfArrowHeadEnd_"+thisClass.eid+" .arrowHeadSelectorItem").click(arrowHeadEndSelect);}if(thisClass.RENDERDOM==true){thisClass.RENDERDOM=false;}$("#mfArrowColor_"+thisClass.eid).spectrum("set",thisClass.component.arrowColor);function onArrowThicknessChange(){$("#mfArrowThickness_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",onArrowThicknessChange);$("#mfclipboard").focus();if(this.value()==""||this.value()==null){if(this.value()!=0&&this.value()!="0"){return;}}var w=this.value();thisClass.component.e2xml.addPropSingle("arrowThickness",w);thisClass.component.render(false);}thisClass.arrowThicknessBox=$("#mfArrowThickness_"+thisClass.eid).data("kendoNumericTextBox");thisClass.arrowThicknessBox.value(thisClass.component.arrowThickness);function arrowHeadStartSelect(e){var arrowType=$(this).attr("data-value");thisClass.component.e2xml.addPropSingle("arrowHeadStart",arrowType);thisClass.component.arrowHeadStart=arrowType;thisClass.component.render(false);updateArrowStartValue();}function updateArrowStartValue(){var arrowStartObj=thisClass.component.arrowHeadStartData[thisClass.component.arrowHeadStart];$("#mfArrowStartValue").html('<svg style="width:90px;height: 24px;margin-left: -5px;"><defs><marker id="'+arrowStartObj.arrowType+'_value" markerWidth="10" markerHeight="7" refX="5" refY="3.4" orient="auto" markerUnits="strokeWidth">'+arrowStartObj.arrowHeadElement+'</marker></defs><line x1="'+eval(arrowStartObj.arrowType=="noArrowLeft"?5:10)+'" y1="6" x2="75" y2="6" style="stroke:#7A7A7A;stroke-width:1.8" marker-start="url(#'+arrowStartObj.arrowType+'_value)"></line></svg>');}updateArrowStartValue();function arrowHeadEndSelect(e){var arrowType=$(this).attr("data-value");thisClass.component.e2xml.addPropSingle("arrowHeadEnd",arrowType);thisClass.component.arrowHeadEnd=arrowType;thisClass.component.render(false);updateArrowEndValue();}function updateArrowEndValue(){var arrowEndObj=thisClass.component.arrowHeadEndData[thisClass.component.arrowHeadEnd];$("#mfArrowEndValue").html('<svg style="width:90px;height: 24px;margin-left: -5px;"><defs><marker id="'+arrowEndObj.arrowType+'_value" markerWidth="10" markerHeight="7" refX="5" refY="3.4" orient="auto" markerUnits="strokeWidth">'+arrowEndObj.arrowHeadElement+'</marker></defs><line x1="5" y1="6" x2="75" y2="6" style="stroke:#7A7A7A;stroke-width:1.8" marker-end="url(#'+arrowEndObj.arrowType+'_value)"></line></svg>');}updateArrowEndValue();var arrowStyleDropdown=$("#mfArrowStyle_"+thisClass.eid).data("kendoDropDownList");if(thisClass.component.arrowStyle=="solid"){arrowStyleDropdown.select(0);}if(thisClass.component.arrowStyle=="dashed"){arrowStyleDropdown.select(1);}if(thisClass.component.arrowStyle=="dotted"){arrowStyleDropdown.select(2);}function onArrowStyleSelect(e){var atype="solid";if(e.item.index()==0){atype="solid";}if(e.item.index()==1){atype="dashed";}if(e.item.index()==2){atype="dotted";}thisClass.component.e2xml.addPropSingle("arrowStyle",atype);thisClass.component.render(false);}};thisClass.render=function(redraw){if(redraw==null){redraw=true;}var htmlCode="";if(redraw){$("#"+thisClass.eid).remove();htmlCode=multiline(function(){
/*!
				
					
					<div class="mfComponentSetting" id="{{eid}}" style=" position: relative; display: none; width:250px; height: 600px; overflow: hidden; " >
					<div  style="overflow: hidden;  width:100%; height: 100%;" >
					
						
						<div id="{{eid}}_link"  style="overflow: hidden; width:100%; " >
							
						</div>
						
					
						<div id="{{eid}}_builtin"  style=" width:100%; " >
					
								<div id="{{eid}}_settingToggle"  class="mfImgLink mfSettingsToggleBtn" style=" " >
				
									<div style="float: left; width: 185px; padding-left: 5px;">Arrow</div>
									
									<div style="float: left; width: 50px; text-align: right;">
										<span id="{{eid}}_settingToggleHide"  style="display: none; font-size: 20px;" class="ico-angle-right"></span>
										<span id="{{eid}}_settingToggleShow"  style="font-size: 20px;" class="ico-angle-down"></span>
									</div>
								</div>
								
								
										
								<div id="{{eid}}_partSetting" class="arrowPathSettings" style="position: relative; width:100%; height: 260px;">
											
											
											<div style="position: absolute; left: 10px; top: 20px;">Start Arrow:</div>
			


								<div style="position: absolute; left: 100px; top: 14px;" class="btn-group" id="mfArrowStartDropdown">
								 
								  <a class="btn dropdown-toggle" data-toggle="dropdown" style="width: 115px;height: 28px;border-radius: 4px !important;padding:7px 12px;">
								  	<div id="mfArrowStartValue"></div>
								  	<span class="caret" style="position: absolute;right: 6px;top: 11px;color:#4f4f4f;"></span>
								  </a>
								  
								  <ul id="mfArrowHeadStart_{{eid}}" class="dropdown-menu mfCustomDropDown mfCustomDropDownInt{{eid}}">
								  </ul>
								</div>

										 
										 <div style="position: absolute; left: 10px; top: 69px;">End Arrow:</div>
										 
										 <div style="position: absolute; left: 100px; top: 64px;" class="btn-group" id="mfArrowEndDropdown">
								 
										  <a class="btn dropdown-toggle" data-toggle="dropdown" style="width: 115px;height: 28px;border-radius: 4px !important; padding:7px 12px;">
										  	<div id="mfArrowEndValue"></div>
										  	<span class="caret" style="position: absolute;right: 6px;top: 11px;color:#4f4f4f;"></span>
										  </a>
										  
										  <ul id="mfArrowHeadEnd_{{eid}}" class="dropdown-menu mfCustomDropDown mfCustomDropDownInt{{eid}}">
										  </ul>
										</div>
										 
										 <div style="position: absolute; left: 10px; top: 118px;">Arrow Style:</div>
			
										 <select style="position: absolute;left: 100px; top: 114px; width: 115px;" id="mfArrowStyle_{{eid}}">
										 <option>Solid</option>
										 <option>Dashed</option>
										 <option>Dotted</option>
										 </select>								
								
											<div style="position: absolute; left: 10px; top: 168px;">Thickness:</div>
											<div style="position: absolute;left: 100px; top: 164px; width: 115px;"><input style="width: 70px;" id="mfArrowThickness_{{eid}}" type="number" value="2" min="1" max="10" step="1" /></div>
											
								
											<div style="position: absolute; left: 10px; top: 220px;">Color:</div>
											<div  style='position: absolute;left: 100px; top: 214px; width: 100px;' ><input  id='mfArrowColor_{{eid}}' style='width: 100px;' type='text'  /></div>
						
											
								</div>
						</div>
						
						
						
						<div id="{{eid}}_shadow"  style="overflow: hidden; width:100%; " >
							
						</div>
					
					
					
					</div></div>
					 
				
				*/
console.log;});var compiled_template=Handlebars.compile(htmlCode);var context={eid:thisClass.eid};var compiled_code=compiled_template(context);$("#mfComponentSettings").append(compiled_code);thisClass.setupEvents();$("#"+thisClass.eid).show();}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);}};}